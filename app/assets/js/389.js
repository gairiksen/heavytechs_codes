(self.webpackChunkmarketplace_template_poc=self.webpackChunkmarketplace_template_poc||[]).push([[389],{2567:function(N){N.exports=function(r){if(typeof r!="number"||isNaN(r))throw new TypeError("Expected a number, got "+typeof r);var i=r<0,s=["B","KB","MB","GB","TB","PB","EB","ZB","YB"];if(i&&(r=-r),r<1)return(i?"-":"")+r+" B";var b=Math.min(Math.floor(Math.log(r)/Math.log(1024)),s.length-1);r=Number(r/Math.pow(1024,b));var c=s[b];return r>=10||r%1==0?(i?"-":"")+r.toFixed(0)+" "+c:(i?"-":"")+r.toFixed(1)+" "+c}},5251:function(N,X,r){function i(){return i=Object.assign||function(k){for(var l=1;l<arguments.length;l++){var S=arguments[l];for(var h in S)Object.prototype.hasOwnProperty.call(S,h)&&(k[h]=S[h])}return k},i.apply(this,arguments)}var s=r(4628),b=r(5563),c=b.Provider,d=b.RequestClient,f=b.Socket,y=r(125),u=r(8204),A=r(9281),m=r(4478),x=r(767),B=r(757);function U(k,l){return l||(l=new Error("Upload error")),typeof l=="string"&&(l=new Error(l)),l instanceof Error||(l=i(new Error("Upload error"),{data:l})),B(k)?(l=new x(l,k),l):(l.request=k,l)}function T(k){var l=k.data.slice(0,k.data.size,k.meta.type);return l}N.exports=function(){function k(S,h){this.uppy=S,this.opts=i({validateStatus:function(E,_,z){return E>=200&&E<300}},h),this.requests=h.__queue,this.uploaderEvents=Object.create(null),this.i18n=h.i18n}var l=k.prototype;return l._getOptions=function(h){var v=this.uppy,E=v.getState().xhrUpload,_=i({},this.opts,E||{},h.xhrUpload||{},{headers:{}});return i(_.headers,this.opts.headers),E&&i(_.headers,E.headers),h.xhrUpload&&i(_.headers,h.xhrUpload.headers),_},l.uploadFile=function(h,v,E){var _=this.uppy.getFile(h);if(_.error)throw new Error(_.error);return _.isRemote?this._uploadRemoteFile(_,v,E):this._uploadLocalFile(_,v,E)},l._addMetadata=function(h,v,E){var _=Array.isArray(E.metaFields)?E.metaFields:Object.keys(v);_.forEach(function(z){h.append(z,v[z])})},l._createFormDataUpload=function(h,v){var E=new FormData;this._addMetadata(E,h.meta,v);var _=T(h);return h.name?E.append(v.fieldName,_,h.meta.name):E.append(v.fieldName,_),E},l._createBareUpload=function(h,v){return h.data},l._onFileRemoved=function(h,v){this.uploaderEvents[h].on("file-removed",function(E){h===E.id&&v(E.id)})},l._onRetry=function(h,v){this.uploaderEvents[h].on("upload-retry",function(E){h===E&&v()})},l._onRetryAll=function(h,v){var E=this;this.uploaderEvents[h].on("retry-all",function(_){!E.uppy.getFile(h)||v()})},l._onCancelAll=function(h,v){var E=this;this.uploaderEvents[h].on("cancel-all",function(){!E.uppy.getFile(h)||v()})},l._uploadLocalFile=function(h,v,E){var _=this,z=this._getOptions(h);return this.uppy.log("uploading "+v+" of "+E),new Promise(function(H,$){var Q=z.formData?_._createFormDataUpload(h,z):_._createBareUpload(h,z),G=new XMLHttpRequest;_.uploaderEvents[h.id]=new A(_.uppy);var I=new m(z.timeout,function(){G.abort(),M.done();var P=new Error(_.i18n("timedOut",{seconds:Math.ceil(z.timeout/1e3)}));_.uppy.emit("upload-error",h,P),$(P)}),D=s();G.upload.addEventListener("loadstart",function(P){_.uppy.log("[AwsS3/XHRUpload] "+D+" started")}),G.upload.addEventListener("progress",function(P){_.uppy.log("[AwsS3/XHRUpload] "+D+" progress: "+P.loaded+" / "+P.total),I.progress(),P.lengthComputable&&_.uppy.emit("upload-progress",h,{uploader:_,bytesUploaded:P.loaded,bytesTotal:P.total})}),G.addEventListener("load",function(P){if(_.uppy.log("[AwsS3/XHRUpload] "+D+" finished"),I.done(),M.done(),_.uploaderEvents[h.id]&&(_.uploaderEvents[h.id].remove(),_.uploaderEvents[h.id]=null),z.validateStatus(P.target.status,G.responseText,G)){var C=z.getResponseData(G.responseText,G),n=C[z.responseUrlFieldName],g={status:P.target.status,body:C,uploadURL:n};return _.uppy.emit("upload-success",h,g),n&&_.uppy.log("Download "+h.name+" from "+n),H(h)}var R=z.getResponseData(G.responseText,G),e=U(G,z.getResponseError(G.responseText,G)),Z={status:P.target.status,body:R};return _.uppy.emit("upload-error",h,e,Z),$(e)}),G.addEventListener("error",function(P){_.uppy.log("[AwsS3/XHRUpload] "+D+" errored"),I.done(),M.done(),_.uploaderEvents[h.id]&&(_.uploaderEvents[h.id].remove(),_.uploaderEvents[h.id]=null);var C=U(G,z.getResponseError(G.responseText,G));return _.uppy.emit("upload-error",h,C),$(C)}),G.open(z.method.toUpperCase(),z.endpoint,!0),G.withCredentials=z.withCredentials,z.responseType!==""&&(G.responseType=z.responseType),Object.keys(z.headers).forEach(function(P){G.setRequestHeader(P,z.headers[P])});var M=_.requests.run(function(){return G.send(Q),function(){I.done(),G.abort()}},{priority:1});_._onFileRemoved(h.id,function(){M.abort(),$(new Error("File removed"))}),_._onCancelAll(h.id,function(){M.abort(),$(new Error("Upload cancelled"))})})},l._uploadRemoteFile=function(h,v,E){var _=this,z=this._getOptions(h);return new Promise(function(H,$){var Q={},G=Array.isArray(z.metaFields)?z.metaFields:Object.keys(h.meta);G.forEach(function(M){Q[M]=h.meta[M]});var I=h.remote.providerOptions.provider?c:d,D=new I(_.uppy,h.remote.providerOptions);D.post(h.remote.url,i({},h.remote.body,{endpoint:z.endpoint,size:h.data.size,fieldname:z.fieldName,metadata:Q,httpMethod:z.method,useFormData:z.formData,headers:z.headers})).then(function(M){var P=M.token,C=u(h.remote.companionUrl),n=new f({target:C+"/api/"+P,autoOpen:!1});_.uploaderEvents[h.id]=new A(_.uppy),_._onFileRemoved(h.id,function(){n.send("pause",{}),g.abort(),H("upload "+h.id+" was removed")}),_._onCancelAll(h.id,function(){n.send("pause",{}),g.abort(),H("upload "+h.id+" was canceled")}),_._onRetry(h.id,function(){n.send("pause",{}),n.send("resume",{})}),_._onRetryAll(h.id,function(){n.send("pause",{}),n.send("resume",{})}),n.on("progress",function(R){return y(_,R,h)}),n.on("success",function(R){var e=z.getResponseData(R.response.responseText,R.response),Z=e[z.responseUrlFieldName],L={status:R.response.status,body:e,uploadURL:Z};return _.uppy.emit("upload-success",h,L),g.done(),_.uploaderEvents[h.id]&&(_.uploaderEvents[h.id].remove(),_.uploaderEvents[h.id]=null),H()}),n.on("error",function(R){var e=R.response,Z=e?z.getResponseError(e.responseText,e):i(new Error(R.error.message),{cause:R.error});_.uppy.emit("upload-error",h,Z),g.done(),_.uploaderEvents[h.id]&&(_.uploaderEvents[h.id].remove(),_.uploaderEvents[h.id]=null),$(Z)});var g=_.requests.run(function(){return n.open(),h.isPaused&&n.send("pause",{}),function(){return n.close()}})}).catch(function(M){_.uppy.emit("upload-error",h,M),$(M)})})},k}()},4222:function(N,X,r){var i,s;function b(H){if(H===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return H}function c(H,$){H.prototype=Object.create($.prototype),H.prototype.constructor=H,d(H,$)}function d(H,$){return d=Object.setPrototypeOf||function(G,I){return G.__proto__=I,G},d(H,$)}function f(){return f=Object.assign||function(H){for(var $=1;$<arguments.length;$++){var Q=arguments[$];for(var G in Q)Object.prototype.hasOwnProperty.call(Q,G)&&(H[G]=Q[G])}return H},f.apply(this,arguments)}var y=typeof URL=="function"?URL:r(6338),u=r(9046),A=u.Plugin,m=r(9082),x=r(3879),B=r(7875),U=r(9514),T=r(5563),k=T.RequestClient,l=r(8451),S=r(5251),h=r(405);function v(H,$){return H?new y($,H).toString():new y($).toString()}function E(H,$){var Q=H.indexOf("<"+$+">"),G=H.indexOf("</"+$+">",Q);return Q!==-1&&G!==-1?H.slice(Q+$.length+2,G):""}function _(H){if(H&&H.error){var $=new Error(H.message);throw f($,H.error),$}return H}var z=!1;N.exports=(s=i=function(H){c($,H);function $(G,I){var D;D=H.call(this,G,I)||this,D.type="uploader",D.id=D.opts.id||"AwsS3",D.title="AWS S3",D.defaultLocale={strings:{timedOut:"Upload stalled for %{seconds} seconds, aborting."}};var M={timeout:30*1e3,limit:0,metaFields:[],getUploadParameters:D.getUploadParameters.bind(b(D))};return D.opts=f({},M,I),D.i18nInit(),D.client=new k(G,I),D.handleUpload=D.handleUpload.bind(b(D)),D.requests=new x(D.opts.limit),D}var Q=$.prototype;return Q.setOptions=function(I){H.prototype.setOptions.call(this,I),this.i18nInit()},Q.i18nInit=function(){this.translator=new m([this.defaultLocale,this.uppy.locale,this.opts.locale]),this.i18n=this.translator.translate.bind(this.translator),this.setPluginState()},Q.getUploadParameters=function(I){if(!this.opts.companionUrl)throw new Error("Expected a `companionUrl` option containing a Companion address.");var D=I.meta.name,M=I.meta.type,P={};this.opts.metaFields.forEach(function(n){I.meta[n]!=null&&(P[n]=I.meta[n].toString())});var C=l({filename:D,type:M,metadata:P});return this.client.get("s3/params?"+C).then(_)},Q.validateParameters=function(I,D){var M=typeof D=="object"&&D&&typeof D.url=="string"&&(typeof D.fields=="object"||D.fields==null);if(!M){var P=new TypeError("AwsS3: got incorrect result from 'getUploadParameters()' for file '"+I.name+"', expected an object '{ url, method, fields, headers }' but got '"+JSON.stringify(D)+`' instead.
See https://uppy.io/docs/aws-s3/#getUploadParameters-file for more on the expected format.`);throw console.error(P),P}var C=D.method==null||/^(put|post)$/i.test(D.method);if(!C){var n=new TypeError("AwsS3: got incorrect method from 'getUploadParameters()' for file '"+I.name+"', expected  'put' or 'post' but got '"+D.method+`' instead.
See https://uppy.io/docs/aws-s3/#getUploadParameters-file for more on the expected format.`);throw console.error(n),n}},Q.handleUpload=function(I){var D=this,M=Object.create(null);function P(g){var R=g.id;U(M,R)&&M[R].abort()}this.uppy.on("file-removed",P),I.forEach(function(g){var R=D.uppy.getFile(g);D.uppy.emit("upload-started",R)});var C=this.requests.wrapPromiseFunction(function(g){return D.opts.getUploadParameters(g)}),n=I.length;return B(I.map(function(g,R){return M[g]=C(D.uppy.getFile(g)),M[g].then(function(e){delete M[g];var Z=D.uppy.getFile(g);D.validateParameters(Z,e);var L=e.method,q=L===void 0?"post":L,Y=e.url,te=e.fields,re=e.headers,se={method:q,formData:q.toLowerCase()==="post",endpoint:Y,metaFields:te?Object.keys(te):[]};return re&&(se.headers=re),D.uppy.setFileState(Z.id,{meta:f({},Z.meta,te),xhrUpload:se}),D._uploader.uploadFile(Z.id,R,n)}).catch(function(e){delete M[g];var Z=D.uppy.getFile(g);D.uppy.emit("upload-error",Z,e)})})).then(function(g){return D.uppy.off("file-removed",P),g})},Q.install=function(){var I=this.uppy;this.uppy.addUploader(this.handleUpload);function D(C,n){var g=this;return h(C,n)?{location:v(n.responseURL,E(C,"Location")),bucket:E(C,"Bucket"),key:E(C,"Key"),etag:E(C,"ETag")}:g.method.toUpperCase()==="POST"?(z||(I.log("[AwsS3] No response data found, make sure to set the success_action_status AWS SDK option to 201. See https://uppy.io/docs/aws-s3/#POST-Uploads","warning"),z=!0),{location:null}):n.responseURL?{location:n.responseURL.replace(/\?.*$/,"")}:{location:null}}function M(C,n){if(!!h(C,n)){var g=E(C,"Message");return new Error(g)}}var P={fieldName:"file",responseUrlFieldName:"location",timeout:this.opts.timeout,__queue:this.requests,responseType:"text",getResponseData:this.opts.getResponseData||D,getResponseError:M};P.i18n=this.i18n,this._uploader=new S(this.uppy,P)},Q.uninstall=function(){this.uppy.removeUploader(this.handleUpload)},$}(A),i.VERSION="1.7.9",s)},405:function(N){function X(i){return i.replace(/;.*$/,"")}function r(i,s){var b=s.headers?s.headers["content-type"]:s.getResponseHeader("Content-Type");if(typeof b=="string"){var c=X(b).toLowerCase();if(c==="application/xml"||c==="text/xml"||c==="text/html"&&/^<\?xml /.test(i))return!0}return!1}N.exports=r},7669:function(N){"use strict";function X(y,u){y.prototype=Object.create(u.prototype),y.prototype.constructor=y,c(y,u)}function r(y){var u=typeof Map=="function"?new Map:void 0;return r=function(m){if(m===null||!b(m))return m;if(typeof m!="function")throw new TypeError("Super expression must either be null or a function");if(typeof u!="undefined"){if(u.has(m))return u.get(m);u.set(m,x)}function x(){return i(m,arguments,d(this).constructor)}return x.prototype=Object.create(m.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),c(x,m)},r(y)}function i(y,u,A){return s()?i=Reflect.construct:i=function(x,B,U){var T=[null];T.push.apply(T,B);var k=Function.bind.apply(x,T),l=new k;return U&&c(l,U.prototype),l},i.apply(null,arguments)}function s(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(y){return!1}}function b(y){return Function.toString.call(y).indexOf("[native code]")!==-1}function c(y,u){return c=Object.setPrototypeOf||function(m,x){return m.__proto__=x,m},c(y,u)}function d(y){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(A){return A.__proto__||Object.getPrototypeOf(A)},d(y)}var f=function(y){X(u,y);function u(){var A;return A=y.call(this,"Authorization required")||this,A.name="AuthError",A.isAuthError=!0,A}return u}(r(Error));N.exports=f},218:function(N,X,r){"use strict";function i(){return i=Object.assign||function(A){for(var m=1;m<arguments.length;m++){var x=arguments[m];for(var B in x)Object.prototype.hasOwnProperty.call(x,B)&&(A[B]=x[B])}return A},i.apply(this,arguments)}function s(A,m){A.prototype=Object.create(m.prototype),A.prototype.constructor=A,b(A,m)}function b(A,m){return b=Object.setPrototypeOf||function(B,U){return B.__proto__=U,B},b(A,m)}var c=r(8451),d=r(6338),f=r(5380),y=r(9650),u=function(m){return m.split("-").map(function(x){return x.charAt(0).toUpperCase()+x.slice(1)}).join(" ")};N.exports=function(A){s(m,A);function m(B,U){var T;return T=A.call(this,B,U)||this,T.provider=U.provider,T.id=T.provider,T.name=T.opts.name||u(T.id),T.pluginId=T.opts.pluginId,T.tokenKey="companion-"+T.pluginId+"-auth-token",T.companionKeysParams=T.opts.companionKeysParams,T.preAuthToken=null,T}var x=m.prototype;return x.headers=function(){var U=this;return Promise.all([A.prototype.headers.call(this),this.getAuthToken()]).then(function(T){var k=T[0],l=T[1],S={};return l&&(S["uppy-auth-token"]=l),U.companionKeysParams&&(S["uppy-credentials-params"]=btoa(JSON.stringify({params:U.companionKeysParams}))),i({},k,S)})},x.onReceiveResponse=function(U){U=A.prototype.onReceiveResponse.call(this,U);var T=this.uppy.getPlugin(this.pluginId),k=T.getPluginState().authenticated,l=k?U.status!==401:U.status<400;return T.setPluginState({authenticated:l}),U},x.setAuthToken=function(U){return this.uppy.getPlugin(this.pluginId).storage.setItem(this.tokenKey,U)},x.getAuthToken=function(){return this.uppy.getPlugin(this.pluginId).storage.getItem(this.tokenKey)},x.authUrl=function(U){U===void 0&&(U={}),this.preAuthToken&&(U.uppyPreAuthToken=this.preAuthToken);var T=c(U);return T=T&&"?"+T,this.hostname+"/"+this.id+"/connect"+T},x.fileUrl=function(U){return this.hostname+"/"+this.id+"/get/"+U},x.fetchPreAuthToken=function(){var U=this;return this.companionKeysParams?this.post(this.id+"/preauth/",{params:this.companionKeysParams}).then(function(T){U.preAuthToken=T.token}).catch(function(T){U.uppy.log("[CompanionClient] unable to fetch preAuthToken "+T,"warning")}):Promise.resolve()},x.list=function(U){return this.get(this.id+"/list/"+(U||""))},x.logout=function(){var U=this;return this.get(this.id+"/logout").then(function(T){return Promise.all([T,U.uppy.getPlugin(U.pluginId).storage.removeItem(U.tokenKey)])}).then(function(T){var k=T[0];return k})},m.initPlugin=function(U,T,k){if(U.type="acquirer",U.files=[],k&&(U.opts=i({},k,T)),T.serverUrl||T.serverPattern)throw new Error("`serverUrl` and `serverPattern` have been renamed to `companionUrl` and `companionAllowedHosts` respectively in the 0.30.5 release. Please consult the docs (for example, https://uppy.io/docs/instagram/ for the Instagram plugin) and use the updated options.`");if(T.companionAllowedHosts){var l=T.companionAllowedHosts;if(typeof l!="string"&&!Array.isArray(l)&&!(l instanceof RegExp))throw new TypeError(U.id+': the option "companionAllowedHosts" must be one of string, Array, RegExp');U.opts.companionAllowedHosts=l}else/^(?!https?:\/\/).*$/i.test(T.companionUrl)?U.opts.companionAllowedHosts="https://"+T.companionUrl.replace(/^\/\//,""):U.opts.companionAllowedHosts=new d(T.companionUrl).origin;U.storage=U.opts.storage||y},m}(f)},5380:function(N,X,r){"use strict";var i,s;function b(){return b=Object.assign||function(A){for(var m=1;m<arguments.length;m++){var x=arguments[m];for(var B in x)Object.prototype.hasOwnProperty.call(x,B)&&(A[B]=x[B])}return A},b.apply(this,arguments)}function c(A,m){for(var x=0;x<m.length;x++){var B=m[x];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(A,B.key,B)}}function d(A,m,x){return m&&c(A.prototype,m),x&&c(A,x),A}var f=r(7669),y=r(591);function u(A){return A.replace(/\/$/,"")}N.exports=(s=i=function(){function A(x,B){this.uppy=x,this.opts=B,this.onReceiveResponse=this.onReceiveResponse.bind(this),this.allowedHeaders=["accept","content-type","uppy-auth-token"],this.preflightDone=!1}var m=A.prototype;return m.headers=function(){var B=this.opts.companionHeaders||this.opts.serverHeaders||{};return Promise.resolve(b({},this.defaultHeaders,B))},m._getPostResponseFunc=function(B){var U=this;return function(T){return B?T:U.onReceiveResponse(T)}},m.onReceiveResponse=function(B){var U=this.uppy.getState(),T=U.companion||{},k=this.opts.companionUrl,l=B.headers;if(l.has("i-am")&&l.get("i-am")!==T[k]){var S;this.uppy.setState({companion:b({},T,(S={},S[k]=l.get("i-am"),S))})}return B},m._getUrl=function(B){return/^(https?:|)\/\//.test(B)?B:this.hostname+"/"+B},m._json=function(B){if(B.status===401)throw new f;if(B.status<200||B.status>300){var U="Failed request with status: "+B.status+". "+B.statusText;return B.json().then(function(T){throw U=T.message?U+" message: "+T.message:U,U=T.requestId?U+" request-Id: "+T.requestId:U,new Error(U)}).catch(function(){throw new Error(U)})}return B.json()},m.preflight=function(B){var U=this;return this.preflightDone?Promise.resolve(this.allowedHeaders.slice()):fetch(this._getUrl(B),{method:"OPTIONS"}).then(function(T){return T.headers.has("access-control-allow-headers")&&(U.allowedHeaders=T.headers.get("access-control-allow-headers").split(",").map(function(k){return k.trim().toLowerCase()})),U.preflightDone=!0,U.allowedHeaders.slice()}).catch(function(T){return U.uppy.log("[CompanionClient] unable to make preflight request "+T,"warning"),U.preflightDone=!0,U.allowedHeaders.slice()})},m.preflightAndHeaders=function(B){var U=this;return Promise.all([this.preflight(B),this.headers()]).then(function(T){var k=T[0],l=T[1];return Object.keys(l).forEach(function(S){k.indexOf(S.toLowerCase())===-1&&(U.uppy.log("[CompanionClient] excluding unallowed header "+S),delete l[S])}),l})},m.get=function(B,U){var T=this;return this.preflightAndHeaders(B).then(function(k){return y(T._getUrl(B),{method:"get",headers:k,credentials:T.opts.companionCookiesRule||"same-origin"})}).then(this._getPostResponseFunc(U)).then(function(k){return T._json(k)}).catch(function(k){return k=k.isAuthError?k:new Error("Could not get "+T._getUrl(B)+". "+k),Promise.reject(k)})},m.post=function(B,U,T){var k=this;return this.preflightAndHeaders(B).then(function(l){return y(k._getUrl(B),{method:"post",headers:l,credentials:k.opts.companionCookiesRule||"same-origin",body:JSON.stringify(U)})}).then(this._getPostResponseFunc(T)).then(function(l){return k._json(l)}).catch(function(l){return l=l.isAuthError?l:new Error("Could not post "+k._getUrl(B)+". "+l),Promise.reject(l)})},m.delete=function(B,U,T){var k=this;return this.preflightAndHeaders(B).then(function(l){return y(k.hostname+"/"+B,{method:"delete",headers:l,credentials:k.opts.companionCookiesRule||"same-origin",body:U?JSON.stringify(U):null})}).then(this._getPostResponseFunc(T)).then(function(l){return k._json(l)}).catch(function(l){return l=l.isAuthError?l:new Error("Could not delete "+k._getUrl(B)+". "+l),Promise.reject(l)})},d(A,[{key:"hostname",get:function(){var B=this.uppy.getState(),U=B.companion,T=this.opts.companionUrl;return u(U&&U[T]?U[T]:T)}},{key:"defaultHeaders",get:function(){return{Accept:"application/json","Content-Type":"application/json","Uppy-Versions":"@uppy/companion-client="+A.VERSION}}}]),A}(),i.VERSION="1.9.0",s)},893:function(N,X,r){"use strict";function i(d,f){d.prototype=Object.create(f.prototype),d.prototype.constructor=d,s(d,f)}function s(d,f){return s=Object.setPrototypeOf||function(u,A){return u.__proto__=A,u},s(d,f)}var b=r(5380),c=function(f){return f.split("-").map(function(y){return y.charAt(0).toUpperCase()+y.slice(1)}).join(" ")};N.exports=function(d){i(f,d);function f(u,A){var m;return m=d.call(this,u,A)||this,m.provider=A.provider,m.id=m.provider,m.name=m.opts.name||c(m.id),m.pluginId=m.opts.pluginId,m}var y=f.prototype;return y.fileUrl=function(A){return this.hostname+"/search/"+this.id+"/get/"+A},y.search=function(A,m){return m=m?"&"+m:"",this.get("search/"+this.id+"/list?q="+encodeURIComponent(A)+m)},f}(b)},4199:function(N,X,r){var i=r(4944);N.exports=function(){function s(c){this.opts=c,this._queued=[],this.isOpen=!1,this.emitter=i(),this._handleMessage=this._handleMessage.bind(this),this.close=this.close.bind(this),this.emit=this.emit.bind(this),this.on=this.on.bind(this),this.once=this.once.bind(this),this.send=this.send.bind(this),(!c||c.autoOpen!==!1)&&this.open()}var b=s.prototype;return b.open=function(){var d=this;this.socket=new WebSocket(this.opts.target),this.socket.onopen=function(f){for(d.isOpen=!0;d._queued.length>0&&d.isOpen;){var y=d._queued[0];d.send(y.action,y.payload),d._queued=d._queued.slice(1)}},this.socket.onclose=function(f){d.isOpen=!1},this.socket.onmessage=this._handleMessage},b.close=function(){this.socket&&this.socket.close()},b.send=function(d,f){if(!this.isOpen){this._queued.push({action:d,payload:f});return}this.socket.send(JSON.stringify({action:d,payload:f}))},b.on=function(d,f){this.emitter.on(d,f)},b.emit=function(d,f){this.emitter.emit(d,f)},b.once=function(d,f){this.emitter.once(d,f)},b._handleMessage=function(d){try{var f=JSON.parse(d.data);this.emit(f.action,f.payload)}catch(y){console.log(y)}},s}()},5563:function(N,X,r){"use strict";var i=r(5380),s=r(218),b=r(893),c=r(4199);N.exports={RequestClient:i,Provider:s,SearchProvider:b,Socket:c}},9650:function(N){"use strict";N.exports.setItem=function(X,r){return new Promise(function(i){localStorage.setItem(X,r),i()})},N.exports.getItem=function(X){return Promise.resolve(localStorage.getItem(X))},N.exports.removeItem=function(X){return new Promise(function(r){localStorage.removeItem(X),r()})}},6943:function(N,X,r){function i(){return i=Object.assign||function(d){for(var f=1;f<arguments.length;f++){var y=arguments[f];for(var u in y)Object.prototype.hasOwnProperty.call(y,u)&&(d[u]=y[u])}return d},i.apply(this,arguments)}var s=r(3562),b=r(8079);function c(d){var f=null,y=null;return function(){for(var u=arguments.length,A=new Array(u),m=0;m<u;m++)A[m]=arguments[m];return y=A,f||(f=Promise.resolve().then(function(){return f=null,d.apply(void 0,y)})),f}}N.exports=function(){function d(y,u){this.uppy=y,this.opts=u||{},this.update=this.update.bind(this),this.mount=this.mount.bind(this),this.install=this.install.bind(this),this.uninstall=this.uninstall.bind(this)}var f=d.prototype;return f.getPluginState=function(){var u=this.uppy.getState(),A=u.plugins;return A[this.id]||{}},f.setPluginState=function(u){var A,m=this.uppy.getState(),x=m.plugins;this.uppy.setState({plugins:i({},x,(A={},A[this.id]=i({},x[this.id],u),A))})},f.setOptions=function(u){this.opts=i({},this.opts,u),this.setPluginState()},f.update=function(u){typeof this.el!="undefined"&&this._updateUI&&this._updateUI(u)},f.afterUpdate=function(){},f.onMount=function(){},f.mount=function(u,A){var m=this,x=A.id,B=b(u);if(B)return this.isTargetDOMEl=!0,this.rerender=function(l){!m.uppy.getPlugin(m.id)||(m.el=s.render(m.render(l),B,m.el),m.afterUpdate())},this._updateUI=c(this.rerender),this.uppy.log("Installing "+x+" to a DOM element '"+u+"'"),this.opts.replaceTargetContent&&(B.innerHTML=""),this.el=s.render(this.render(this.uppy.getState()),B),this.onMount(),this.el;var U;if(typeof u=="object"&&u instanceof d)U=u;else if(typeof u=="function"){var T=u;this.uppy.iteratePlugins(function(l){if(l instanceof T)return U=l,!1})}if(U)return this.uppy.log("Installing "+x+" to "+U.id),this.parent=U,this.el=U.addTarget(A),this.onMount(),this.el;this.uppy.log("Not installing "+x);var k="Invalid target option given to "+x+".";throw typeof u=="function"?k+=" The given target is not a Plugin class. Please check that you're not specifying a React Component instead of a plugin. If you are using @uppy/* packages directly, make sure you have only 1 version of @uppy/core installed: run `npm ls @uppy/core` on the command line and verify that all the versions match and are deduped correctly.":k+="If you meant to target an HTML element, please make sure that the element exists. Check that the <script> tag initializing Uppy is right before the closing </body> tag at the end of the page. (see https://github.com/transloadit/uppy/issues/1042)\n\nIf you meant to target a plugin, please confirm that your `import` statements or `require` calls are correct.",new Error(k)},f.render=function(u){throw new Error("Extend the render method to add your plugin to a DOM element")},f.addTarget=function(u){throw new Error("Extend the addTarget method to add your plugin to another plugin's target")},f.unmount=function(){this.isTargetDOMEl&&this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)},f.install=function(){},f.uninstall=function(){this.unmount()},d}()},9046:function(N,X,r){function i(){return i=Object.assign||function(M){for(var P=1;P<arguments.length;P++){var C=arguments[P];for(var n in C)Object.prototype.hasOwnProperty.call(C,n)&&(M[n]=C[n])}return M},i.apply(this,arguments)}function s(M,P){for(var C=0;C<P.length;C++){var n=P[C];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(M,n.key,n)}}function b(M,P,C){return P&&s(M.prototype,P),C&&s(M,C),M}function c(M,P){M.prototype=Object.create(P.prototype),M.prototype.constructor=M,A(M,P)}function d(M){var P=typeof Map=="function"?new Map:void 0;return d=function(n){if(n===null||!u(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof P!="undefined"){if(P.has(n))return P.get(n);P.set(n,g)}function g(){return f(n,arguments,m(this).constructor)}return g.prototype=Object.create(n.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),A(g,n)},d(M)}function f(M,P,C){return y()?f=Reflect.construct:f=function(g,R,e){var Z=[null];Z.push.apply(Z,R);var L=Function.bind.apply(g,Z),q=new L;return e&&A(q,e.prototype),q},f.apply(null,arguments)}function y(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(M){return!1}}function u(M){return Function.toString.call(M).indexOf("[native code]")!==-1}function A(M,P){return A=Object.setPrototypeOf||function(n,g){return n.__proto__=g,n},A(M,P)}function m(M){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(C){return C.__proto__||Object.getPrototypeOf(C)},m(M)}var x=r(9082),B=r(4944),U=r(4628),T=r(6818),k=r(2567),l=r(8385),S=r(2286),h=r(9590),v=r(8455),E=r(3746),_=r(3792),z=r(7160),H=r(5669),$=H.justErrorsLogger,Q=H.debugLogger,G=r(6943),I=function(M){c(P,M);function P(){for(var C,n=arguments.length,g=new Array(n),R=0;R<n;R++)g[R]=arguments[R];return C=M.call.apply(M,[this].concat(g))||this,C.isRestriction=!0,C}return P}(d(Error)),D=function(){function M(C){var n=this;this.defaultLocale={strings:{addBulkFilesFailed:{0:"Failed to add %{smart_count} file due to an internal error",1:"Failed to add %{smart_count} files due to internal errors"},youCanOnlyUploadX:{0:"You can only upload %{smart_count} file",1:"You can only upload %{smart_count} files"},youHaveToAtLeastSelectX:{0:"You have to select at least %{smart_count} file",1:"You have to select at least %{smart_count} files"},exceedsSize2:"%{backwardsCompat} %{size}",exceedsSize:"This file exceeds maximum allowed size of",inferiorSize:"This file is smaller than the allowed size of %{size}",youCanOnlyUploadFileTypes:"You can only upload: %{types}",noNewAlreadyUploading:"Cannot add new files: already uploading",noDuplicates:"Cannot add the duplicate file '%{fileName}', it already exists",companionError:"Connection with Companion failed",companionUnauthorizeHint:"To unauthorize to your %{provider} account, please go to %{url}",failedToUpload:"Failed to upload %{file}",noInternetConnection:"No Internet connection",connectedToInternet:"Connected to the Internet",noFilesFound:"You have no files or folders here",selectX:{0:"Select %{smart_count}",1:"Select %{smart_count}"},selectAllFilesFromFolderNamed:"Select all files from folder %{name}",unselectAllFilesFromFolderNamed:"Unselect all files from folder %{name}",selectFileNamed:"Select file %{name}",unselectFileNamed:"Unselect file %{name}",openFolderNamed:"Open folder %{name}",cancel:"Cancel",logOut:"Log out",filter:"Filter",resetFilter:"Reset filter",loading:"Loading...",authenticateWithTitle:"Please authenticate with %{pluginName} to select files",authenticateWith:"Connect to %{pluginName}",searchImages:"Search for images",enterTextToSearch:"Enter text to search for images",backToSearch:"Back to Search",emptyFolderAdded:"No files were added from empty folder",folderAdded:{0:"Added %{smart_count} file from %{folder}",1:"Added %{smart_count} files from %{folder}"}}};var g={id:"uppy",autoProceed:!1,allowMultipleUploads:!0,debug:!1,restrictions:{maxFileSize:null,minFileSize:null,maxTotalFileSize:null,maxNumberOfFiles:null,minNumberOfFiles:null,allowedFileTypes:null},meta:{},onBeforeFileAdded:function(e,Z){return e},onBeforeUpload:function(e){return e},store:S(),logger:$,infoTimeout:5e3};if(this.opts=i({},g,C,{restrictions:i({},g.restrictions,C&&C.restrictions)}),C&&C.logger&&C.debug?this.log("You are using a custom `logger`, but also set `debug: true`, which uses built-in logger to output logs to console. Ignoring `debug: true` and using your custom `logger`.","warning"):C&&C.debug&&(this.opts.logger=Q),this.log("Using Core v"+this.constructor.VERSION),this.opts.restrictions.allowedFileTypes&&this.opts.restrictions.allowedFileTypes!==null&&!Array.isArray(this.opts.restrictions.allowedFileTypes))throw new TypeError("`restrictions.allowedFileTypes` must be an array");this.i18nInit(),this.plugins={},this.getState=this.getState.bind(this),this.getPlugin=this.getPlugin.bind(this),this.setFileMeta=this.setFileMeta.bind(this),this.setFileState=this.setFileState.bind(this),this.log=this.log.bind(this),this.info=this.info.bind(this),this.hideInfo=this.hideInfo.bind(this),this.addFile=this.addFile.bind(this),this.removeFile=this.removeFile.bind(this),this.pauseResume=this.pauseResume.bind(this),this.validateRestrictions=this.validateRestrictions.bind(this),this._calculateProgress=T(this._calculateProgress.bind(this),500,{leading:!0,trailing:!0}),this.updateOnlineStatus=this.updateOnlineStatus.bind(this),this.resetProgress=this.resetProgress.bind(this),this.pauseAll=this.pauseAll.bind(this),this.resumeAll=this.resumeAll.bind(this),this.retryAll=this.retryAll.bind(this),this.cancelAll=this.cancelAll.bind(this),this.retryUpload=this.retryUpload.bind(this),this.upload=this.upload.bind(this),this.emitter=B(),this.on=this.on.bind(this),this.off=this.off.bind(this),this.once=this.emitter.once.bind(this.emitter),this.emit=this.emitter.emit.bind(this.emitter),this.preProcessors=[],this.uploaders=[],this.postProcessors=[],this.store=this.opts.store,this.setState({plugins:{},files:{},currentUploads:{},allowNewUpload:!0,capabilities:{uploadProgress:z(),individualCancellation:!0,resumableUploads:!1},totalProgress:0,meta:i({},this.opts.meta),info:{isHidden:!0,type:"info",message:""}}),this._storeUnsubscribe=this.store.subscribe(function(R,e,Z){n.emit("state-update",R,e,Z),n.updateAll(e)}),this.opts.debug&&typeof window!="undefined"&&(window[this.opts.id]=this),this._addListeners()}var P=M.prototype;return P.on=function(n,g){return this.emitter.on(n,g),this},P.off=function(n,g){return this.emitter.off(n,g),this},P.updateAll=function(n){this.iteratePlugins(function(g){g.update(n)})},P.setState=function(n){this.store.setState(n)},P.getState=function(){return this.store.getState()},P.setFileState=function(n,g){var R;if(!this.getState().files[n])throw new Error("Can\u2019t set state for "+n+" (the file could have been removed)");this.setState({files:i({},this.getState().files,(R={},R[n]=i({},this.getState().files[n],g),R))})},P.i18nInit=function(){this.translator=new x([this.defaultLocale,this.opts.locale]),this.locale=this.translator.locale,this.i18n=this.translator.translate.bind(this.translator),this.i18nArray=this.translator.translateArray.bind(this.translator)},P.setOptions=function(n){this.opts=i({},this.opts,n,{restrictions:i({},this.opts.restrictions,n&&n.restrictions)}),n.meta&&this.setMeta(n.meta),this.i18nInit(),n.locale&&this.iteratePlugins(function(g){g.setOptions()}),this.setState()},P.resetProgress=function(){var n={percentage:0,bytesUploaded:0,uploadComplete:!1,uploadStarted:null},g=i({},this.getState().files),R={};Object.keys(g).forEach(function(e){var Z=i({},g[e]);Z.progress=i({},Z.progress,n),R[e]=Z}),this.setState({files:R,totalProgress:0}),this.emit("reset-progress")},P.addPreProcessor=function(n){this.preProcessors.push(n)},P.removePreProcessor=function(n){var g=this.preProcessors.indexOf(n);g!==-1&&this.preProcessors.splice(g,1)},P.addPostProcessor=function(n){this.postProcessors.push(n)},P.removePostProcessor=function(n){var g=this.postProcessors.indexOf(n);g!==-1&&this.postProcessors.splice(g,1)},P.addUploader=function(n){this.uploaders.push(n)},P.removeUploader=function(n){var g=this.uploaders.indexOf(n);g!==-1&&this.uploaders.splice(g,1)},P.setMeta=function(n){var g=i({},this.getState().meta,n),R=i({},this.getState().files);Object.keys(R).forEach(function(e){R[e]=i({},R[e],{meta:i({},R[e].meta,n)})}),this.log("Adding metadata:"),this.log(n),this.setState({meta:g,files:R})},P.setFileMeta=function(n,g){var R=i({},this.getState().files);if(!R[n]){this.log("Was trying to set metadata for a file that has been removed: ",n);return}var e=i({},R[n].meta,g);R[n]=i({},R[n],{meta:e}),this.setState({files:R})},P.getFile=function(n){return this.getState().files[n]},P.getFiles=function(){var n=this.getState(),g=n.files;return Object.keys(g).map(function(R){return g[R]})},P.validateRestrictions=function(n,g){try{return this._checkRestrictions(n,g),{result:!0}}catch(R){return{result:!1,reason:R.message}}},P._checkRestrictions=function(n,g){g===void 0&&(g=this.getFiles());var R=this.opts.restrictions,e=R.maxFileSize,Z=R.minFileSize,L=R.maxTotalFileSize,q=R.maxNumberOfFiles,Y=R.allowedFileTypes;if(q&&g.length+1>q)throw new I(""+this.i18n("youCanOnlyUploadX",{smart_count:q}));if(Y){var te=Y.some(function(O){return O.indexOf("/")>-1?n.type?l(n.type.replace(/;.*?$/,""),O):!1:O[0]==="."&&n.extension?n.extension.toLowerCase()===O.substr(1).toLowerCase():!1});if(!te){var re=Y.join(", ");throw new I(this.i18n("youCanOnlyUploadFileTypes",{types:re}))}}if(L&&n.size!=null){var se=0;if(se+=n.size,g.forEach(function(O){se+=O.size}),se>L)throw new I(this.i18n("exceedsSize2",{backwardsCompat:this.i18n("exceedsSize"),size:k(L)}))}if(e&&n.size!=null&&n.size>e)throw new I(this.i18n("exceedsSize2",{backwardsCompat:this.i18n("exceedsSize"),size:k(e)}));if(Z&&n.size!=null&&n.size<Z)throw new I(this.i18n("inferiorSize",{size:k(Z)}))},P._checkMinNumberOfFiles=function(n){var g=this.opts.restrictions.minNumberOfFiles;if(Object.keys(n).length<g)throw new I(""+this.i18n("youHaveToAtLeastSelectX",{smart_count:g}))},P._showOrLogErrorAndThrow=function(n,g){var R=g===void 0?{}:g,e=R.showInformer,Z=e===void 0?!0:e,L=R.file,q=L===void 0?null:L,Y=R.throwErr,te=Y===void 0?!0:Y,re=typeof n=="object"?n.message:n,se=typeof n=="object"&&n.details?n.details:"",O=re;if(se&&(O+=" "+se),n.isRestriction?(this.log(O),this.emit("restriction-failed",q,n)):this.log(O,"error"),Z&&this.info({message:re,details:se},"error",this.opts.infoTimeout),te)throw typeof n=="object"?n:new Error(n)},P._assertNewUploadAllowed=function(n){var g=this.getState(),R=g.allowNewUpload;R===!1&&this._showOrLogErrorAndThrow(new I(this.i18n("noNewAlreadyUploading")),{file:n})},P._checkAndCreateFileStateObject=function(n,g){var R=h(g);g.type=R;var e=this.opts.onBeforeFileAdded(g,n);e===!1&&this._showOrLogErrorAndThrow(new I("Cannot add the file because onBeforeFileAdded returned false."),{showInformer:!1,file:g}),typeof e=="object"&&e&&(g=e);var Z;g.name?Z=g.name:R.split("/")[0]==="image"?Z=R.split("/")[0]+"."+R.split("/")[1]:Z="noname";var L=v(Z).extension,q=g.isRemote||!1,Y=E(g);n[Y]&&this._showOrLogErrorAndThrow(new I(this.i18n("noDuplicates",{fileName:Z})),{file:g});var te=g.meta||{};te.name=Z,te.type=R;var re=isFinite(g.data.size)?g.data.size:null,se={source:g.source||"",id:Y,name:Z,extension:L||"",meta:i({},this.getState().meta,te),type:R,data:g.data,progress:{percentage:0,bytesUploaded:0,bytesTotal:re,uploadComplete:!1,uploadStarted:null},size:re,isRemote:q,remote:g.remote||"",preview:g.preview};try{var O=Object.keys(n).map(function(j){return n[j]});this._checkRestrictions(se,O)}catch(j){this._showOrLogErrorAndThrow(j,{file:se})}return se},P._startIfAutoProceed=function(){var n=this;this.opts.autoProceed&&!this.scheduledAutoProceed&&(this.scheduledAutoProceed=setTimeout(function(){n.scheduledAutoProceed=null,n.upload().catch(function(g){g.isRestriction||n.log(g.stack||g.message||g)})},4))},P.addFile=function(n){var g;this._assertNewUploadAllowed(n);var R=this.getState(),e=R.files,Z=this._checkAndCreateFileStateObject(e,n);return this.setState({files:i({},e,(g={},g[Z.id]=Z,g))}),this.emit("file-added",Z),this.emit("files-added",[Z]),this.log("Added file: "+Z.name+", "+Z.id+", mime type: "+Z.type),this._startIfAutoProceed(),Z.id},P.addFiles=function(n){var g=this;this._assertNewUploadAllowed();for(var R=i({},this.getState().files),e=[],Z=[],L=0;L<n.length;L++)try{var q=this._checkAndCreateFileStateObject(R,n[L]);e.push(q),R[q.id]=q}catch(re){re.isRestriction||Z.push(re)}if(this.setState({files:R}),e.forEach(function(re){g.emit("file-added",re)}),this.emit("files-added",e),e.length>5?this.log("Added batch of "+e.length+" files"):Object.keys(e).forEach(function(re){g.log("Added file: "+e[re].name+`
 id: `+e[re].id+`
 type: `+e[re].type)}),e.length>0&&this._startIfAutoProceed(),Z.length>0){var Y=`Multiple errors occurred while adding files:
`;if(Z.forEach(function(re){Y+=`
 * `+re.message}),this.info({message:this.i18n("addBulkFilesFailed",{smart_count:Z.length}),details:Y},"error",this.opts.infoTimeout),typeof AggregateError=="function")throw new AggregateError(Z,Y);var te=new Error(Y);throw te.errors=Z,te}},P.removeFiles=function(n,g){var R=this,e=this.getState(),Z=e.files,L=e.currentUploads,q=i({},Z),Y=i({},L),te=Object.create(null);n.forEach(function(K){Z[K]&&(te[K]=Z[K],delete q[K])});function re(K){return te[K]===void 0}var se=[];Object.keys(Y).forEach(function(K){var ee=L[K].fileIDs.filter(re);if(ee.length===0){se.push(K);return}Y[K]=i({},L[K],{fileIDs:ee})}),se.forEach(function(K){delete Y[K]});var O={currentUploads:Y,files:q};Object.keys(q).length===0&&(O.allowNewUpload=!0,O.error=null),this.setState(O),this._calculateTotalProgress();var j=Object.keys(te);j.forEach(function(K){R.emit("file-removed",te[K],g)}),j.length>5?this.log("Removed "+j.length+" files"):this.log("Removed files: "+j.join(", "))},P.removeFile=function(n,g){g===void 0&&(g=null),this.removeFiles([n],g)},P.pauseResume=function(n){if(!(!this.getState().capabilities.resumableUploads||this.getFile(n).uploadComplete)){var g=this.getFile(n).isPaused||!1,R=!g;return this.setFileState(n,{isPaused:R}),this.emit("upload-pause",n,R),R}},P.pauseAll=function(){var n=i({},this.getState().files),g=Object.keys(n).filter(function(R){return!n[R].progress.uploadComplete&&n[R].progress.uploadStarted});g.forEach(function(R){var e=i({},n[R],{isPaused:!0});n[R]=e}),this.setState({files:n}),this.emit("pause-all")},P.resumeAll=function(){var n=i({},this.getState().files),g=Object.keys(n).filter(function(R){return!n[R].progress.uploadComplete&&n[R].progress.uploadStarted});g.forEach(function(R){var e=i({},n[R],{isPaused:!1,error:null});n[R]=e}),this.setState({files:n}),this.emit("resume-all")},P.retryAll=function(){var n=i({},this.getState().files),g=Object.keys(n).filter(function(e){return n[e].error});if(g.forEach(function(e){var Z=i({},n[e],{isPaused:!1,error:null});n[e]=Z}),this.setState({files:n,error:null}),this.emit("retry-all",g),g.length===0)return Promise.resolve({successful:[],failed:[]});var R=this._createUpload(g,{forceAllowNewUpload:!0});return this._runUpload(R)},P.cancelAll=function(){this.emit("cancel-all");var n=this.getState(),g=n.files,R=Object.keys(g);R.length&&this.removeFiles(R,"cancel-all"),this.setState({totalProgress:0,error:null})},P.retryUpload=function(n){this.setFileState(n,{error:null,isPaused:!1}),this.emit("upload-retry",n);var g=this._createUpload([n],{forceAllowNewUpload:!0});return this._runUpload(g)},P.reset=function(){this.cancelAll()},P.logout=function(){this.iteratePlugins(function(n){n.provider&&n.provider.logout&&n.provider.logout()})},P._calculateProgress=function(n,g){if(!this.getFile(n.id)){this.log("Not setting progress for a file that has been removed: "+n.id);return}var R=isFinite(g.bytesTotal)&&g.bytesTotal>0;this.setFileState(n.id,{progress:i({},this.getFile(n.id).progress,{bytesUploaded:g.bytesUploaded,bytesTotal:g.bytesTotal,percentage:R?Math.round(g.bytesUploaded/g.bytesTotal*100):0})}),this._calculateTotalProgress()},P._calculateTotalProgress=function(){var n=this.getFiles(),g=n.filter(function(O){return O.progress.uploadStarted||O.progress.preprocess||O.progress.postprocess});if(g.length===0){this.emit("progress",0),this.setState({totalProgress:0});return}var R=g.filter(function(O){return O.progress.bytesTotal!=null}),e=g.filter(function(O){return O.progress.bytesTotal==null});if(R.length===0){var Z=g.length*100,L=e.reduce(function(O,j){return O+j.progress.percentage},0),q=Math.round(L/Z*100);this.setState({totalProgress:q});return}var Y=R.reduce(function(O,j){return O+j.progress.bytesTotal},0),te=Y/R.length;Y+=te*e.length;var re=0;R.forEach(function(O){re+=O.progress.bytesUploaded}),e.forEach(function(O){re+=te*(O.progress.percentage||0)/100});var se=Y===0?0:Math.round(re/Y*100);se>100&&(se=100),this.setState({totalProgress:se}),this.emit("progress",se)},P._addListeners=function(){var n=this;this.on("error",function(g){var R="Unknown error";g.message&&(R=g.message),g.details&&(R+=" "+g.details),n.setState({error:R})}),this.on("upload-error",function(g,R,e){var Z="Unknown error";if(R.message&&(Z=R.message),R.details&&(Z+=" "+R.details),n.setFileState(g.id,{error:Z,response:e}),n.setState({error:R.message}),typeof R=="object"&&R.message){var L=new Error(R.message);L.details=R.message,R.details&&(L.details+=" "+R.details),L.message=n.i18n("failedToUpload",{file:g.name}),n._showOrLogErrorAndThrow(L,{throwErr:!1})}else n._showOrLogErrorAndThrow(R,{throwErr:!1})}),this.on("upload",function(){n.setState({error:null})}),this.on("upload-started",function(g,R){if(!n.getFile(g.id)){n.log("Not setting progress for a file that has been removed: "+g.id);return}n.setFileState(g.id,{progress:{uploadStarted:Date.now(),uploadComplete:!1,percentage:0,bytesUploaded:0,bytesTotal:g.size}})}),this.on("upload-progress",this._calculateProgress),this.on("upload-success",function(g,R){if(!n.getFile(g.id)){n.log("Not setting progress for a file that has been removed: "+g.id);return}var e=n.getFile(g.id).progress;n.setFileState(g.id,{progress:i({},e,{postprocess:n.postProcessors.length>0?{mode:"indeterminate"}:null,uploadComplete:!0,percentage:100,bytesUploaded:e.bytesTotal}),response:R,uploadURL:R.uploadURL,isPaused:!1}),n._calculateTotalProgress()}),this.on("preprocess-progress",function(g,R){if(!n.getFile(g.id)){n.log("Not setting progress for a file that has been removed: "+g.id);return}n.setFileState(g.id,{progress:i({},n.getFile(g.id).progress,{preprocess:R})})}),this.on("preprocess-complete",function(g){if(!n.getFile(g.id)){n.log("Not setting progress for a file that has been removed: "+g.id);return}var R=i({},n.getState().files);R[g.id]=i({},R[g.id],{progress:i({},R[g.id].progress)}),delete R[g.id].progress.preprocess,n.setState({files:R})}),this.on("postprocess-progress",function(g,R){if(!n.getFile(g.id)){n.log("Not setting progress for a file that has been removed: "+g.id);return}n.setFileState(g.id,{progress:i({},n.getState().files[g.id].progress,{postprocess:R})})}),this.on("postprocess-complete",function(g){if(!n.getFile(g.id)){n.log("Not setting progress for a file that has been removed: "+g.id);return}var R=i({},n.getState().files);R[g.id]=i({},R[g.id],{progress:i({},R[g.id].progress)}),delete R[g.id].progress.postprocess,n.setState({files:R})}),this.on("restored",function(){n._calculateTotalProgress()}),typeof window!="undefined"&&window.addEventListener&&(window.addEventListener("online",function(){return n.updateOnlineStatus()}),window.addEventListener("offline",function(){return n.updateOnlineStatus()}),setTimeout(function(){return n.updateOnlineStatus()},3e3))},P.updateOnlineStatus=function(){var n=typeof window.navigator.onLine!="undefined"?window.navigator.onLine:!0;n?(this.emit("is-online"),this.wasOffline&&(this.emit("back-online"),this.info(this.i18n("connectedToInternet"),"success",3e3),this.wasOffline=!1)):(this.emit("is-offline"),this.info(this.i18n("noInternetConnection"),"error",0),this.wasOffline=!0)},P.getID=function(){return this.opts.id},P.use=function(n,g){if(typeof n!="function"){var R="Expected a plugin class, but got "+(n===null?"null":typeof n)+". Please verify that the plugin was imported and spelled correctly.";throw new TypeError(R)}var e=new n(this,g),Z=e.id;if(this.plugins[e.type]=this.plugins[e.type]||[],!Z)throw new Error("Your plugin must have an id");if(!e.type)throw new Error("Your plugin must have a type");var L=this.getPlugin(Z);if(L){var q="Already found a plugin named '"+L.id+"'. "+("Tried to use: '"+Z+`'.
`)+"Uppy plugins must have unique `id` options. See https://uppy.io/docs/plugins/#id.";throw new Error(q)}return n.VERSION&&this.log("Using "+Z+" v"+n.VERSION),this.plugins[e.type].push(e),e.install(),this},P.getPlugin=function(n){var g=null;return this.iteratePlugins(function(R){if(R.id===n)return g=R,!1}),g},P.iteratePlugins=function(n){var g=this;Object.keys(this.plugins).forEach(function(R){g.plugins[R].forEach(n)})},P.removePlugin=function(n){var g;this.log("Removing plugin "+n.id),this.emit("plugin-remove",n),n.uninstall&&n.uninstall();var R=this.plugins[n.type].slice(),e=_(R,function(q){return q.id===n.id});e!==-1&&(R.splice(e,1),this.plugins[n.type]=R);var Z=this.getState(),L={plugins:i({},Z.plugins,(g={},g[n.id]=void 0,g))};this.setState(L)},P.close=function(){var n=this;this.log("Closing Uppy instance "+this.opts.id+": removing all files and uninstalling plugins"),this.reset(),this._storeUnsubscribe(),this.iteratePlugins(function(g){n.removePlugin(g)})},P.info=function(n,g,R){g===void 0&&(g="info"),R===void 0&&(R=3e3);var e=typeof n=="object";if(this.setState({info:{isHidden:!1,type:g,message:e?n.message:n,details:e?n.details:null}}),this.emit("info-visible"),clearTimeout(this.infoTimeoutID),R===0){this.infoTimeoutID=void 0;return}this.infoTimeoutID=setTimeout(this.hideInfo,R)},P.hideInfo=function(){var n=i({},this.getState().info,{isHidden:!0});this.setState({info:n}),this.emit("info-hidden")},P.log=function(n,g){var R=this.opts.logger;switch(g){case"error":R.error(n);break;case"warning":R.warn(n);break;default:R.debug(n);break}},P.run=function(){return this.log("Calling run() is no longer necessary.","warning"),this},P.restore=function(n){return this.log('Core: attempting to restore upload "'+n+'"'),this.getState().currentUploads[n]?this._runUpload(n):(this._removeUpload(n),Promise.reject(new Error("Nonexistent upload")))},P._createUpload=function(n,g){var R;g===void 0&&(g={});var e=g,Z=e.forceAllowNewUpload,L=Z===void 0?!1:Z,q=this.getState(),Y=q.allowNewUpload,te=q.currentUploads;if(!Y&&!L)throw new Error("Cannot create a new upload: already uploading.");var re=U();return this.emit("upload",{id:re,fileIDs:n}),this.setState({allowNewUpload:this.opts.allowMultipleUploads!==!1,currentUploads:i({},te,(R={},R[re]={fileIDs:n,step:0,result:{}},R))}),re},P._getUpload=function(n){var g=this.getState(),R=g.currentUploads;return R[n]},P.addResultData=function(n,g){var R;if(!this._getUpload(n)){this.log("Not setting result for an upload that has been removed: "+n);return}var e=this.getState().currentUploads,Z=i({},e[n],{result:i({},e[n].result,g)});this.setState({currentUploads:i({},e,(R={},R[n]=Z,R))})},P._removeUpload=function(n){var g=i({},this.getState().currentUploads);delete g[n],this.setState({currentUploads:g})},P._runUpload=function(n){var g=this,R=this.getState().currentUploads[n],e=R.step,Z=[].concat(this.preProcessors,this.uploaders,this.postProcessors),L=Promise.resolve();return Z.forEach(function(q,Y){Y<e||(L=L.then(function(){var te,re=g.getState(),se=re.currentUploads,O=se[n];if(!!O){var j=i({},O,{step:Y});return g.setState({currentUploads:i({},se,(te={},te[n]=j,te))}),q(j.fileIDs,n)}}).then(function(te){return null}))}),L.catch(function(q){g.emit("error",q,n),g._removeUpload(n)}),L.then(function(){var q=g.getState(),Y=q.currentUploads,te=Y[n];if(!!te){te.fileIDs.forEach(function(j){var K=g.getFile(j);K&&K.progress.postprocess&&g.emit("postprocess-complete",K)});var re=te.fileIDs.map(function(j){return g.getFile(j)}),se=re.filter(function(j){return!j.error}),O=re.filter(function(j){return j.error});g.addResultData(n,{successful:se,failed:O,uploadID:n})}}).then(function(){var q=g.getState(),Y=q.currentUploads;if(!!Y[n]){var te=Y[n],re=te.result;return g.emit("complete",re),g._removeUpload(n),re}}).then(function(q){return q==null&&g.log("Not setting result for an upload that has been removed: "+n),q})},P.upload=function(){var n=this;this.plugins.uploader||this.log("No uploader type plugins are used","warning");var g=this.getState().files,R=this.opts.onBeforeUpload(g);return R===!1?Promise.reject(new Error("Not starting the upload because onBeforeUpload returned false")):(R&&typeof R=="object"&&(g=R,this.setState({files:g})),Promise.resolve().then(function(){return n._checkMinNumberOfFiles(g)}).catch(function(e){n._showOrLogErrorAndThrow(e)}).then(function(){var e=n.getState(),Z=e.currentUploads,L=Object.keys(Z).reduce(function(te,re){return te.concat(Z[re].fileIDs)},[]),q=[];Object.keys(g).forEach(function(te){var re=n.getFile(te);!re.progress.uploadStarted&&L.indexOf(te)===-1&&q.push(re.id)});var Y=n._createUpload(q);return n._runUpload(Y)}).catch(function(e){n._showOrLogErrorAndThrow(e,{showInformer:!1})}))},b(M,[{key:"state",get:function(){return this.getState()}}]),M}();D.VERSION="1.18.0",N.exports=function(M){return new D(M)},N.exports.Uppy=D,N.exports.Plugin=G,N.exports.debugLogger=Q},5669:function(N,X,r){var i=r(5815),s={debug:function(){},warn:function(){},error:function(){for(var d,f=arguments.length,y=new Array(f),u=0;u<f;u++)y[u]=arguments[u];return(d=console).error.apply(d,["[Uppy] ["+i()+"]"].concat(y))}},b={debug:function(){for(var d=console.debug||console.log,f=arguments.length,y=new Array(f),u=0;u<f;u++)y[u]=arguments[u];d.call.apply(d,[console,"[Uppy] ["+i()+"]"].concat(y))},warn:function(){for(var d,f=arguments.length,y=new Array(f),u=0;u<f;u++)y[u]=arguments[u];return(d=console).warn.apply(d,["[Uppy] ["+i()+"]"].concat(y))},error:function(){for(var d,f=arguments.length,y=new Array(f),u=0;u<f;u++)y[u]=arguments[u];return(d=console).error.apply(d,["[Uppy] ["+i()+"]"].concat(y))}};N.exports={justErrorsLogger:s,debugLogger:b}},7160:function(N){N.exports=function(r){if(r==null&&(r=typeof navigator!="undefined"?navigator.userAgent:null),!r)return!0;var i=/Edge\/(\d+\.\d+)/.exec(r);if(!i)return!0;var s=i[1],b=s.split("."),c=b[0],d=b[1];return c=parseInt(c,10),d=parseInt(d,10),c<15||c===15&&d<15063||c>18||c===18&&d>=18218}},447:function(N,X,r){function i(y,u){y.prototype=Object.create(u.prototype),y.prototype.constructor=y,s(y,u)}function s(y,u){return s=Object.setPrototypeOf||function(m,x){return m.__proto__=x,m},s(y,u)}var b=r(3562),c=b.h,d=b.Component,f=function(y){i(u,y);function u(){for(var m,x=arguments.length,B=new Array(x),U=0;U<x;U++)B[U]=arguments[U];return m=y.call.apply(y,[this].concat(B))||this,m.triggerFileInputClick=function(){m.fileInput.click()},m.triggerFolderInputClick=function(){m.folderInput.click()},m.onFileInputChange=function(T){m.props.handleInputChange(T),T.target.value=null},m.renderHiddenInput=function(T,k){return c("input",{className:"uppy-Dashboard-input",hidden:!0,"aria-hidden":"true",tabIndex:-1,webkitdirectory:T,type:"file",name:"files[]",multiple:m.props.maxNumberOfFiles!==1,onChange:m.onFileInputChange,accept:m.props.allowedFileTypes,ref:k})},m.renderMyDeviceAcquirer=function(){return c("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MyDevice"},c("button",{type:"button",className:"uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:m.triggerFileInputClick},c("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},c("g",{fill:"none",fillRule:"evenodd"},c("rect",{className:"uppy-ProviderIconBg",width:"32",height:"32",rx:"16",fill:"#2275D7"}),c("path",{d:"M21.973 21.152H9.863l-1.108-5.087h14.464l-1.246 5.087zM9.935 11.37h3.958l.886 1.444a.673.673 0 0 0 .585.316h6.506v1.37H9.935v-3.13zm14.898 3.44a.793.793 0 0 0-.616-.31h-.978v-2.126c0-.379-.275-.613-.653-.613H15.75l-.886-1.445a.673.673 0 0 0-.585-.316H9.232c-.378 0-.667.209-.667.587V14.5h-.782a.793.793 0 0 0-.61.303.795.795 0 0 0-.155.663l1.45 6.633c.078.36.396.618.764.618h13.354c.36 0 .674-.246.76-.595l1.631-6.636a.795.795 0 0 0-.144-.675z",fill:"#FFF"}))),c("div",{className:"uppy-DashboardTab-name"},m.props.i18n("myDevice"))))},m.renderBrowseButton=function(T,k){var l=m.props.acquirers.length;return c("button",{type:"button",className:"uppy-u-reset uppy-Dashboard-browse",onClick:k,"data-uppy-super-focusable":l===0},T)},m.renderDropPasteBrowseTagline=function(){var T=m.props.acquirers.length,k=m.props.fileManagerSelectionType,l=k.charAt(0).toUpperCase()+k.slice(1),S="browse",h="browse",v="browse";if(k==="files")try{S=m.props.i18n("browse"),h=m.props.i18n("browse"),v=m.props.i18n("browse")}catch($){}try{h=m.props.i18n("browseFiles"),v=m.props.i18n("browseFolders")}catch($){}var E=m.renderBrowseButton(S,m.triggerFileInputClick),_=m.renderBrowseButton(h,m.triggerFileInputClick),z=m.renderBrowseButton(v,m.triggerFolderInputClick),H;if(T>0?H=m.props.i18nArray("dropPasteImport"+l,{browseFiles:_,browseFolders:z,browse:E}):H=m.props.i18nArray("dropPaste"+l,{browseFiles:_,browseFolders:z,browse:E}),k==="files")try{T>0?H=m.props.i18nArray("dropPasteImport",{browse:E}):H=m.props.i18nArray("dropPaste",{browse:E})}catch($){}return m.props.disableLocalFiles&&(H=m.props.i18n("importFiles")),c("div",{className:"uppy-Dashboard-AddFiles-title"},H)},m.renderAcquirer=function(T){return c("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":T.id},c("button",{type:"button",className:"uppy-DashboardTab-btn",role:"tab",tabIndex:0,"aria-controls":"uppy-DashboardContent-panel--"+T.id,"aria-selected":m.props.activePickerPanel.id===T.id,"data-uppy-super-focusable":!0,onClick:function(){return m.props.showPanel(T.id)}},T.icon(),c("div",{className:"uppy-DashboardTab-name"},T.name)))},m.renderAcquirers=function(T,k){var l=[].concat(T),S=l.splice(T.length-2,T.length);return c("div",{className:"uppy-Dashboard-AddFiles-list",role:"tablist"},!k&&m.renderMyDeviceAcquirer(),l.map(function(h){return m.renderAcquirer(h)}),c("span",{role:"presentation",style:"white-space: nowrap;"},S.map(function(h){return m.renderAcquirer(h)})))},m}var A=u.prototype;return A.renderPoweredByUppy=function(){var x=c("span",null,c("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-Dashboard-poweredByIcon",width:"11",height:"11",viewBox:"0 0 11 11"},c("path",{d:"M7.365 10.5l-.01-4.045h2.612L5.5.806l-4.467 5.65h2.604l.01 4.044h3.718z",fillRule:"evenodd"})),c("span",{className:"uppy-Dashboard-poweredByUppy"},"Uppy")),B=this.props.i18nArray("poweredBy2",{backwardsCompat:this.props.i18n("poweredBy"),uppy:x});return c("a",{tabIndex:"-1",href:"https://uppy.io",rel:"noreferrer noopener",target:"_blank",className:"uppy-Dashboard-poweredBy"},B)},A.render=function(){var x=this;return c("div",{className:"uppy-Dashboard-AddFiles"},this.renderHiddenInput(!1,function(B){x.fileInput=B}),this.renderHiddenInput(!0,function(B){x.folderInput=B}),this.renderDropPasteBrowseTagline(),this.props.acquirers.length>0&&this.renderAcquirers(this.props.acquirers,this.props.disableLocalFiles),c("div",{className:"uppy-Dashboard-AddFiles-info"},this.props.note&&c("div",{className:"uppy-Dashboard-note"},this.props.note),this.props.proudlyDisplayPoweredByUppy&&this.renderPoweredByUppy(this.props)))},u}(d);N.exports=f},8938:function(N,X,r){var i=r(3562),s=i.h,b=r(7010),c=r(447),d=function(y){return s("div",{className:b("uppy-Dashboard-AddFilesPanel",y.className),"data-uppy-panelType":"AddFiles","aria-hidden":y.showAddFilesPanel},s("div",{className:"uppy-DashboardContent-bar"},s("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},y.i18n("addingMoreFiles")),s("button",{className:"uppy-DashboardContent-back",type:"button",onClick:function(A){return y.toggleAddFilesPanel(!1)}},y.i18n("back"))),s(c,y))};N.exports=d},1660:function(N,X,r){function i(){return i=Object.assign||function(h){for(var v=1;v<arguments.length;v++){var E=arguments[v];for(var _ in E)Object.prototype.hasOwnProperty.call(E,_)&&(h[_]=E[_])}return h},i.apply(this,arguments)}var s=r(7485),b=r(447),c=r(8938),d=r(5390),f=r(2644),y=r(1947),u=r(9925),A=r(4216),m=r(7010),x=r(1869),B=r(3562),U=B.h,T=900,k=700,l=576,S=400;N.exports=function(v){var E=v.totalFileCount===0,_=v.containerWidth>l,z=m({"uppy-Root":v.isTargetDOMEl}),H=m({"uppy-Dashboard":!0,"uppy-Dashboard--isDisabled":v.disabled,"uppy-Dashboard--animateOpenClose":v.animateOpenClose,"uppy-Dashboard--isClosing":v.isClosing,"uppy-Dashboard--isDraggingOver":v.isDraggingOver,"uppy-Dashboard--modal":!v.inline,"uppy-size--md":v.containerWidth>l,"uppy-size--lg":v.containerWidth>k,"uppy-size--xl":v.containerWidth>T,"uppy-size--height-md":v.containerHeight>S,"uppy-Dashboard--isAddFilesPanelVisible":v.showAddFilesPanel,"uppy-Dashboard--isInnerWrapVisible":v.areInsidesReadyToBeVisible}),$=1;v.containerWidth>T?$=5:v.containerWidth>k?$=4:v.containerWidth>l&&($=3);var Q=v.showSelectedFiles&&!E,G=U("div",{className:H,"data-uppy-theme":v.theme,"data-uppy-num-acquirers":v.acquirers.length,"data-uppy-drag-drop-supported":!v.disableLocalFiles&&x(),"aria-hidden":v.inline?"false":v.isHidden,"aria-disabled":v.disabled,"aria-label":v.inline?v.i18n("dashboardTitle"):v.i18n("dashboardWindowTitle"),onPaste:v.handlePaste,onDragOver:v.handleDragOver,onDragLeave:v.handleDragLeave,onDrop:v.handleDrop},U("div",{className:"uppy-Dashboard-overlay",tabIndex:-1,onClick:v.handleClickOutside}),U("div",{className:"uppy-Dashboard-inner","aria-modal":!v.inline&&"true",role:!v.inline&&"dialog",style:{width:v.inline&&v.width?v.width:"",height:v.inline&&v.height?v.height:""}},v.inline?null:U("button",{className:"uppy-u-reset uppy-Dashboard-close",type:"button","aria-label":v.i18n("closeModal"),title:v.i18n("closeModal"),onClick:v.closeModal},U("span",{"aria-hidden":"true"},"\xD7")),U("div",{className:"uppy-Dashboard-innerWrap"},U("div",{className:"uppy-Dashboard-dropFilesHereHint"},v.i18n("dropHint")),Q&&U(y,v),Q?U(s,i({},v,{itemsPerRow:$})):U(b,i({},v,{isSizeMD:_})),U(A,null,v.showAddFilesPanel?U(c,i({key:"AddFiles"},v,{isSizeMD:_})):null),U(A,null,v.fileCardFor?U(u,i({key:"FileCard"},v)):null),U(A,null,v.activePickerPanel?U(d,i({key:"Picker"},v)):null),U(A,null,v.showFileEditor?U(f,i({key:"Editor"},v)):null),U("div",{className:"uppy-Dashboard-progressindicators"},v.progressindicators.map(function(I){return v.getPlugin(I.id).render(v.state)})))));return U("div",{className:z,dir:v.direction},G)}},2644:function(N,X,r){var i=r(3562),s=i.h,b=r(7010);function c(d){var f=this.props.files[this.props.fileCardFor];return s("div",{className:b("uppy-DashboardContent-panel",d.className),role:"tabpanel","data-uppy-panelType":"FileEditor",id:"uppy-DashboardContent-panel--editor"},s("div",{className:"uppy-DashboardContent-bar"},s("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},d.i18nArray("editing",{file:s("span",{className:"uppy-DashboardContent-titleFile"},f.meta?f.meta.name:f.name)})),s("button",{className:"uppy-DashboardContent-back",type:"button",onClick:d.hideAllPanels},d.i18n("done"))),s("div",{className:"uppy-DashboardContent-panelBody"},d.editors.map(function(y){return d.getPlugin(y.id).render(d.state)})))}N.exports=c},9925:function(N,X,r){function i(){return i=Object.assign||function(B){for(var U=1;U<arguments.length;U++){var T=arguments[U];for(var k in T)Object.prototype.hasOwnProperty.call(T,k)&&(B[k]=T[k])}return B},i.apply(this,arguments)}function s(B,U){B.prototype=Object.create(U.prototype),B.prototype.constructor=B,b(B,U)}function b(B,U){return b=Object.setPrototypeOf||function(k,l){return k.__proto__=l,k},b(B,U)}var c=r(3562),d=c.h,f=c.Component,y=r(7010),u=r(5058),A=r(7453),m=r(3738),x=function(B){s(U,B);function U(k){var l;l=B.call(this,k)||this,l.saveOnEnter=function(E){if(E.keyCode===13){E.stopPropagation(),E.preventDefault();var _=l.props.files[l.props.fileCardFor];l.props.saveFileCard(l.state.formState,_.id)}},l.updateMeta=function(E,_){var z;l.setState({formState:i({},l.state.formState,(z={},z[_]=E,z))})},l.handleSave=function(){var E=l.props.fileCardFor;l.props.saveFileCard(l.state.formState,E)},l.handleCancel=function(){l.props.toggleFileCard(!1)},l.renderMetaFields=function(){var E=l.getMetaFields()||[],_={text:"uppy-u-reset uppy-c-textInput uppy-Dashboard-FileCard-input"};return E.map(function(z){var H="uppy-Dashboard-FileCard-input-"+z.id;return d("fieldset",{key:z.id,className:"uppy-Dashboard-FileCard-fieldset"},d("label",{className:"uppy-Dashboard-FileCard-label",htmlFor:H},z.name),z.render!==void 0?z.render({value:l.state.formState[z.id],onChange:function(Q){return l.updateMeta(Q,z.id)},fieldCSSClasses:_},d):d("input",{className:_.text,id:H,type:z.type||"text",value:l.state.formState[z.id],placeholder:z.placeholder,onKeyUp:l.saveOnEnter,onKeyDown:l.saveOnEnter,onKeyPress:l.saveOnEnter,onInput:function(Q){return l.updateMeta(Q.target.value,z.id)},"data-uppy-super-focusable":!0}))})};var S=l.props.files[l.props.fileCardFor],h=l.getMetaFields()||[],v={};return h.forEach(function(E){v[E.id]=S.meta[E.id]||""}),l.state={formState:v},l}var T=U.prototype;return T.getMetaFields=function(){return typeof this.props.metaFields=="function"?this.props.metaFields(this.props.files[this.props.fileCardFor]):this.props.metaFields},T.render=function(){var l=this,S=this.props.files[this.props.fileCardFor],h=this.props.canEditFile(S);return d("div",{className:y("uppy-Dashboard-FileCard",this.props.className),"data-uppy-panelType":"FileCard",onDragOver:A,onDragLeave:A,onDrop:A,onPaste:A},d("div",{className:"uppy-DashboardContent-bar"},d("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},this.props.i18nArray("editing",{file:d("span",{className:"uppy-DashboardContent-titleFile"},S.meta?S.meta.name:S.name)})),d("button",{className:"uppy-DashboardContent-back",type:"button",title:this.props.i18n("finishEditingFile"),onClick:this.handleSave},this.props.i18n("done"))),d("div",{className:"uppy-Dashboard-FileCard-inner"},d("div",{className:"uppy-Dashboard-FileCard-preview",style:{backgroundColor:u(S.type).color}},d(m,{file:S}),h&&d("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-Dashboard-FileCard-edit",onClick:function(){return l.props.openFileEditor(S)}},this.props.i18n("editFile"))),d("div",{className:"uppy-Dashboard-FileCard-info"},this.renderMetaFields()),d("div",{className:"uppy-Dashboard-FileCard-actions"},d("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Dashboard-FileCard-actionsBtn",type:"button",onClick:this.handleSave},this.props.i18n("saveChanges")),d("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-link uppy-Dashboard-FileCard-actionsBtn",type:"button",onClick:this.handleCancel},this.props.i18n("cancel")))))},U}(f);N.exports=x},4292:function(N,X,r){var i=r(3562),s=i.h,b=r(8983);function c(u){var A=u.file,m=u.uploadInProgressOrComplete,x=u.metaFields,B=u.canEditFile,U=u.i18n,T=u.onClick;return!m&&x&&x.length>0||!m&&B(A)?s("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--edit",type:"button","aria-label":U("editFile")+" "+A.meta.name,title:U("editFile"),onClick:function(){return T()}},s("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14",height:"14",viewBox:"0 0 14 14"},s("g",{fillRule:"evenodd"},s("path",{d:"M1.5 10.793h2.793A1 1 0 0 0 5 10.5L11.5 4a1 1 0 0 0 0-1.414L9.707.793a1 1 0 0 0-1.414 0l-6.5 6.5A1 1 0 0 0 1.5 8v2.793zm1-1V8L9 1.5l1.793 1.793-6.5 6.5H2.5z",fillRule:"nonzero"}),s("rect",{x:"1",y:"12.293",width:"11",height:"1",rx:".5"}),s("path",{fillRule:"nonzero",d:"M6.793 2.5L9.5 5.207l.707-.707L7.5 1.793z"})))):null}function d(u){var A=u.i18n,m=u.onClick;return s("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--remove",type:"button","aria-label":A("removeFile"),title:A("removeFile"),onClick:function(){return m()}},s("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"18",height:"18",viewBox:"0 0 18 18"},s("path",{d:"M9 0C4.034 0 0 4.034 0 9s4.034 9 9 9 9-4.034 9-9-4.034-9-9-9z"}),s("path",{fill:"#FFF",d:"M13 12.222l-.778.778L9 9.778 5.778 13 5 12.222 8.222 9 5 5.778 5.778 5 9 8.222 12.222 5l.778.778L9.778 9z"})))}var f=function(A,m){b(m.file.uploadURL,m.i18n("copyLinkToClipboardFallback")).then(function(){m.log("Link copied to clipboard."),m.info(m.i18n("copyLinkToClipboardSuccess"),"info",3e3)}).catch(m.log).then(function(){return A.target.focus({preventScroll:!0})})};function y(u){return s("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--copyLink",type:"button","aria-label":u.i18n("copyLink"),title:u.i18n("copyLink"),onClick:function(m){return f(m,u)}},s("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14",height:"14",viewBox:"0 0 14 12"},s("path",{d:"M7.94 7.703a2.613 2.613 0 0 1-.626 2.681l-.852.851a2.597 2.597 0 0 1-1.849.766A2.616 2.616 0 0 1 2.764 7.54l.852-.852a2.596 2.596 0 0 1 2.69-.625L5.267 7.099a1.44 1.44 0 0 0-.833.407l-.852.851a1.458 1.458 0 0 0 1.03 2.486c.39 0 .755-.152 1.03-.426l.852-.852c.231-.231.363-.522.406-.824l1.04-1.038zm4.295-5.937A2.596 2.596 0 0 0 10.387 1c-.698 0-1.355.272-1.849.766l-.852.851a2.614 2.614 0 0 0-.624 2.688l1.036-1.036c.041-.304.173-.6.407-.833l.852-.852c.275-.275.64-.426 1.03-.426a1.458 1.458 0 0 1 1.03 2.486l-.852.851a1.442 1.442 0 0 1-.824.406l-1.04 1.04a2.596 2.596 0 0 0 2.683-.628l.851-.85a2.616 2.616 0 0 0 0-3.697zm-6.88 6.883a.577.577 0 0 0 .82 0l3.474-3.474a.579.579 0 1 0-.819-.82L5.355 7.83a.579.579 0 0 0 0 .819z"})))}N.exports=function(A){var m=A.file,x=A.uploadInProgressOrComplete,B=A.canEditFile,U=A.metaFields,T=A.showLinkToFileUploadResult,k=A.showRemoveButton,l=A.i18n,S=A.removeFile,h=A.toggleFileCard,v=A.openFileEditor,E=A.log,_=A.info,z=function(){U&&U.length>0?h(!0,m.id):v(m)};return s("div",{className:"uppy-Dashboard-Item-actionWrapper"},s(c,{i18n:l,file:m,uploadInProgressOrComplete:x,canEditFile:B,metaFields:U,onClick:z}),T&&m.uploadURL?s(y,{file:m,i18n:l,info:_,log:E}):null,k?s(d,{i18n:l,info:A.info,log:A.log,onClick:function(){return S(m.id,"removed-by-user")}}):null)}},9839:function(N,X,r){var i=r(3562),s=i.h,b=r(2567),c=r(5180),d=function(x,B){return s("span",{title:B.i18n("fileSource",{name:x.name})},x.icon())},f=function(x){return x.file.source&&x.file.source!==x.id&&s("div",{className:"uppy-Dashboard-Item-sourceIcon"},x.acquirers.map(function(B){if(B.id===x.file.source)return d(B,x)}))},y=function(x){var B;return x.containerWidth<=352?B=35:x.containerWidth<=576?B=60:B=30,s("div",{className:"uppy-Dashboard-Item-name",title:x.file.meta.name},c(x.file.meta.name,B))},u=function(x){return x.file.data.size&&s("div",{className:"uppy-Dashboard-Item-statusSize"},b(x.file.data.size))},A=function(x){var B=x.file,U=x.onClick;return B.error?s("span",{className:"uppy-Dashboard-Item-errorDetails","aria-label":B.error,"data-microtip-position":"bottom","data-microtip-size":"medium",role:"tooltip",onClick:U},"?"):null};N.exports=function(x){return s("div",{className:"uppy-Dashboard-Item-fileInfo","data-uppy-file-source":x.file.source},y(x),s("div",{className:"uppy-Dashboard-Item-status"},u(x),f(x),s(A,{file:x.file,onClick:function(){alert(x.file.error)}})))}},6389:function(N,X,r){var i=r(3562),s=i.h,b=r(3738),c=r(5058);N.exports=function(f){return s("div",{className:"uppy-Dashboard-Item-previewInnerWrap",style:{backgroundColor:c(f.file.type).color}},f.showLinkToFileUploadResult&&f.file.uploadURL&&s("a",{className:"uppy-Dashboard-Item-previewLink",href:f.file.uploadURL,rel:"noreferrer noopener",target:"_blank","aria-label":f.file.meta.name}),s(b,{file:f.file}))}},8388:function(N,X,r){var i=r(3562),s=i.h;function b(u){if(!u.isUploaded){if(u.error&&!u.hideRetryButton){u.retryUpload(u.file.id);return}u.resumableUploads&&!u.hidePauseResumeButton?u.pauseUpload(u.file.id):u.individualCancellation&&!u.hideCancelButton&&u.cancelUpload(u.file.id)}}function c(u){return u.isUploaded?u.i18n("uploadComplete"):u.error?u.i18n("retryUpload"):u.resumableUploads?u.file.isPaused?u.i18n("resumeUpload"):u.i18n("pauseUpload"):u.individualCancellation?u.i18n("cancelUpload"):""}function d(u){return s("div",{className:"uppy-Dashboard-Item-progress"},s("button",{className:"uppy-u-reset uppy-Dashboard-Item-progressIndicator",type:"button","aria-label":c(u),title:c(u),onClick:function(){return b(u)}},u.children))}function f(u){var A=u.children;return s("svg",{"aria-hidden":"true",focusable:"false",width:"70",height:"70",viewBox:"0 0 36 36",className:"uppy-c-icon uppy-Dashboard-Item-progressIcon--circle"},A)}function y(u){var A=u.progress,m=2*Math.PI*15;return s("g",null,s("circle",{className:"uppy-Dashboard-Item-progressIcon--bg",r:"15",cx:"18",cy:"18",strokeWidth:"2",fill:"none"}),s("circle",{className:"uppy-Dashboard-Item-progressIcon--progress",r:"15",cx:"18",cy:"18",transform:"rotate(-90, 18, 18)",strokeWidth:"2",fill:"none",strokeDasharray:m,strokeDashoffset:m-m/100*A}))}N.exports=function(A){return A.file.progress.uploadStarted?A.isUploaded?s("div",{className:"uppy-Dashboard-Item-progress"},s("div",{className:"uppy-Dashboard-Item-progressIndicator"},s(f,null,s("circle",{r:"15",cx:"18",cy:"18",fill:"#1bb240"}),s("polygon",{className:"uppy-Dashboard-Item-progressIcon--check",transform:"translate(2, 3)",points:"14 22.5 7 15.2457065 8.99985857 13.1732815 14 18.3547104 22.9729883 9 25 11.1005634"})))):A.error&&!A.hideRetryButton?s(d,A,s("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-Dashboard-Item-progressIcon--retry",width:"28",height:"31",viewBox:"0 0 16 19"},s("path",{d:"M16 11a8 8 0 1 1-8-8v2a6 6 0 1 0 6 6h2z"}),s("path",{d:"M7.9 3H10v2H7.9z"}),s("path",{d:"M8.536.5l3.535 3.536-1.414 1.414L7.12 1.914z"}),s("path",{d:"M10.657 2.621l1.414 1.415L8.536 7.57 7.12 6.157z"}))):A.resumableUploads&&!A.hidePauseResumeButton?s(d,A,s(f,null,s(y,{progress:A.file.progress.percentage}),A.file.isPaused?s("polygon",{className:"uppy-Dashboard-Item-progressIcon--play",transform:"translate(3, 3)",points:"12 20 12 10 20 15"}):s("g",{className:"uppy-Dashboard-Item-progressIcon--pause",transform:"translate(14.5, 13)"},s("rect",{x:"0",y:"0",width:"2",height:"10",rx:"0"}),s("rect",{x:"5",y:"0",width:"2",height:"10",rx:"0"})))):!A.resumableUploads&&A.individualCancellation&&!A.hideCancelButton?s(d,A,s(f,null,s(y,{progress:A.file.progress.percentage}),s("polygon",{className:"cancel",transform:"translate(2, 2)",points:"19.8856516 11.0625 16 14.9481516 12.1019737 11.0625 11.0625 12.1143484 14.9481516 16 11.0625 19.8980263 12.1019737 20.9375 16 17.0518484 19.8856516 20.9375 20.9375 19.8980263 17.0518484 16 20.9375 12"}))):s("div",{className:"uppy-Dashboard-Item-progress"},s("div",{className:"uppy-Dashboard-Item-progressIndicator"},s(f,null,s(y,{progress:A.file.progress.percentage})))):null}},2506:function(N,X,r){function i(B,U){B.prototype=Object.create(U.prototype),B.prototype.constructor=B,s(B,U)}function s(B,U){return s=Object.setPrototypeOf||function(k,l){return k.__proto__=l,k},s(B,U)}var b=r(3562),c=b.h,d=b.Component,f=r(7010),y=r(7426),u=r(6389),A=r(8388),m=r(9839),x=r(4292);N.exports=function(B){i(U,B);function U(){return B.apply(this,arguments)||this}var T=U.prototype;return T.shouldComponentUpdate=function(l){return!y(this.props,l)},T.componentDidMount=function(){var l=this.props.file;l.preview||this.props.handleRequestThumbnail(l)},T.componentWillUnmount=function(){var l=this.props.file;l.preview||this.props.handleCancelThumbnail(l)},T.render=function(){var l=this.props.file,S=l.progress.preprocess||l.progress.postprocess,h=l.progress.uploadComplete&&!S&&!l.error,v=l.progress.uploadStarted||S,E=l.progress.uploadStarted&&!l.progress.uploadComplete||S,_=l.error||!1,z=(this.props.individualCancellation||!E)&&!h;h&&this.props.showRemoveButtonAfterComplete&&(z=!0);var H=f({"uppy-Dashboard-Item":!0,"is-inprogress":E,"is-processing":S,"is-complete":h,"is-error":!!_,"is-resumable":this.props.resumableUploads,"is-noIndividualCancellation":!this.props.individualCancellation});return c("div",{className:H,id:"uppy_"+l.id,role:this.props.role},c("div",{className:"uppy-Dashboard-Item-preview"},c(u,{file:l,showLinkToFileUploadResult:this.props.showLinkToFileUploadResult}),c(A,{file:l,error:_,isUploaded:h,hideRetryButton:this.props.hideRetryButton,hideCancelButton:this.props.hideCancelButton,hidePauseResumeButton:this.props.hidePauseResumeButton,showRemoveButtonAfterComplete:this.props.showRemoveButtonAfterComplete,resumableUploads:this.props.resumableUploads,individualCancellation:this.props.individualCancellation,pauseUpload:this.props.pauseUpload,cancelUpload:this.props.cancelUpload,retryUpload:this.props.retryUpload,i18n:this.props.i18n})),c("div",{className:"uppy-Dashboard-Item-fileInfoAndButtons"},c(m,{file:l,id:this.props.id,acquirers:this.props.acquirers,containerWidth:this.props.containerWidth,i18n:this.props.i18n}),c(x,{file:l,metaFields:this.props.metaFields,showLinkToFileUploadResult:this.props.showLinkToFileUploadResult,showRemoveButton:z,canEditFile:this.props.canEditFile,uploadInProgressOrComplete:v,removeFile:this.props.removeFile,toggleFileCard:this.props.toggleFileCard,openFileEditor:this.props.openFileEditor,i18n:this.props.i18n,log:this.props.log,info:this.props.info})))},U}(d)},7485:function(N,X,r){function i(){return i=Object.assign||function(u){for(var A=1;A<arguments.length;A++){var m=arguments[A];for(var x in m)Object.prototype.hasOwnProperty.call(m,x)&&(u[x]=m[x])}return u},i.apply(this,arguments)}var s=r(2506),b=r(1748),c=r(7010),d=r(3562),f=d.h;function y(u,A){var m=[],x=[];return u.forEach(function(B,U){x.length<A?x.push(B):(m.push(x),x=[B])}),x.length&&m.push(x),m}N.exports=function(u){var A=u.totalFileCount===0,m=c("uppy-Dashboard-files",{"uppy-Dashboard-files--noFiles":A}),x=u.itemsPerRow===1?71:200,B={id:u.id,error:u.error,i18n:u.i18n,log:u.log,info:u.info,acquirers:u.acquirers,resumableUploads:u.resumableUploads,individualCancellation:u.individualCancellation,hideRetryButton:u.hideRetryButton,hidePauseResumeButton:u.hidePauseResumeButton,hideCancelButton:u.hideCancelButton,showLinkToFileUploadResult:u.showLinkToFileUploadResult,showRemoveButtonAfterComplete:u.showRemoveButtonAfterComplete,isWide:u.isWide,metaFields:u.metaFields,retryUpload:u.retryUpload,pauseUpload:u.pauseUpload,cancelUpload:u.cancelUpload,toggleFileCard:u.toggleFileCard,removeFile:u.removeFile,handleRequestThumbnail:u.handleRequestThumbnail,handleCancelThumbnail:u.handleCancelThumbnail},U=y(Object.keys(u.files),u.itemsPerRow);function T(k){return f("div",{role:"presentation",key:k[0]},k.map(function(l){return f(s,i({key:l},B,{role:"listitem",openFileEditor:u.openFileEditor,canEditFile:u.canEditFile,file:u.files[l]}))}))}return f(b,{class:m,role:"list",data:U,renderRow:T,rowHeight:x})}},3738:function(N,X,r){var i=r(5058),s=r(3562),b=s.h;N.exports=function(d){var f=d.file;if(f.preview)return b("img",{className:"uppy-Dashboard-Item-previewImg",alt:f.name,src:f.preview});var y=i(f.type),u=y.color,A=y.icon;return b("div",{className:"uppy-Dashboard-Item-previewIconWrap"},b("span",{className:"uppy-Dashboard-Item-previewIcon",style:{color:u}},A),b("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-Dashboard-Item-previewIconBg",width:"58",height:"76",viewBox:"0 0 58 76"},b("rect",{fill:"#FFF",width:"58",height:"76",rx:"3",fillRule:"evenodd"})))}},5390:function(N,X,r){var i=r(3562),s=i.h,b=r(7010),c=r(7453);function d(f){return s("div",{className:b("uppy-DashboardContent-panel",f.className),role:"tabpanel","data-uppy-panelType":"PickerPanel",id:"uppy-DashboardContent-panel--"+f.activePickerPanel.id,onDragOver:c,onDragLeave:c,onDrop:c,onPaste:c},s("div",{className:"uppy-DashboardContent-bar"},s("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},f.i18n("importFrom",{name:f.activePickerPanel.name})),s("button",{className:"uppy-DashboardContent-back",type:"button",onClick:f.hideAllPanels},f.i18n("done"))),s("div",{className:"uppy-DashboardContent-panelBody"},f.getPlugin(f.activePickerPanel.id).render(f.state)))}N.exports=d},1947:function(N,X,r){var i=r(3562),s=i.h,b={STATE_ERROR:"error",STATE_WAITING:"waiting",STATE_PREPROCESSING:"preprocessing",STATE_UPLOADING:"uploading",STATE_POSTPROCESSING:"postprocessing",STATE_COMPLETE:"complete",STATE_PAUSED:"paused"};function c(y,u,A,m){if(m===void 0&&(m={}),y)return b.STATE_ERROR;if(u)return b.STATE_COMPLETE;if(A)return b.STATE_PAUSED;for(var x=b.STATE_WAITING,B=Object.keys(m),U=0;U<B.length;U++){var T=m[B[U]].progress;if(T.uploadStarted&&!T.uploadComplete)return b.STATE_UPLOADING;T.preprocess&&x!==b.STATE_UPLOADING&&(x=b.STATE_PREPROCESSING),T.postprocess&&x!==b.STATE_UPLOADING&&x!==b.STATE_PREPROCESSING&&(x=b.STATE_POSTPROCESSING)}return x}function d(y){var u=c(y.isAllErrored,y.isAllComplete,y.isAllPaused,y.files);switch(u){case"uploading":return y.i18n("uploadingXFiles",{smart_count:y.inProgressNotPausedFiles.length});case"preprocessing":case"postprocessing":return y.i18n("processingXFiles",{smart_count:y.processingFiles.length});case"paused":return y.i18n("uploadPaused");case"waiting":return y.i18n("xFilesSelected",{smart_count:y.newFiles.length});case"complete":return y.i18n("uploadComplete")}}function f(y){var u=y.allowNewUpload;return u&&y.maxNumberOfFiles&&(u=y.totalFileCount<y.maxNumberOfFiles),s("div",{className:"uppy-DashboardContent-bar"},!y.isAllComplete&&!y.hideCancelButton?s("button",{className:"uppy-DashboardContent-back",type:"button",onClick:y.cancelAll},y.i18n("cancel")):s("div",null),s("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},s(d,y)),u?s("button",{className:"uppy-DashboardContent-addMore",type:"button","aria-label":y.i18n("addMoreFiles"),title:y.i18n("addMoreFiles"),onClick:function(){return y.toggleAddFilesPanel(!0)}},s("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"15",height:"15",viewBox:"0 0 15 15"},s("path",{d:"M8 6.5h6a.5.5 0 0 1 .5.5v.5a.5.5 0 0 1-.5.5H8v6a.5.5 0 0 1-.5.5H7a.5.5 0 0 1-.5-.5V8h-6a.5.5 0 0 1-.5-.5V7a.5.5 0 0 1 .5-.5h6v-6A.5.5 0 0 1 7 0h.5a.5.5 0 0 1 .5.5v6z"})),s("span",{className:"uppy-DashboardContent-addMoreCaption"},y.i18n("addMore"))):s("div",null))}N.exports=f},4216:function(N,X,r){function i(m,x){m.prototype=Object.create(x.prototype),m.prototype.constructor=m,s(m,x)}function s(m,x){return s=Object.setPrototypeOf||function(U,T){return U.__proto__=T,U},s(m,x)}var b=r(3562),c=b.cloneElement,d=b.Component,f=r(7010),y="uppy-transition-slideDownUp",u=250,A=function(m){i(x,m);function x(U){var T;return T=m.call(this,U)||this,T.state={cachedChildren:null,className:""},T}var B=x.prototype;return B.componentWillUpdate=function(T){var k=this,l=this.state.cachedChildren,S=T.children[0];if(l!==S){var h={cachedChildren:S};S&&!l&&(h.className=y+"-enter",cancelAnimationFrame(this.animationFrame),clearTimeout(this.leaveTimeout),this.leaveTimeout=void 0,this.animationFrame=requestAnimationFrame(function(){k.base.getBoundingClientRect(),k.setState({className:y+"-enter "+y+"-enter-active"}),k.enterTimeout=setTimeout(function(){k.setState({className:""})},u)})),l&&!S&&this.leaveTimeout===void 0&&(h.cachedChildren=l,h.className=y+"-leave",cancelAnimationFrame(this.animationFrame),clearTimeout(this.enterTimeout),this.enterTimeout=void 0,this.animationFrame=requestAnimationFrame(function(){k.setState({className:y+"-leave "+y+"-leave-active"}),k.leaveTimeout=setTimeout(function(){k.setState({cachedChildren:null,className:""})},u)})),this.setState(h)}},B.render=function(){var T=this.state,k=T.cachedChildren,l=T.className;return k?c(k,{className:f(l,k.attributes.className)}):null},x}(d);N.exports=A},1748:function(N,X,r){function i(){return i=Object.assign||function(x){for(var B=1;B<arguments.length;B++){var U=arguments[B];for(var T in U)Object.prototype.hasOwnProperty.call(U,T)&&(x[T]=U[T])}return x},i.apply(this,arguments)}function s(x,B){if(x==null)return{};var U={},T=Object.keys(x),k,l;for(l=0;l<T.length;l++)k=T[l],!(B.indexOf(k)>=0)&&(U[k]=x[k]);return U}function b(x,B){x.prototype=Object.create(B.prototype),x.prototype.constructor=x,c(x,B)}function c(x,B){return c=Object.setPrototypeOf||function(T,k){return T.__proto__=k,T},c(x,B)}var d=r(3562),f=d.h,y=d.Component,u={position:"relative",width:"100%",minHeight:"100%"},A={position:"absolute",top:0,left:0,width:"100%",overflow:"visible"},m=function(x){b(B,x);function B(T){var k;return k=x.call(this,T)||this,k.handleResize=function(){k.resize()},k.handleScroll=function(){k.setState({offset:k.base.scrollTop}),k.props.sync&&k.forceUpdate()},k.focusElement=null,k.state={offset:0,height:0},k}var U=B.prototype;return U.resize=function(){this.state.height!==this.base.offsetHeight&&this.setState({height:this.base.offsetHeight})},U.componentWillUpdate=function(){this.base.contains(document.activeElement)&&(this.focusElement=document.activeElement)},U.componentDidUpdate=function(){this.focusElement&&this.focusElement.parentNode&&document.activeElement!==this.focusElement&&this.focusElement.focus(),this.focusElement=null,this.resize()},U.componentDidMount=function(){this.resize(),window.addEventListener("resize",this.handleResize)},U.componentWillUnmount=function(){window.removeEventListener("resize",this.handleResize)},U.render=function(k){var l=k.data,S=k.rowHeight,h=k.renderRow,v=k.overscanCount,E=v===void 0?10:v,_=k.sync,z=s(k,["data","rowHeight","renderRow","overscanCount","sync"]),H=this.state,$=H.offset,Q=H.height,G=Math.floor($/S),I=Math.floor(Q/S);E&&(G=Math.max(0,G-G%E),I+=E);var D=G+I+4,M=l.slice(G,D),P=i({},u,{height:l.length*S}),C=i({},A,{top:G*S});return f("div",i({onScroll:this.handleScroll},z),f("div",{role:"presentation",style:P},f("div",{role:"presentation",style:C},M.map(h))))},B}(y);N.exports=m},2921:function(N,X,r){var i,s;function b(){return b=Object.assign||function(P){for(var C=1;C<arguments.length;C++){var n=arguments[C];for(var g in n)Object.prototype.hasOwnProperty.call(n,g)&&(P[g]=n[g])}return P},b.apply(this,arguments)}function c(P){if(P===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P}function d(P,C){P.prototype=Object.create(C.prototype),P.prototype.constructor=P,f(P,C)}function f(P,C){return f=Object.setPrototypeOf||function(g,R){return g.__proto__=R,g},f(P,C)}var y=r(3562),u=y.h,A=r(9046),m=A.Plugin,x=r(9082),B=r(1660),U=r(3330),T=r(2158),k=r(195),l=r(9613),S=r(9212),h=r(5169),v=r(936),E=r(3729),_=r(4628),z=r(5711).default||r(5711),H=r(8990),$=r(6637).default||r(6637),Q=r(9855),G=9,I=27;function D(){var P={};return P.promise=new Promise(function(C,n){P.resolve=C,P.reject=n}),P}function M(){return u("svg",{"aria-hidden":"true",focusable:"false",width:"30",height:"30",viewBox:"0 0 30 30"},u("path",{d:"M15 30c8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15C6.716 0 0 6.716 0 15c0 8.284 6.716 15 15 15zm4.258-12.676v6.846h-8.426v-6.846H5.204l9.82-12.364 9.82 12.364H19.26z"}))}N.exports=(s=i=function(P){d(C,P);function C(g,R){var e;e=P.call(this,g,R)||this,e.setOptions=function(L){P.prototype.setOptions.call(c(e),L),e.i18nInit()},e.i18nInit=function(){e.translator=new x([e.defaultLocale,e.uppy.locale,e.opts.locale]),e.i18n=e.translator.translate.bind(e.translator),e.i18nArray=e.translator.translateArray.bind(e.translator),e.setPluginState()},e.removeTarget=function(L){var q=e.getPluginState(),Y=q.targets.filter(function(te){return te.id!==L.id});e.setPluginState({targets:Y})},e.addTarget=function(L){var q=L.id||L.constructor.name,Y=L.title||q,te=L.type;if(te!=="acquirer"&&te!=="progressindicator"&&te!=="editor"){var re="Dashboard: can only be targeted by plugins of types: acquirer, progressindicator, editor";e.uppy.log(re,"error");return}var se={id:q,name:Y,type:te},O=e.getPluginState(),j=O.targets.slice();return j.push(se),e.setPluginState({targets:j}),e.el},e.hideAllPanels=function(){var L={activePickerPanel:!1,showAddFilesPanel:!1,activeOverlayType:null,fileCardFor:null,showFileEditor:!1},q=e.getPluginState();q.activePickerPanel===L.activePickerPanel&&q.showAddFilesPanel===L.showAddFilesPanel&&q.showFileEditor===L.showFileEditor&&q.activeOverlayType===L.activeOverlayType||e.setPluginState(L)},e.showPanel=function(L){var q=e.getPluginState(),Y=q.targets,te=Y.filter(function(re){return re.type==="acquirer"&&re.id===L})[0];e.setPluginState({activePickerPanel:te,activeOverlayType:"PickerPanel"})},e.canEditFile=function(L){var q=e.getPluginState(),Y=q.targets,te=e._getEditors(Y);return te.some(function(re){return e.uppy.getPlugin(re.id).canEditFile(L)})},e.openFileEditor=function(L){var q=e.getPluginState(),Y=q.targets,te=e._getEditors(Y);e.setPluginState({showFileEditor:!0,fileCardFor:L.id||null,activeOverlayType:"FileEditor"}),te.forEach(function(re){e.uppy.getPlugin(re.id).selectFile(L)})},e.openModal=function(){var L=D(),q=L.promise,Y=L.resolve;if(e.savedScrollPosition=window.pageYOffset,e.savedActiveElement=document.activeElement,e.opts.disablePageScrollWhenModalOpen&&document.body.classList.add("uppy-Dashboard-isFixed"),e.opts.animateOpenClose&&e.getPluginState().isClosing){var te=function re(){e.setPluginState({isHidden:!1}),e.el.removeEventListener("animationend",re,!1),Y()};e.el.addEventListener("animationend",te,!1)}else e.setPluginState({isHidden:!1}),Y();return e.opts.browserBackButtonClose&&e.updateBrowserHistory(),document.addEventListener("keydown",e.handleKeyDownInModal),e.uppy.emit("dashboard:modal-open"),q},e.closeModal=function(L){L===void 0&&(L={});var q=L,Y=q.manualClose,te=Y===void 0?!0:Y,re=e.getPluginState(),se=re.isHidden,O=re.isClosing;if(!(se||O)){var j=D(),K=j.promise,ee=j.resolve;if(e.opts.disablePageScrollWhenModalOpen&&document.body.classList.remove("uppy-Dashboard-isFixed"),e.opts.animateOpenClose){e.setPluginState({isClosing:!0});var oe=function ue(){e.setPluginState({isHidden:!0,isClosing:!1}),e.superFocus.cancel(),e.savedActiveElement.focus(),e.el.removeEventListener("animationend",ue,!1),ee()};e.el.addEventListener("animationend",oe,!1)}else e.setPluginState({isHidden:!0}),e.superFocus.cancel(),e.savedActiveElement.focus(),ee();return document.removeEventListener("keydown",e.handleKeyDownInModal),te&&e.opts.browserBackButtonClose&&history.state&&history.state[e.modalName]&&history.go(-1),e.uppy.emit("dashboard:modal-closed"),K}},e.isModalOpen=function(){return!e.getPluginState().isHidden||!1},e.requestCloseModal=function(){return e.opts.onRequestCloseModal?e.opts.onRequestCloseModal():e.closeModal()},e.setDarkModeCapability=function(L){var q=e.uppy.getState(),Y=q.capabilities;e.uppy.setState({capabilities:b({},Y,{darkMode:L})})},e.handleSystemDarkModeChange=function(L){var q=L.matches;e.uppy.log("[Dashboard] Dark mode is "+(q?"on":"off")),e.setDarkModeCapability(q)},e.toggleFileCard=function(L,q){var Y=e.uppy.getFile(q);L?e.uppy.emit("dashboard:file-edit-start",Y):e.uppy.emit("dashboard:file-edit-complete",Y),e.setPluginState({fileCardFor:L?q:null,activeOverlayType:L?"FileCard":null})},e.toggleAddFilesPanel=function(L){e.setPluginState({showAddFilesPanel:L,activeOverlayType:L?"AddFiles":null})},e.addFiles=function(L){var q=L.map(function(Y){return{source:e.id,name:Y.name,type:Y.type,data:Y,meta:{relativePath:Y.relativePath||null}}});try{e.uppy.addFiles(q)}catch(Y){e.uppy.log(Y)}},e.startListeningToResize=function(){e.resizeObserver=new z(function(L,q){var Y=L[0],te=Y.contentRect,re=te.width,se=te.height;e.uppy.log("[Dashboard] resized: "+re+" / "+se,"debug"),e.setPluginState({containerWidth:re,containerHeight:se,areInsidesReadyToBeVisible:!0})}),e.resizeObserver.observe(e.el.querySelector(".uppy-Dashboard-inner")),e.makeDashboardInsidesVisibleAnywayTimeout=setTimeout(function(){var L=e.getPluginState(),q=!e.opts.inline&&L.isHidden;!L.areInsidesReadyToBeVisible&&!q&&(e.uppy.log("[Dashboard] resize event didn't fire on time: defaulted to mobile layout","debug"),e.setPluginState({areInsidesReadyToBeVisible:!0}))},1e3)},e.stopListeningToResize=function(){e.resizeObserver.disconnect(),clearTimeout(e.makeDashboardInsidesVisibleAnywayTimeout)},e.recordIfFocusedOnUppyRecently=function(L){e.el.contains(L.target)?e.ifFocusedOnUppyRecently=!0:(e.ifFocusedOnUppyRecently=!1,e.superFocus.cancel())},e.disableAllFocusableElements=function(L){var q=S(e.el.querySelectorAll(Q));L?q.forEach(function(Y){var te=Y.getAttribute("tabindex");te&&(Y.dataset.inertTabindex=te),Y.setAttribute("tabindex","-1")}):q.forEach(function(Y){"inertTabindex"in Y.dataset?Y.setAttribute("tabindex",Y.dataset.inertTabindex):Y.removeAttribute("tabindex")}),e.dashboardIsDisabled=L},e.updateBrowserHistory=function(){if(!history.state||!history.state[e.modalName]){var L;history.pushState(b({},history.state,(L={},L[e.modalName]=!0,L)),"")}window.addEventListener("popstate",e.handlePopState,!1)},e.handlePopState=function(L){e.isModalOpen()&&(!L.state||!L.state[e.modalName])&&e.closeModal({manualClose:!1}),!e.isModalOpen()&&L.state&&L.state[e.modalName]&&history.go(-1)},e.handleKeyDownInModal=function(L){L.keyCode===I&&e.requestCloseModal(L),L.keyCode===G&&E.forModal(L,e.getPluginState().activeOverlayType,e.el)},e.handleClickOutside=function(){e.opts.closeModalOnClickOutside&&e.requestCloseModal()},e.handlePaste=function(L){e.uppy.iteratePlugins(function(Y){Y.type==="acquirer"&&Y.handleRootPaste&&Y.handleRootPaste(L)});var q=S(L.clipboardData.files);e.addFiles(q)},e.handleInputChange=function(L){L.preventDefault();var q=S(L.target.files);e.addFiles(q)},e.handleDragOver=function(L){L.preventDefault(),L.stopPropagation(),!(e.opts.disabled||e.opts.disableLocalFiles)&&(L.dataTransfer.dropEffect="copy",clearTimeout(e.removeDragOverClassTimeout),e.setPluginState({isDraggingOver:!0}))},e.handleDragLeave=function(L){L.preventDefault(),L.stopPropagation(),!(e.opts.disabled||e.opts.disableLocalFiles)&&(clearTimeout(e.removeDragOverClassTimeout),e.removeDragOverClassTimeout=setTimeout(function(){e.setPluginState({isDraggingOver:!1})},50))},e.handleDrop=function(L,q){if(L.preventDefault(),L.stopPropagation(),!(e.opts.disabled||e.opts.disableLocalFiles)){clearTimeout(e.removeDragOverClassTimeout),e.setPluginState({isDraggingOver:!1}),e.uppy.iteratePlugins(function(re){re.type==="acquirer"&&re.handleRootDrop&&re.handleRootDrop(L)});var Y=!1,te=function(se){e.uppy.log(se,"error"),Y||(e.uppy.info(se.message,"error"),Y=!0)};h(L.dataTransfer,{logDropError:te}).then(function(re){re.length>0&&(e.uppy.log("[Dashboard] Files were dropped"),e.addFiles(re))})}},e.handleRequestThumbnail=function(L){e.opts.waitForThumbnailsBeforeUpload||e.uppy.emit("thumbnail:request",L)},e.handleCancelThumbnail=function(L){e.opts.waitForThumbnailsBeforeUpload||e.uppy.emit("thumbnail:cancel",L)},e.handleKeyDownInInline=function(L){L.keyCode===G&&E.forInline(L,e.getPluginState().activeOverlayType,e.el)},e.handlePasteOnBody=function(L){var q=e.el.contains(document.activeElement);q&&e.handlePaste(L)},e.handleComplete=function(L){var q=L.failed;e.opts.closeAfterFinish&&q.length===0&&e.requestCloseModal()},e._openFileEditorWhenFilesAdded=function(L){var q=L[0];e.canEditFile(q)&&e.openFileEditor(q)},e.initEvents=function(){if(e.opts.trigger&&!e.opts.inline){var L=l(e.opts.trigger);L?L.forEach(function(q){return q.addEventListener("click",e.openModal)}):e.uppy.log("Dashboard modal trigger not found. Make sure `trigger` is set in Dashboard options, unless you are planning to call `dashboard.openModal()` method yourself","warning")}e.startListeningToResize(),document.addEventListener("paste",e.handlePasteOnBody),e.uppy.on("plugin-remove",e.removeTarget),e.uppy.on("file-added",e.hideAllPanels),e.uppy.on("dashboard:modal-closed",e.hideAllPanels),e.uppy.on("file-editor:complete",e.hideAllPanels),e.uppy.on("complete",e.handleComplete),document.addEventListener("focus",e.recordIfFocusedOnUppyRecently,!0),document.addEventListener("click",e.recordIfFocusedOnUppyRecently,!0),e.opts.inline&&e.el.addEventListener("keydown",e.handleKeyDownInInline),e.opts.autoOpenFileEditor&&e.uppy.on("files-added",e._openFileEditorWhenFilesAdded)},e.removeEvents=function(){var L=l(e.opts.trigger);!e.opts.inline&&L&&L.forEach(function(q){return q.removeEventListener("click",e.openModal)}),e.stopListeningToResize(),document.removeEventListener("paste",e.handlePasteOnBody),window.removeEventListener("popstate",e.handlePopState,!1),e.uppy.off("plugin-remove",e.removeTarget),e.uppy.off("file-added",e.hideAllPanels),e.uppy.off("dashboard:modal-closed",e.hideAllPanels),e.uppy.off("complete",e.handleComplete),document.removeEventListener("focus",e.recordIfFocusedOnUppyRecently),document.removeEventListener("click",e.recordIfFocusedOnUppyRecently),e.opts.inline&&e.el.removeEventListener("keydown",e.handleKeyDownInInline),e.opts.autoOpenFileEditor&&e.uppy.off("files-added",e._openFileEditorWhenFilesAdded)},e.superFocusOnEachUpdate=function(){var L=e.el.contains(document.activeElement),q=document.activeElement===document.body||document.activeElement===null,Y=e.uppy.getState().info.isHidden,te=!e.opts.inline;Y&&(te||L||q&&e.ifFocusedOnUppyRecently)?e.superFocus(e.el,e.getPluginState().activeOverlayType):e.superFocus.cancel()},e.afterUpdate=function(){if(e.opts.disabled&&!e.dashboardIsDisabled){e.disableAllFocusableElements(!0);return}!e.opts.disabled&&e.dashboardIsDisabled&&e.disableAllFocusableElements(!1),e.superFocusOnEachUpdate()},e.cancelUpload=function(L){e.uppy.removeFile(L)},e.saveFileCard=function(L,q){e.uppy.setFileMeta(q,L),e.toggleFileCard(!1,q)},e._attachRenderFunctionToTarget=function(L){var q=e.uppy.getPlugin(L.id);return b({},L,{icon:q.icon||e.opts.defaultPickerIcon,render:q.render})},e._isTargetSupported=function(L){var q=e.uppy.getPlugin(L.id);return typeof q.isSupported!="function"?!0:q.isSupported()},e._getAcquirers=$(function(L){return L.filter(function(q){return q.type==="acquirer"&&e._isTargetSupported(q)}).map(e._attachRenderFunctionToTarget)}),e._getProgressIndicators=$(function(L){return L.filter(function(q){return q.type==="progressindicator"}).map(e._attachRenderFunctionToTarget)}),e._getEditors=$(function(L){return L.filter(function(q){return q.type==="editor"}).map(e._attachRenderFunctionToTarget)}),e.render=function(L){var q=e.getPluginState(),Y=L.files,te=L.capabilities,re=L.allowNewUpload,se=Object.keys(Y).filter(function(he){return!Y[he].progress.uploadStarted}),O=Object.keys(Y).filter(function(he){return Y[he].progress.uploadStarted}),j=Object.keys(Y).filter(function(he){return Y[he].isPaused}),K=Object.keys(Y).filter(function(he){return Y[he].progress.uploadComplete}),ee=Object.keys(Y).filter(function(he){return Y[he].error}),oe=Object.keys(Y).filter(function(he){return!Y[he].progress.uploadComplete&&Y[he].progress.uploadStarted}),ue=oe.filter(function(he){return!Y[he].isPaused}),ce=Object.keys(Y).filter(function(he){return Y[he].progress.preprocess||Y[he].progress.postprocess}),pe=O.length>0,ve=L.totalProgress===100&&K.length===Object.keys(Y).length&&ce.length===0,ye=pe&&ee.length===O.length,we=oe.length!==0&&j.length===oe.length,Fe=e._getAcquirers(q.targets),be=e._getProgressIndicators(q.targets),xe=e._getEditors(q.targets),ke;return e.opts.theme==="auto"?ke=te.darkMode?"dark":"light":ke=e.opts.theme,["files","folders","both"].indexOf(e.opts.fileManagerSelectionType)<0&&(e.opts.fileManagerSelectionType="files",console.error('Unsupported option for "fileManagerSelectionType". Using default of "'+e.opts.fileManagerSelectionType+'".')),B({state:L,isHidden:q.isHidden,files:Y,newFiles:se,uploadStartedFiles:O,completeFiles:K,erroredFiles:ee,inProgressFiles:oe,inProgressNotPausedFiles:ue,processingFiles:ce,isUploadStarted:pe,isAllComplete:ve,isAllErrored:ye,isAllPaused:we,totalFileCount:Object.keys(Y).length,totalProgress:L.totalProgress,allowNewUpload:re,acquirers:Fe,theme:ke,disabled:e.opts.disabled,disableLocalFiles:e.opts.disableLocalFiles,direction:e.opts.direction,activePickerPanel:q.activePickerPanel,showFileEditor:q.showFileEditor,disableAllFocusableElements:e.disableAllFocusableElements,animateOpenClose:e.opts.animateOpenClose,isClosing:q.isClosing,getPlugin:e.uppy.getPlugin,progressindicators:be,editors:xe,autoProceed:e.uppy.opts.autoProceed,id:e.id,closeModal:e.requestCloseModal,handleClickOutside:e.handleClickOutside,handleInputChange:e.handleInputChange,handlePaste:e.handlePaste,inline:e.opts.inline,showPanel:e.showPanel,hideAllPanels:e.hideAllPanels,log:e.uppy.log,i18n:e.i18n,i18nArray:e.i18nArray,removeFile:e.uppy.removeFile,uppy:e.uppy,info:e.uppy.info,note:e.opts.note,metaFields:q.metaFields,resumableUploads:te.resumableUploads||!1,individualCancellation:te.individualCancellation,isMobileDevice:te.isMobileDevice,pauseUpload:e.uppy.pauseResume,retryUpload:e.uppy.retryUpload,cancelUpload:e.cancelUpload,cancelAll:e.uppy.cancelAll,fileCardFor:q.fileCardFor,toggleFileCard:e.toggleFileCard,toggleAddFilesPanel:e.toggleAddFilesPanel,showAddFilesPanel:q.showAddFilesPanel,saveFileCard:e.saveFileCard,openFileEditor:e.openFileEditor,canEditFile:e.canEditFile,width:e.opts.width,height:e.opts.height,showLinkToFileUploadResult:e.opts.showLinkToFileUploadResult,fileManagerSelectionType:e.opts.fileManagerSelectionType,proudlyDisplayPoweredByUppy:e.opts.proudlyDisplayPoweredByUppy,hideCancelButton:e.opts.hideCancelButton,hideRetryButton:e.opts.hideRetryButton,hidePauseResumeButton:e.opts.hidePauseResumeButton,showRemoveButtonAfterComplete:e.opts.showRemoveButtonAfterComplete,containerWidth:q.containerWidth,containerHeight:q.containerHeight,areInsidesReadyToBeVisible:q.areInsidesReadyToBeVisible,isTargetDOMEl:e.isTargetDOMEl,parentElement:e.el,allowedFileTypes:e.uppy.opts.restrictions.allowedFileTypes,maxNumberOfFiles:e.uppy.opts.restrictions.maxNumberOfFiles,showSelectedFiles:e.opts.showSelectedFiles,handleRequestThumbnail:e.handleRequestThumbnail,handleCancelThumbnail:e.handleCancelThumbnail,isDraggingOver:q.isDraggingOver,handleDragOver:e.handleDragOver,handleDragLeave:e.handleDragLeave,handleDrop:e.handleDrop})},e.discoverProviderPlugins=function(){e.uppy.iteratePlugins(function(L){L&&!L.target&&L.opts&&L.opts.target===e.constructor&&e.addTarget(L)})},e.install=function(){e.setPluginState({isHidden:!0,fileCardFor:null,activeOverlayType:null,showAddFilesPanel:!1,activePickerPanel:!1,showFileEditor:!1,metaFields:e.opts.metaFields,targets:[],areInsidesReadyToBeVisible:!1,isDraggingOver:!1});var L=e.opts,q=L.inline,Y=L.closeAfterFinish;if(q&&Y)throw new Error("[Dashboard] `closeAfterFinish: true` cannot be used on an inline Dashboard, because an inline Dashboard cannot be closed at all. Either set `inline: false`, or disable the `closeAfterFinish` option.");var te=e.uppy.opts.allowMultipleUploads;te&&Y&&e.uppy.log("[Dashboard] When using `closeAfterFinish`, we recommended setting the `allowMultipleUploads` option to `false` in the Uppy constructor. See https://uppy.io/docs/uppy/#allowMultipleUploads-true","warning");var re=e.opts.target;re&&e.mount(re,c(e));var se=e.opts.plugins||[];se.forEach(function(j){var K=e.uppy.getPlugin(j);K&&K.mount(c(e),K)}),e.opts.disableStatusBar||e.uppy.use(U,{id:e.id+":StatusBar",target:c(e),hideUploadButton:e.opts.hideUploadButton,hideRetryButton:e.opts.hideRetryButton,hidePauseResumeButton:e.opts.hidePauseResumeButton,hideCancelButton:e.opts.hideCancelButton,showProgressDetails:e.opts.showProgressDetails,hideAfterFinish:e.opts.hideProgressAfterFinish,locale:e.opts.locale,doneButtonHandler:e.opts.doneButtonHandler}),e.opts.disableInformer||e.uppy.use(T,{id:e.id+":Informer",target:c(e)}),e.opts.disableThumbnailGenerator||e.uppy.use(k,{id:e.id+":ThumbnailGenerator",thumbnailWidth:e.opts.thumbnailWidth,thumbnailType:e.opts.thumbnailType,waitForThumbnailsBeforeUpload:e.opts.waitForThumbnailsBeforeUpload,lazy:!e.opts.waitForThumbnailsBeforeUpload}),e.darkModeMediaQuery=typeof window!="undefined"&&window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)"):null;var O=e.darkModeMediaQuery?e.darkModeMediaQuery.matches:!1;e.uppy.log("[Dashboard] Dark mode is "+(O?"on":"off")),e.setDarkModeCapability(O),e.opts.theme==="auto"&&e.darkModeMediaQuery.addListener(e.handleSystemDarkModeChange),e.discoverProviderPlugins(),e.initEvents()},e.uninstall=function(){if(!e.opts.disableInformer){var L=e.uppy.getPlugin(e.id+":Informer");L&&e.uppy.removePlugin(L)}if(!e.opts.disableStatusBar){var q=e.uppy.getPlugin(e.id+":StatusBar");q&&e.uppy.removePlugin(q)}if(!e.opts.disableThumbnailGenerator){var Y=e.uppy.getPlugin(e.id+":ThumbnailGenerator");Y&&e.uppy.removePlugin(Y)}var te=e.opts.plugins||[];te.forEach(function(re){var se=e.uppy.getPlugin(re);se&&se.unmount()}),e.opts.theme==="auto"&&e.darkModeMediaQuery.removeListener(e.handleSystemDarkModeChange),e.unmount(),e.removeEvents()},e.id=e.opts.id||"Dashboard",e.title="Dashboard",e.type="orchestrator",e.modalName="uppy-Dashboard-"+_(),e.defaultLocale={strings:{closeModal:"Close Modal",importFrom:"Import from %{name}",addingMoreFiles:"Adding more files",addMoreFiles:"Add more files",dashboardWindowTitle:"File Uploader Window (Press escape to close)",dashboardTitle:"File Uploader",copyLinkToClipboardSuccess:"Link copied to clipboard",copyLinkToClipboardFallback:"Copy the URL below",copyLink:"Copy link",fileSource:"File source: %{name}",done:"Done",back:"Back",addMore:"Add more",removeFile:"Remove file",editFile:"Edit file",editing:"Editing %{file}",finishEditingFile:"Finish editing file",saveChanges:"Save changes",cancel:"Cancel",myDevice:"My Device",dropPasteFiles:"Drop files here or %{browseFiles}",dropPasteFolders:"Drop files here or %{browseFolders}",dropPasteBoth:"Drop files here, %{browseFiles} or %{browseFolders}",dropPasteImportFiles:"Drop files here, %{browseFiles} or import from:",dropPasteImportFolders:"Drop files here, %{browseFolders} or import from:",dropPasteImportBoth:"Drop files here, %{browseFiles}, %{browseFolders} or import from:",importFiles:"Import files from:",dropHint:"Drop your files here",browseFiles:"browse files",browseFolders:"browse folders",uploadComplete:"Upload complete",uploadPaused:"Upload paused",resumeUpload:"Resume upload",pauseUpload:"Pause upload",retryUpload:"Retry upload",cancelUpload:"Cancel upload",xFilesSelected:{0:"%{smart_count} file selected",1:"%{smart_count} files selected"},uploadingXFiles:{0:"Uploading %{smart_count} file",1:"Uploading %{smart_count} files"},processingXFiles:{0:"Processing %{smart_count} file",1:"Processing %{smart_count} files"},poweredBy2:"%{backwardsCompat} %{uppy}",poweredBy:"Powered by"}};var Z={target:"body",metaFields:[],trigger:"#uppy-select-files",inline:!1,width:750,height:550,thumbnailWidth:280,thumbnailType:"image/jpeg",waitForThumbnailsBeforeUpload:!1,defaultPickerIcon:M,showLinkToFileUploadResult:!0,showProgressDetails:!1,hideUploadButton:!1,hideCancelButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideProgressAfterFinish:!1,doneButtonHandler:function(){e.uppy.reset(),e.requestCloseModal()},note:null,closeModalOnClickOutside:!1,closeAfterFinish:!1,disableStatusBar:!1,disableInformer:!1,disableThumbnailGenerator:!1,disablePageScrollWhenModalOpen:!0,animateOpenClose:!0,fileManagerSelectionType:"files",proudlyDisplayPoweredByUppy:!0,onRequestCloseModal:function(){return e.closeModal()},showSelectedFiles:!0,showRemoveButtonAfterComplete:!1,browserBackButtonClose:!1,theme:"light",autoOpenFileEditor:!1,disabled:!1,disableLocalFiles:!1};return e.opts=b({},Z,R),e.i18nInit(),e.superFocus=H(),e.ifFocusedOnUppyRecently=!1,e.makeDashboardInsidesVisibleAnywayTimeout=null,e.removeDragOverClassTimeout=null,e}var n=C.prototype;return n.onMount=function(){var R=this.el,e=v(R);e||(R.dir="ltr")},C}(m),i.VERSION="1.19.0",s)},8983:function(N){N.exports=function(r,i){return i=i||"Copy the URL below",new Promise(function(s){var b=document.createElement("textarea");b.setAttribute("style",{position:"fixed",top:0,left:0,width:"2em",height:"2em",padding:0,border:"none",outline:"none",boxShadow:"none",background:"transparent"}),b.value=r,document.body.appendChild(b),b.select();var c=function(){document.body.removeChild(b),window.prompt(i,r),s()};try{var d=document.execCommand("copy");return d?(document.body.removeChild(b),s()):c("copy command unavailable")}catch(f){return document.body.removeChild(b),c(f)}})}},8990:function(N,X,r){var i=r(1849),s=r(9855),b=r(6845);N.exports=function(){var d=!1,f=function(u,A){var m=b(u,A),x=m.contains(document.activeElement);if(!(x&&d)){var B=m.querySelector("[data-uppy-super-focusable]");if(!(x&&!B))if(B)B.focus({preventScroll:!0}),d=!0;else{var U=m.querySelector(s);U&&U.focus({preventScroll:!0}),d=!1}}};return i(f,260)}},6845:function(N){N.exports=function(r,i){if(i){var s=r.querySelector('[data-uppy-paneltype="'+i+'"]');if(s)return s}return r}},5058:function(N,X,r){var i=r(3562),s=i.h;function b(){return s("svg",{"aria-hidden":"true",focusable:"false",width:"25",height:"25",viewBox:"0 0 25 25"},s("g",{fill:"#686DE0",fillRule:"evenodd"},s("path",{d:"M5 7v10h15V7H5zm0-1h15a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1z",fillRule:"nonzero"}),s("path",{d:"M6.35 17.172l4.994-5.026a.5.5 0 0 1 .707 0l2.16 2.16 3.505-3.505a.5.5 0 0 1 .707 0l2.336 2.31-.707.72-1.983-1.97-3.505 3.505a.5.5 0 0 1-.707 0l-2.16-2.159-3.938 3.939-1.409.026z",fillRule:"nonzero"}),s("circle",{cx:"7.5",cy:"9.5",r:"1.5"})))}function c(){return s("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},s("path",{d:"M9.5 18.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V7.25a.5.5 0 0 1 .379-.485l9-2.25A.5.5 0 0 1 18.5 5v11.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V8.67l-8 2v7.97zm8-11v-2l-8 2v2l8-2zM7 19.64c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1zm9-2c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1z",fill:"#049BCF",fillRule:"nonzero"}))}function d(){return s("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},s("path",{d:"M16 11.834l4.486-2.691A1 1 0 0 1 22 10v6a1 1 0 0 1-1.514.857L16 14.167V17a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v2.834zM15 9H5v8h10V9zm1 4l5 3v-6l-5 3z",fill:"#19AF67",fillRule:"nonzero"}))}function f(){return s("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},s("path",{d:"M9.766 8.295c-.691-1.843-.539-3.401.747-3.726 1.643-.414 2.505.938 2.39 3.299-.039.79-.194 1.662-.537 3.148.324.49.66.967 1.055 1.51.17.231.382.488.629.757 1.866-.128 3.653.114 4.918.655 1.487.635 2.192 1.685 1.614 2.84-.566 1.133-1.839 1.084-3.416.249-1.141-.604-2.457-1.634-3.51-2.707a13.467 13.467 0 0 0-2.238.426c-1.392 4.051-4.534 6.453-5.707 4.572-.986-1.58 1.38-4.206 4.914-5.375.097-.322.185-.656.264-1.001.08-.353.306-1.31.407-1.737-.678-1.059-1.2-2.031-1.53-2.91zm2.098 4.87c-.033.144-.068.287-.104.427l.033-.01-.012.038a14.065 14.065 0 0 1 1.02-.197l-.032-.033.052-.004a7.902 7.902 0 0 1-.208-.271c-.197-.27-.38-.526-.555-.775l-.006.028-.002-.003c-.076.323-.148.632-.186.8zm5.77 2.978c1.143.605 1.832.632 2.054.187.26-.519-.087-1.034-1.113-1.473-.911-.39-2.175-.608-3.55-.608.845.766 1.787 1.459 2.609 1.894zM6.559 18.789c.14.223.693.16 1.425-.413.827-.648 1.61-1.747 2.208-3.206-2.563 1.064-4.102 2.867-3.633 3.62zm5.345-10.97c.088-1.793-.351-2.48-1.146-2.28-.473.119-.564 1.05-.056 2.405.213.566.52 1.188.908 1.859.18-.858.268-1.453.294-1.984z",fill:"#E2514A",fillRule:"nonzero"}))}function y(){return s("svg",{"aria-hidden":"true",focusable:"false",width:"25",height:"25",viewBox:"0 0 25 25"},s("path",{d:"M10.45 2.05h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V2.55a.5.5 0 0 1 .5-.5zm2.05 1.024h1.05a.5.5 0 0 1 .5.5V3.6a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5v-.001zM10.45 0h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V.5a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 3.074h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 1.024h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm-2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-1.656 3.074l-.82 5.946c.52.302 1.174.458 1.976.458.803 0 1.455-.156 1.975-.458l-.82-5.946h-2.311zm0-1.025h2.312c.512 0 .946.378 1.015.885l.82 5.946c.056.412-.142.817-.501 1.026-.686.398-1.515.597-2.49.597-.974 0-1.804-.199-2.49-.597a1.025 1.025 0 0 1-.5-1.026l.819-5.946c.07-.507.503-.885 1.015-.885zm.545 6.6a.5.5 0 0 1-.397-.561l.143-.999a.5.5 0 0 1 .495-.429h.74a.5.5 0 0 1 .495.43l.143.998a.5.5 0 0 1-.397.561c-.404.08-.819.08-1.222 0z",fill:"#00C469",fillRule:"nonzero"}))}function u(){return s("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},s("g",{fill:"#A7AFB7",fillRule:"nonzero"},s("path",{d:"M5.5 22a.5.5 0 0 1-.5-.5v-18a.5.5 0 0 1 .5-.5h10.719a.5.5 0 0 1 .367.16l3.281 3.556a.5.5 0 0 1 .133.339V21.5a.5.5 0 0 1-.5.5h-14zm.5-1h13V7.25L16 4H6v17z"}),s("path",{d:"M15 4v3a1 1 0 0 0 1 1h3V7h-3V4h-1z"})))}function A(){return s("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},s("path",{d:"M4.5 7h13a.5.5 0 1 1 0 1h-13a.5.5 0 0 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h10a.5.5 0 1 1 0 1h-10a.5.5 0 1 1 0-1z",fill:"#5A5E69",fillRule:"nonzero"}))}N.exports=function(x){var B={color:"#838999",icon:u()};if(!x)return B;var U=x.split("/")[0],T=x.split("/")[1];if(U==="text")return{color:"#5a5e69",icon:A()};if(U==="image")return{color:"#686de0",icon:b()};if(U==="audio")return{color:"#068dbb",icon:c()};if(U==="video")return{color:"#19af67",icon:d()};if(U==="application"&&T==="pdf")return{color:"#e25149",icon:f()};var k=["zip","x-7z-compressed","x-rar-compressed","x-tar","x-gzip","x-apple-diskimage"];return U==="application"&&k.indexOf(T)!==-1?{color:"#00C469",icon:y()}:B}},7453:function(N){function X(r){var i=r.target.tagName;if(i==="INPUT"||i==="TEXTAREA"){r.stopPropagation();return}r.preventDefault(),r.stopPropagation()}N.exports=X},3729:function(N,X,r){var i=r(9212),s=r(6845),b=r(9855);function c(u,A){var m=A[0];m&&(m.focus(),u.preventDefault())}function d(u,A){var m=A[A.length-1];m&&(m.focus(),u.preventDefault())}function f(u){return u.contains(document.activeElement)}function y(u,A,m){var x=s(m,A),B=i(x.querySelectorAll(b)),U=B.indexOf(document.activeElement);f(x)?u.shiftKey&&U===0?d(u,B):!u.shiftKey&&U===B.length-1&&c(u,B):c(u,B)}N.exports={forModal:function(A,m,x){y(A,m,x)},forInline:function(A,m,x){m===null||y(A,m,x)}}},6888:function(N,X,r){function i(){return i=Object.assign||function(T){for(var k=1;k<arguments.length;k++){var l=arguments[k];for(var S in l)Object.prototype.hasOwnProperty.call(l,S)&&(T[S]=l[S])}return T},i.apply(this,arguments)}var s=r(2567),b=typeof window!="undefined"&&(window.indexedDB||window.webkitIndexedDB||window.mozIndexedDB||window.OIndexedDB||window.msIndexedDB),c=!!b,d="uppy-blobs",f="files",y=24*60*60*1e3,u=3;function A(T){var k=T.openCursor();k.onsuccess=function(l){var S=l.target.result;if(!!S){var h=S.value;h.expires=Date.now()+y,S.update(h)}}}function m(T){var k=b.open(T,u);return new Promise(function(l,S){k.onupgradeneeded=function(h){var v=h.target.result,E=h.currentTarget.transaction;if(h.oldVersion<2){var _=v.createObjectStore(f,{keyPath:"id"});_.createIndex("store","store",{unique:!1})}if(h.oldVersion<3){var z=E.objectStore(f);z.createIndex("expires","expires",{unique:!1}),A(z)}E.oncomplete=function(){l(v)}},k.onsuccess=function(h){l(h.target.result)},k.onerror=S})}function x(T){return new Promise(function(k,l){T.onsuccess=function(S){k(S.target.result)},T.onerror=l})}var B=!1,U=function(){function T(l){var S=this;this.opts=i({dbName:d,storeName:"default",expires:y,maxFileSize:10*1024*1024,maxTotalSize:300*1024*1024},l),this.name=this.opts.storeName;var h=function(){return m(S.opts.dbName)};B?this.ready=h():(B=!0,this.ready=T.cleanup().then(h,h))}var k=T.prototype;return k.key=function(S){return this.name+"!"+S},k.list=function(){var S=this;return this.ready.then(function(h){var v=h.transaction([f],"readonly"),E=v.objectStore(f),_=E.index("store").getAll(IDBKeyRange.only(S.name));return x(_)}).then(function(h){var v={};return h.forEach(function(E){v[E.fileID]=E.data}),v})},k.get=function(S){var h=this;return this.ready.then(function(v){var E=v.transaction([f],"readonly"),_=E.objectStore(f).get(h.key(S));return x(_)}).then(function(v){return{id:v.data.fileID,data:v.data.data}})},k.getSize=function(){var S=this;return this.ready.then(function(h){var v=h.transaction([f],"readonly"),E=v.objectStore(f),_=E.index("store").openCursor(IDBKeyRange.only(S.name));return new Promise(function(z,H){var $=0;_.onsuccess=function(Q){var G=Q.target.result;G?($+=G.value.data.size,G.continue()):z($)},_.onerror=function(){H(new Error("Could not retrieve stored blobs size"))}})})},k.put=function(S){var h=this;return S.data.size>this.opts.maxFileSize?Promise.reject(new Error("File is too big to store.")):this.getSize().then(function(v){return v>h.opts.maxTotalSize?Promise.reject(new Error("No space left")):h.ready}).then(function(v){var E=v.transaction([f],"readwrite"),_=E.objectStore(f).add({id:h.key(S.id),fileID:S.id,store:h.name,expires:Date.now()+h.opts.expires,data:S.data});return x(_)})},k.delete=function(S){var h=this;return this.ready.then(function(v){var E=v.transaction([f],"readwrite"),_=E.objectStore(f).delete(h.key(S));return x(_)})},T.cleanup=function(){return m(d).then(function(S){var h=S.transaction([f],"readwrite"),v=h.objectStore(f),E=v.index("expires").openCursor(IDBKeyRange.upperBound(Date.now()));return new Promise(function(_,z){E.onsuccess=function(H){var $=H.target.result;if($){var Q=$.value;console.log("[IndexedDBStore] Deleting record",Q.fileID,"of size",s(Q.data.size),"- expired on",new Date(Q.expires)),$.delete(),$.continue()}else _(S)},E.onerror=z})}).then(function(S){S.close()})},T}();U.isSupported=c,N.exports=U},2098:function(N){function X(){return X=Object.assign||function(b){for(var c=1;c<arguments.length;c++){var d=arguments[c];for(var f in d)Object.prototype.hasOwnProperty.call(d,f)&&(b[f]=d[f])}return b},X.apply(this,arguments)}function r(){for(var b=[],c=0;c<localStorage.length;c++){var d=localStorage.key(c);/^uppyState:/.test(d)&&b.push(d.slice("uppyState:".length))}return b}function i(b){try{return JSON.parse(b)}catch(c){return null}}var s=!1;N.exports=function(){function b(d){this.opts=X({expires:24*60*60*1e3},d),this.name="uppyState:"+d.storeName,s||(s=!0,b.cleanup())}var c=b.prototype;return c.load=function(){var f=localStorage.getItem(this.name);if(!f)return null;var y=i(f);return y?y.metadata?y.metadata:(this.save(y),y):null},c.save=function(f){var y=Date.now()+this.opts.expires,u=JSON.stringify({metadata:f,expires:y});localStorage.setItem(this.name,u)},b.cleanup=function(){var f=r(),y=Date.now();f.forEach(function(u){var A=localStorage.getItem("uppyState:"+u);if(!A)return null;var m=i(A);if(!m)return null;m.expires&&m.expires<y&&localStorage.removeItem("uppyState:"+u)})},b}()},9804:function(N){var X=typeof navigator!="undefined"&&"serviceWorker"in navigator;function r(){return new Promise(function(s,b){X?navigator.serviceWorker.controller?s():navigator.serviceWorker.addEventListener("controllerchange",function(){s()}):b(new Error("Unsupported"))})}var i=function(){function s(c){this.ready=r(),this.name=c.storeName}var b=s.prototype;return b.list=function(){var d=this,f={},y=new Promise(function(A,m){f.resolve=A,f.reject=m});console.log("Loading stored blobs from Service Worker");var u=function A(m){if(m.data.store===d.name)switch(m.data.type){case"uppy/ALL_FILES":f.resolve(m.data.files),navigator.serviceWorker.removeEventListener("message",A);break}};return this.ready.then(function(){navigator.serviceWorker.addEventListener("message",u),navigator.serviceWorker.controller.postMessage({type:"uppy/GET_FILES",store:d.name})}),y},b.put=function(d){var f=this;return this.ready.then(function(){navigator.serviceWorker.controller.postMessage({type:"uppy/ADD_FILE",store:f.name,file:d})})},b.delete=function(d){var f=this;return this.ready.then(function(){navigator.serviceWorker.controller.postMessage({type:"uppy/REMOVE_FILE",store:f.name,fileID:d})})},s}();i.isSupported=X,N.exports=i},6260:function(N,X,r){var i,s;function b(){return b=Object.assign||function(B){for(var U=1;U<arguments.length;U++){var T=arguments[U];for(var k in T)Object.prototype.hasOwnProperty.call(T,k)&&(B[k]=T[k])}return B},b.apply(this,arguments)}function c(B){if(B===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B}function d(B,U){B.prototype=Object.create(U.prototype),B.prototype.constructor=B,f(B,U)}function f(B,U){return f=Object.setPrototypeOf||function(k,l){return k.__proto__=l,k},f(B,U)}var y=r(9046),u=y.Plugin,A=r(9804),m=r(6888),x=r(2098);N.exports=(s=i=function(B){d(U,B);function U(k,l){var S;S=B.call(this,k,l)||this,S.type="debugger",S.id=S.opts.id||"GoldenRetriever",S.title="Golden Retriever";var h={expires:24*60*60*1e3,serviceWorker:!1};return S.opts=b({},h,l),S.MetaDataStore=new x({expires:S.opts.expires,storeName:k.getID()}),S.ServiceWorkerStore=null,S.opts.serviceWorker&&(S.ServiceWorkerStore=new A({storeName:k.getID()})),S.IndexedDBStore=new m(b({expires:S.opts.expires},S.opts.indexedDB||{},{storeName:k.getID()})),S.saveFilesStateToLocalStorage=S.saveFilesStateToLocalStorage.bind(c(S)),S.loadFilesStateFromLocalStorage=S.loadFilesStateFromLocalStorage.bind(c(S)),S.loadFileBlobsFromServiceWorker=S.loadFileBlobsFromServiceWorker.bind(c(S)),S.loadFileBlobsFromIndexedDB=S.loadFileBlobsFromIndexedDB.bind(c(S)),S.onBlobsLoaded=S.onBlobsLoaded.bind(c(S)),S}var T=U.prototype;return T.loadFilesStateFromLocalStorage=function(){var l=this.MetaDataStore.load();l&&(this.uppy.log("[GoldenRetriever] Recovered some state from Local Storage"),this.uppy.setState({currentUploads:l.currentUploads||{},files:l.files||{}}),this.savedPluginData=l.pluginData)},T.getWaitingFiles=function(){var l={};return this.uppy.getFiles().forEach(function(S){(!S.progress||!S.progress.uploadStarted)&&(l[S.id]=S)}),l},T.getUploadingFiles=function(){var l=this,S={},h=this.uppy.getState(),v=h.currentUploads;if(v){var E=Object.keys(v);E.forEach(function(_){var z=v[_].fileIDs;z.forEach(function(H){S[H]=l.uppy.getFile(H)})})}return S},T.saveFilesStateToLocalStorage=function(){var l=b(this.getWaitingFiles(),this.getUploadingFiles()),S={};this.uppy.emit("restore:get-data",function(E){b(S,E)});var h=this.uppy.getState(),v=h.currentUploads;this.MetaDataStore.save({currentUploads:v,files:l,pluginData:S})},T.loadFileBlobsFromServiceWorker=function(){var l=this;this.ServiceWorkerStore.list().then(function(S){var h=Object.keys(S).length,v=l.uppy.getFiles().length;return h===v?(l.uppy.log("[GoldenRetriever] Successfully recovered "+h+" blobs from Service Worker!"),l.uppy.info("Successfully recovered "+h+" files","success",3e3),l.onBlobsLoaded(S)):(l.uppy.log("[GoldenRetriever] No blobs found in Service Worker, trying IndexedDB now..."),l.loadFileBlobsFromIndexedDB())}).catch(function(S){l.uppy.log("[GoldenRetriever] Failed to recover blobs from Service Worker","warning"),l.uppy.log(S)})},T.loadFileBlobsFromIndexedDB=function(){var l=this;this.IndexedDBStore.list().then(function(S){var h=Object.keys(S).length;if(h>0)return l.uppy.log("[GoldenRetriever] Successfully recovered "+h+" blobs from IndexedDB!"),l.uppy.info("Successfully recovered "+h+" files","success",3e3),l.onBlobsLoaded(S);l.uppy.log("[GoldenRetriever] No blobs found in IndexedDB")}).catch(function(S){l.uppy.log("[GoldenRetriever] Failed to recover blobs from IndexedDB","warning"),l.uppy.log(S)})},T.onBlobsLoaded=function(l){var S=this,h=[],v=b({},this.uppy.getState().files);Object.keys(l).forEach(function(E){var _=S.uppy.getFile(E);if(!_){h.push(E);return}var z=l[E],H={data:z,isRestored:!0},$=b({},_,H);v[E]=$}),this.uppy.setState({files:v}),this.uppy.emit("restored",this.savedPluginData),h.length&&this.deleteBlobs(h).then(function(){S.uppy.log("[GoldenRetriever] Cleaned up "+h.length+" old files")}).catch(function(E){S.uppy.log("[GoldenRetriever] Could not clean up "+h.length+" old files","warning"),S.uppy.log(E)})},T.deleteBlobs=function(l){var S=this,h=[];return l.forEach(function(v){S.ServiceWorkerStore&&h.push(S.ServiceWorkerStore.delete(v)),S.IndexedDBStore&&h.push(S.IndexedDBStore.delete(v))}),Promise.all(h)},T.install=function(){var l=this;this.loadFilesStateFromLocalStorage(),this.uppy.getFiles().length>0?this.ServiceWorkerStore?(this.uppy.log("[GoldenRetriever] Attempting to load files from Service Worker..."),this.loadFileBlobsFromServiceWorker()):(this.uppy.log("[GoldenRetriever] Attempting to load files from Indexed DB..."),this.loadFileBlobsFromIndexedDB()):(this.uppy.log("[GoldenRetriever] No files need to be loaded, only restoring processing state..."),this.onBlobsLoaded([])),this.uppy.on("file-added",function(S){S.isRemote||(l.ServiceWorkerStore&&l.ServiceWorkerStore.put(S).catch(function(h){l.uppy.log("[GoldenRetriever] Could not store file","warning"),l.uppy.log(h)}),l.IndexedDBStore.put(S).catch(function(h){l.uppy.log("[GoldenRetriever] Could not store file","warning"),l.uppy.log(h)}))}),this.uppy.on("file-removed",function(S){l.ServiceWorkerStore&&l.ServiceWorkerStore.delete(S.id).catch(function(h){l.uppy.log("[GoldenRetriever] Failed to remove file","warning"),l.uppy.log(h)}),l.IndexedDBStore.delete(S.id).catch(function(h){l.uppy.log("[GoldenRetriever] Failed to remove file","warning"),l.uppy.log(h)})}),this.uppy.on("complete",function(S){var h=S.successful,v=h.map(function(E){return E.id});l.deleteBlobs(v).then(function(){l.uppy.log("[GoldenRetriever] Removed "+h.length+" files that finished uploading")}).catch(function(E){l.uppy.log("[GoldenRetriever] Could not remove "+h.length+" files that finished uploading","warning"),l.uppy.log(E)})}),this.uppy.on("state-update",this.saveFilesStateToLocalStorage),this.uppy.on("restored",function(){var S=l.uppy.getState(),h=S.currentUploads;h&&Object.keys(h).forEach(function(v){l.uppy.restore(v,h[v])})})},U}(u),i.VERSION="1.3.27",s)},2158:function(N,X,r){var i,s;function b(){return b=Object.assign||function(m){for(var x=1;x<arguments.length;x++){var B=arguments[x];for(var U in B)Object.prototype.hasOwnProperty.call(B,U)&&(m[U]=B[U])}return m},b.apply(this,arguments)}function c(m,x){m.prototype=Object.create(x.prototype),m.prototype.constructor=m,d(m,x)}function d(m,x){return d=Object.setPrototypeOf||function(U,T){return U.__proto__=T,U},d(m,x)}var f=r(9046),y=f.Plugin,u=r(3562),A=u.h;N.exports=(s=i=function(m){c(x,m);function x(U,T){var k;k=m.call(this,U,T)||this,k.render=function(S){var h=S.info,v=h.isHidden,E=h.message,_=h.details;function z(){var Q=E+` 

 `+_;alert(Q)}var H=function(){clearTimeout(k.uppy.infoTimeoutID)},$=function(){k.uppy.infoTimeoutID=setTimeout(k.uppy.hideInfo,2e3)};return A("div",{className:"uppy uppy-Informer","aria-hidden":v},A("p",{role:"alert"},E," ",_&&A("span",{"aria-label":_,"data-microtip-position":"top-left","data-microtip-size":"medium",role:"tooltip",onClick:z,onMouseOver:H,onMouseLeave:$},"?")))},k.type="progressindicator",k.id=k.opts.id||"Informer",k.title="Informer";var l={};return k.opts=b({},l,T),k}var B=x.prototype;return B.install=function(){var T=this.opts.target;T&&this.mount(T,this)},x}(y),i.VERSION="1.6.3",s)},5019:function(N,X,r){function i(){return i=Object.assign||function(G){for(var I=1;I<arguments.length;I++){var D=arguments[I];for(var M in D)Object.prototype.hasOwnProperty.call(D,M)&&(G[M]=D[M])}return G},i.apply(this,arguments)}var s=r(6818),b=r(7010),c=r(6938),d=r(2567),f=r(5192),y=r(3562),u=y.h;function A(G){var I=[];Object.keys(G).forEach(function(g){var R=G[g].progress;R.preprocess&&I.push(R.preprocess),R.postprocess&&I.push(R.postprocess)});var D=I[0],M=D.mode,P=D.message,C=I.filter(n).reduce(function(g,R,e,Z){return g+R.value/Z.length},0);function n(g){return g.mode==="determinate"}return{mode:M,message:P,value:C}}function m(G){if(!G.isAllComplete)return G.resumableUploads?G.isAllPaused?G.resumeAll():G.pauseAll():G.cancelAll()}N.exports=function(G){G=G||{};var I=G,D=I.newFiles,M=I.allowNewUpload,P=I.isUploadInProgress,C=I.isAllPaused,n=I.resumableUploads,g=I.error,R=I.hideUploadButton,e=I.hidePauseResumeButton,Z=I.hideCancelButton,L=I.hideRetryButton,q=G.uploadState,Y=G.totalProgress,te,re;if(q===c.STATE_PREPROCESSING||q===c.STATE_POSTPROCESSING){var se=A(G.files);te=se.mode,te==="determinate"&&(Y=se.value*100),re=S(se)}else q===c.STATE_COMPLETE?re=$(G):q===c.STATE_UPLOADING?(G.supportsUploadProgress||(te="indeterminate",Y=null),re=H(G)):q===c.STATE_ERROR&&(Y=void 0,re=Q(G));var O=typeof Y=="number"?Y:100,j=q===c.STATE_WAITING&&G.hideUploadButton||q===c.STATE_WAITING&&!G.newFiles>0||q===c.STATE_COMPLETE&&G.hideAfterFinish,K=!g&&D&&!P&&!C&&M&&!R,ee=!Z&&q!==c.STATE_WAITING&&q!==c.STATE_COMPLETE,oe=n&&!e&&q===c.STATE_UPLOADING,ue=g&&!L,ce=G.doneButtonHandler&&q===c.STATE_COMPLETE,pe=`uppy-StatusBar-progress
                           `+(te?"is-"+te:""),ve=b({"uppy-Root":G.isTargetDOMEl},"uppy-StatusBar","is-"+q);return u("div",{className:ve,"aria-hidden":j},u("div",{className:pe,style:{width:O+"%"},role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":Y}),re,u("div",{className:"uppy-StatusBar-actions"},K?u(x,i({},G,{uploadState:q})):null,ue?u(B,G):null,oe?u(T,G):null,ee?u(U,G):null,ce?u(k,G):null))};var x=function(I){var D=b("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--upload",{"uppy-c-btn-primary":I.uploadState===c.STATE_WAITING});return u("button",{type:"button",className:D,"aria-label":I.i18n("uploadXFiles",{smart_count:I.newFiles}),onClick:I.startUpload,"data-uppy-super-focusable":!0},I.newFiles&&I.isUploadStarted?I.i18n("uploadXNewFiles",{smart_count:I.newFiles}):I.i18n("uploadXFiles",{smart_count:I.newFiles}))},B=function(I){return u("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--retry","aria-label":I.i18n("retryUpload"),onClick:I.retryAll,"data-uppy-super-focusable":!0},u("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"8",height:"10",viewBox:"0 0 8 10"},u("path",{d:"M4 2.408a2.75 2.75 0 1 0 2.75 2.75.626.626 0 0 1 1.25.018v.023a4 4 0 1 1-4-4.041V.25a.25.25 0 0 1 .389-.208l2.299 1.533a.25.25 0 0 1 0 .416l-2.3 1.533A.25.25 0 0 1 4 3.316v-.908z"})),I.i18n("retry"))},U=function(I){return u("button",{type:"button",className:"uppy-u-reset uppy-StatusBar-actionCircleBtn",title:I.i18n("cancel"),"aria-label":I.i18n("cancel"),onClick:I.cancelAll,"data-uppy-super-focusable":!0},u("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16"},u("g",{fill:"none",fillRule:"evenodd"},u("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),u("path",{fill:"#FFF",d:"M9.283 8l2.567 2.567-1.283 1.283L8 9.283 5.433 11.85 4.15 10.567 6.717 8 4.15 5.433 5.433 4.15 8 6.717l2.567-2.567 1.283 1.283z"}))))},T=function(I){var D=I.isAllPaused,M=I.i18n,P=M(D?"resume":"pause");return u("button",{title:P,"aria-label":P,className:"uppy-u-reset uppy-StatusBar-actionCircleBtn",type:"button",onClick:function(){return m(I)},"data-uppy-super-focusable":!0},D?u("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16"},u("g",{fill:"none",fillRule:"evenodd"},u("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),u("path",{fill:"#FFF",d:"M6 4.25L11.5 8 6 11.75z"}))):u("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16"},u("g",{fill:"none",fillRule:"evenodd"},u("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),u("path",{d:"M5 4.5h2v7H5v-7zm4 0h2v7H9v-7z",fill:"#FFF"}))))},k=function(I){var D=I.i18n;return u("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--done",onClick:I.doneButtonHandler,"data-uppy-super-focusable":!0},D("done"))},l=function(){return u("svg",{className:"uppy-StatusBar-spinner","aria-hidden":"true",focusable:"false",width:"14",height:"14"},u("path",{d:"M13.983 6.547c-.12-2.509-1.64-4.893-3.939-5.936-2.48-1.127-5.488-.656-7.556 1.094C.524 3.367-.398 6.048.162 8.562c.556 2.495 2.46 4.52 4.94 5.183 2.932.784 5.61-.602 7.256-3.015-1.493 1.993-3.745 3.309-6.298 2.868-2.514-.434-4.578-2.349-5.153-4.84a6.226 6.226 0 0 1 2.98-6.778C6.34.586 9.74 1.1 11.373 3.493c.407.596.693 1.282.842 1.988.127.598.073 1.197.161 1.794.078.525.543 1.257 1.15.864.525-.341.49-1.05.456-1.592-.007-.15.02.3 0 0",fillRule:"evenodd"}))},S=function(I){var D=Math.round(I.value*100);return u("div",{className:"uppy-StatusBar-content"},u(l,null),I.mode==="determinate"?D+"% \xB7 ":"",I.message)},h=function(){return" \xB7 "},v=function(I){var D=I.numUploads>1;return u("div",{className:"uppy-StatusBar-statusSecondary"},D&&I.i18n("filesUploadedOfTotal",{complete:I.complete,smart_count:I.numUploads}),u("span",{className:"uppy-StatusBar-additionalInfo"},D&&h(),I.i18n("dataUploadedOfTotal",{complete:d(I.totalUploadedSize),total:d(I.totalSize)}),h(),I.i18n("xTimeLeft",{time:f(I.totalETA)})))},E=function(I){return u("div",{className:"uppy-StatusBar-statusSecondary"},I.i18n("filesUploadedOfTotal",{complete:I.complete,smart_count:I.numUploads}))},_=function(I){var D=b("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--uploadNewlyAdded");return u("div",{className:"uppy-StatusBar-statusSecondary"},u("div",{className:"uppy-StatusBar-statusSecondaryHint"},I.i18n("xMoreFilesAdded",{smart_count:I.newFiles})),u("button",{type:"button",className:D,"aria-label":I.i18n("uploadXFiles",{smart_count:I.newFiles}),onClick:I.startUpload},I.i18n("upload")))},z=s(v,500,{leading:!0,trailing:!0}),H=function(I){if(!I.isUploadStarted||I.isAllComplete)return null;var D=I.isAllPaused?I.i18n("paused"):I.i18n("uploading"),M=I.newFiles&&I.isUploadStarted;return u("div",{className:"uppy-StatusBar-content","aria-label":D,title:D},I.isAllPaused?null:u(l,null),u("div",{className:"uppy-StatusBar-status"},u("div",{className:"uppy-StatusBar-statusPrimary"},I.supportsUploadProgress?D+": "+I.totalProgress+"%":D),!I.isAllPaused&&!M&&I.showProgressDetails?I.supportsUploadProgress?u(z,I):u(E,I):null,M?u(_,I):null))},$=function(I){var D=I.totalProgress,M=I.i18n;return u("div",{className:"uppy-StatusBar-content",role:"status",title:M("complete")},u("div",{className:"uppy-StatusBar-status"},u("div",{className:"uppy-StatusBar-statusPrimary"},u("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"15",height:"11",viewBox:"0 0 15 11"},u("path",{d:"M.414 5.843L1.627 4.63l3.472 3.472L13.202 0l1.212 1.213L5.1 10.528z"})),M("complete"))))},Q=function(I){var D=I.error,M=I.retryAll,P=I.hideRetryButton,C=I.i18n;function n(){var g=C("uploadFailed")+` 

 `+D;alert(g)}return u("div",{className:"uppy-StatusBar-content",role:"alert",title:C("uploadFailed")},u("div",{className:"uppy-StatusBar-status"},u("div",{className:"uppy-StatusBar-statusPrimary"},u("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"11",height:"11",viewBox:"0 0 11 11"},u("path",{d:"M4.278 5.5L0 1.222 1.222 0 5.5 4.278 9.778 0 11 1.222 6.722 5.5 11 9.778 9.778 11 5.5 6.722 1.222 11 0 9.778z"})),C("uploadFailed"))),u("span",{className:"uppy-StatusBar-details","aria-label":D,"data-microtip-position":"top-right","data-microtip-size":"medium",role:"tooltip",onClick:n},"?"))}},6938:function(N){N.exports={STATE_ERROR:"error",STATE_WAITING:"waiting",STATE_PREPROCESSING:"preprocessing",STATE_UPLOADING:"uploading",STATE_POSTPROCESSING:"postprocessing",STATE_COMPLETE:"complete"}},3330:function(N,X,r){var i,s;function b(){return b=Object.assign||function(k){for(var l=1;l<arguments.length;l++){var S=arguments[l];for(var h in S)Object.prototype.hasOwnProperty.call(S,h)&&(k[h]=S[h])}return k},b.apply(this,arguments)}function c(k){if(k===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k}function d(k,l){k.prototype=Object.create(l.prototype),k.prototype.constructor=k,f(k,l)}function f(k,l){return f=Object.setPrototypeOf||function(h,v){return h.__proto__=v,h},f(k,l)}var y=r(9046),u=y.Plugin,A=r(9082),m=r(5019),x=r(6938),B=r(4339),U=r(9418),T=r(936);N.exports=(s=i=function(k){d(l,k);function l(h,v){var E;E=k.call(this,h,v)||this,E.startUpload=function(){return E.uppy.upload().catch(function(){})},E.id=E.opts.id||"StatusBar",E.title="StatusBar",E.type="progressindicator",E.defaultLocale={strings:{uploading:"Uploading",upload:"Upload",complete:"Complete",uploadFailed:"Upload failed",paused:"Paused",retry:"Retry",retryUpload:"Retry upload",cancel:"Cancel",pause:"Pause",resume:"Resume",done:"Done",filesUploadedOfTotal:{0:"%{complete} of %{smart_count} file uploaded",1:"%{complete} of %{smart_count} files uploaded"},dataUploadedOfTotal:"%{complete} of %{total}",xTimeLeft:"%{time} left",uploadXFiles:{0:"Upload %{smart_count} file",1:"Upload %{smart_count} files"},uploadXNewFiles:{0:"Upload +%{smart_count} file",1:"Upload +%{smart_count} files"},xMoreFilesAdded:{0:"%{smart_count} more file added",1:"%{smart_count} more files added"}}};var _={target:"body",hideUploadButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideCancelButton:!1,showProgressDetails:!1,hideAfterFinish:!0,doneButtonHandler:null};return E.opts=b({},_,v),E.i18nInit(),E.render=E.render.bind(c(E)),E.install=E.install.bind(c(E)),E}var S=l.prototype;return S.setOptions=function(v){k.prototype.setOptions.call(this,v),this.i18nInit()},S.i18nInit=function(){this.translator=new A([this.defaultLocale,this.uppy.locale,this.opts.locale]),this.i18n=this.translator.translate.bind(this.translator),this.setPluginState()},S.getTotalSpeed=function(v){var E=0;return v.forEach(function(_){E+=B(_.progress)}),E},S.getTotalETA=function(v){var E=this.getTotalSpeed(v);if(E===0)return 0;var _=v.reduce(function(z,H){return z+U(H.progress)},0);return Math.round(_/E*10)/10},S.getUploadingState=function(v,E,_){if(v)return x.STATE_ERROR;if(E)return x.STATE_COMPLETE;for(var z=x.STATE_WAITING,H=Object.keys(_),$=0;$<H.length;$++){var Q=_[H[$]].progress;if(Q.uploadStarted&&!Q.uploadComplete)return x.STATE_UPLOADING;Q.preprocess&&z!==x.STATE_UPLOADING&&(z=x.STATE_PREPROCESSING),Q.postprocess&&z!==x.STATE_UPLOADING&&z!==x.STATE_PREPROCESSING&&(z=x.STATE_POSTPROCESSING)}return z},S.render=function(v){var E=v.capabilities,_=v.files,z=v.allowNewUpload,H=v.totalProgress,$=v.error,Q=Object.keys(_).map(function(K){return _[K]}),G=Q.filter(function(K){return!K.progress.uploadStarted&&!K.progress.preprocess&&!K.progress.postprocess}),I=Q.filter(function(K){return K.progress.uploadStarted}),D=I.filter(function(K){return K.isPaused}),M=Q.filter(function(K){return K.progress.uploadComplete}),P=Q.filter(function(K){return K.error}),C=Q.filter(function(K){return!K.progress.uploadComplete&&K.progress.uploadStarted}),n=C.filter(function(K){return!K.isPaused}),g=Q.filter(function(K){return K.progress.uploadStarted||K.progress.preprocess||K.progress.postprocess}),R=Q.filter(function(K){return K.progress.preprocess||K.progress.postprocess}),e=this.getTotalETA(n),Z=0,L=0;g.forEach(function(K){Z+=K.progress.bytesTotal||0,L+=K.progress.bytesUploaded||0});var q=g.length>0,Y=H===100&&M.length===Object.keys(_).length&&R.length===0,te=$&&P.length===Q.length,re=C.length!==0&&D.length===C.length,se=C.length>0,O=E.resumableUploads||!1,j=E.uploadProgress!==!1;return m({error:$,uploadState:this.getUploadingState(te,Y,v.files||{}),allowNewUpload:z,totalProgress:H,totalSize:Z,totalUploadedSize:L,isAllComplete:Y,isAllPaused:re,isAllErrored:te,isUploadStarted:q,isUploadInProgress:se,complete:M.length,newFiles:G.length,numUploads:g.length,totalETA:e,files:_,i18n:this.i18n,pauseAll:this.uppy.pauseAll,resumeAll:this.uppy.resumeAll,retryAll:this.uppy.retryAll,cancelAll:this.uppy.cancelAll,startUpload:this.startUpload,doneButtonHandler:this.opts.doneButtonHandler,resumableUploads:O,supportsUploadProgress:j,showProgressDetails:this.opts.showProgressDetails,hideUploadButton:this.opts.hideUploadButton,hideRetryButton:this.opts.hideRetryButton,hidePauseResumeButton:this.opts.hidePauseResumeButton,hideCancelButton:this.opts.hideCancelButton,hideAfterFinish:this.opts.hideAfterFinish,isTargetDOMEl:this.isTargetDOMEl})},S.onMount=function(){var v=this.el,E=T(v);E||(v.dir="ltr")},S.install=function(){var v=this.opts.target;v&&this.mount(v,this)},S.uninstall=function(){this.unmount()},l}(u),i.VERSION="1.9.3",s)},2286:function(N){function X(){return X=Object.assign||function(i){for(var s=1;s<arguments.length;s++){var b=arguments[s];for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(i[c]=b[c])}return i},X.apply(this,arguments)}var r=function(){function i(){this.state={},this.callbacks=[]}var s=i.prototype;return s.getState=function(){return this.state},s.setState=function(c){var d=X({},this.state),f=X({},this.state,c);this.state=f,this._publish(d,f,c)},s.subscribe=function(c){var d=this;return this.callbacks.push(c),function(){d.callbacks.splice(d.callbacks.indexOf(c),1)}},s._publish=function(){for(var c=arguments.length,d=new Array(c),f=0;f<c;f++)d[f]=arguments[f];this.callbacks.forEach(function(y){y.apply(void 0,d)})},i}();r.VERSION="1.2.6",N.exports=function(){return new r}},195:function(N,X,r){var i,s;function b(){return b=Object.assign||function(T){for(var k=1;k<arguments.length;k++){var l=arguments[k];for(var S in l)Object.prototype.hasOwnProperty.call(l,S)&&(T[S]=l[S])}return T},b.apply(this,arguments)}function c(T,k){T.prototype=Object.create(k.prototype),T.prototype.constructor=T,d(T,k)}function d(T,k){return d=Object.setPrototypeOf||function(S,h){return S.__proto__=h,S},d(T,k)}var f=r(9046),y=f.Plugin,u=r(9082),A=r(4255),m=r(873),x=r(2970),B=r(1774),U=r(2076);N.exports=(s=i=function(T){c(k,T);function k(S,h){var v;v=T.call(this,S,h)||this,v.onFileAdded=function(_){!_.preview&&x(_.type)&&!_.isRemote&&v.addToQueue(_.id)},v.onCancelRequest=function(_){var z=v.queue.indexOf(_.id);z!==-1&&v.queue.splice(z,1)},v.onFileRemoved=function(_){var z=v.queue.indexOf(_.id);z!==-1&&v.queue.splice(z,1),_.preview&&m(_.preview)&&URL.revokeObjectURL(_.preview)},v.onRestored=function(){var _=v.uppy.getState(),z=_.files,H=Object.keys(z);H.forEach(function($){var Q=v.uppy.getFile($);!Q.isRestored||(!Q.preview||m(Q.preview))&&v.addToQueue(Q.id)})},v.waitUntilAllProcessed=function(_){_.forEach(function(H){var $=v.uppy.getFile(H);v.uppy.emit("preprocess-progress",$,{mode:"indeterminate",message:v.i18n("generatingThumbnails")})});var z=function(){_.forEach(function($){var Q=v.uppy.getFile($);v.uppy.emit("preprocess-complete",Q)})};return new Promise(function(H,$){v.queueProcessing?v.uppy.once("thumbnail:all-generated",function(){z(),H()}):(z(),H())})},v.type="modifier",v.id=v.opts.id||"ThumbnailGenerator",v.title="Thumbnail Generator",v.queue=[],v.queueProcessing=!1,v.defaultThumbnailDimension=200,v.thumbnailType=v.opts.thumbnailType||"image/jpeg",v.defaultLocale={strings:{generatingThumbnails:"Generating thumbnails..."}};var E={thumbnailWidth:null,thumbnailHeight:null,waitForThumbnailsBeforeUpload:!1,lazy:!1};if(v.opts=b({},E,h),v.opts.lazy&&v.opts.waitForThumbnailsBeforeUpload)throw new Error("ThumbnailGenerator: The `lazy` and `waitForThumbnailsBeforeUpload` options are mutually exclusive. Please ensure at most one of them is set to `true`.");return v.i18nInit(),v}var l=k.prototype;return l.setOptions=function(h){T.prototype.setOptions.call(this,h),this.i18nInit()},l.i18nInit=function(){this.translator=new u([this.defaultLocale,this.uppy.locale,this.opts.locale]),this.i18n=this.translator.translate.bind(this.translator),this.setPluginState()},l.createThumbnail=function(h,v,E){var _=this,z=URL.createObjectURL(h.data),H=new Promise(function(Q,G){var I=new Image;I.src=z,I.addEventListener("load",function(){URL.revokeObjectURL(z),Q(I)}),I.addEventListener("error",function(D){URL.revokeObjectURL(z),G(D.error||new Error("Could not create thumbnail"))})}),$=U.rotation(h.data).catch(function(Q){return 1});return Promise.all([H,$]).then(function(Q){var G=Q[0],I=Q[1],D=_.getProportionalDimensions(G,v,E,I.deg),M=_.rotateImage(G,I),P=_.resizeImage(M,D.width,D.height);return _.canvasToBlob(P,_.thumbnailType,80)}).then(function(Q){return URL.createObjectURL(Q)})},l.getProportionalDimensions=function(h,v,E,_){var z=h.width/h.height;return(_===90||_===270)&&(z=h.height/h.width),v!=null?{width:v,height:Math.round(v/z)}:E!=null?{width:Math.round(E*z),height:E}:{width:this.defaultThumbnailDimension,height:Math.round(this.defaultThumbnailDimension/z)}},l.protect=function(h){var v=h.width/h.height,E=5e6,_=4096,z=Math.floor(Math.sqrt(E*v)),H=Math.floor(E/Math.sqrt(E*v));if(z>_&&(z=_,H=Math.round(z/v)),H>_&&(H=_,z=Math.round(v*H)),h.width>z){var $=document.createElement("canvas");$.width=z,$.height=H,$.getContext("2d").drawImage(h,0,0,z,H),h=$}return h},l.resizeImage=function(h,v,E){h=this.protect(h);var _=Math.ceil(B(h.width/v));_<1&&(_=1);for(var z=v*Math.pow(2,_-1),H=E*Math.pow(2,_-1),$=2;_--;){var Q=document.createElement("canvas");Q.width=z,Q.height=H,Q.getContext("2d").drawImage(h,0,0,z,H),h=Q,z=Math.round(z/$),H=Math.round(H/$)}return h},l.rotateImage=function(h,v){var E=h.width,_=h.height;(v.deg===90||v.deg===270)&&(E=h.height,_=h.width);var z=document.createElement("canvas");z.width=E,z.height=_;var H=z.getContext("2d");return H.translate(E/2,_/2),v.canvas&&(H.rotate(v.rad),H.scale(v.scaleX,v.scaleY)),H.drawImage(h,-h.width/2,-h.height/2,h.width,h.height),z},l.canvasToBlob=function(h,v,E){try{h.getContext("2d").getImageData(0,0,1,1)}catch(_){if(_.code===18)return Promise.reject(new Error("cannot read image, probably an svg with external resources"))}return h.toBlob?new Promise(function(_){h.toBlob(_,v,E)}).then(function(_){if(_===null)throw new Error("cannot read image, probably an svg with external resources");return _}):Promise.resolve().then(function(){return A(h.toDataURL(v,E),{})}).then(function(_){if(_===null)throw new Error("could not extract blob, probably an old browser");return _})},l.setPreviewURL=function(h,v){this.uppy.setFileState(h,{preview:v})},l.addToQueue=function(h){this.queue.push(h),this.queueProcessing===!1&&this.processQueue()},l.processQueue=function(){var h=this;if(this.queueProcessing=!0,this.queue.length>0){var v=this.uppy.getFile(this.queue.shift());if(!v){this.uppy.log("[ThumbnailGenerator] file was removed before a thumbnail could be generated, but not removed from the queue. This is probably a bug","error");return}return this.requestThumbnail(v).catch(function(E){}).then(function(){return h.processQueue()})}this.queueProcessing=!1,this.uppy.log("[ThumbnailGenerator] Emptied thumbnail queue"),this.uppy.emit("thumbnail:all-generated")},l.requestThumbnail=function(h){var v=this;return x(h.type)&&!h.isRemote?this.createThumbnail(h,this.opts.thumbnailWidth,this.opts.thumbnailHeight).then(function(E){v.setPreviewURL(h.id,E),v.uppy.log("[ThumbnailGenerator] Generated thumbnail for "+h.id),v.uppy.emit("thumbnail:generated",v.uppy.getFile(h.id),E)}).catch(function(E){v.uppy.log("[ThumbnailGenerator] Failed thumbnail for "+h.id+":","warning"),v.uppy.log(E,"warning"),v.uppy.emit("thumbnail:error",v.uppy.getFile(h.id),E)}):Promise.resolve()},l.install=function(){this.uppy.on("file-removed",this.onFileRemoved),this.opts.lazy?(this.uppy.on("thumbnail:request",this.onFileAdded),this.uppy.on("thumbnail:cancel",this.onCancelRequest)):(this.uppy.on("file-added",this.onFileAdded),this.uppy.on("restored",this.onRestored)),this.opts.waitForThumbnailsBeforeUpload&&this.uppy.addPreProcessor(this.waitUntilAllProcessed)},l.uninstall=function(){this.uppy.off("file-removed",this.onFileRemoved),this.opts.lazy?(this.uppy.off("thumbnail:request",this.onFileAdded),this.uppy.off("thumbnail:cancel",this.onCancelRequest)):(this.uppy.off("file-added",this.onFileAdded),this.uppy.off("restored",this.onRestored)),this.opts.waitForThumbnailsBeforeUpload&&this.uppy.removePreProcessor(this.waitUntilAllProcessed)},k}(y),i.VERSION="1.7.8",s)},9281:function(N){N.exports=function(){function X(i){this._events=[],this._emitter=i}var r=X.prototype;return r.on=function(s,b){return this._events.push([s,b]),this._emitter.on(s,b)},r.remove=function(){var s=this;this._events.forEach(function(b){var c=b[0],d=b[1];s._emitter.off(c,d)})},X}()},9855:function(N){N.exports=['a[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','area[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])',"input:not([disabled]):not([inert]):not([aria-hidden])","select:not([disabled]):not([inert]):not([aria-hidden])","textarea:not([disabled]):not([inert]):not([aria-hidden])","button:not([disabled]):not([inert]):not([aria-hidden])",'iframe:not([tabindex^="-"]):not([inert]):not([aria-hidden])','object:not([tabindex^="-"]):not([inert]):not([aria-hidden])','embed:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[contenteditable]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[tabindex]:not([tabindex^="-"]):not([inert]):not([aria-hidden])']},767:function(N){function X(y,u){y.prototype=Object.create(u.prototype),y.prototype.constructor=y,c(y,u)}function r(y){var u=typeof Map=="function"?new Map:void 0;return r=function(m){if(m===null||!b(m))return m;if(typeof m!="function")throw new TypeError("Super expression must either be null or a function");if(typeof u!="undefined"){if(u.has(m))return u.get(m);u.set(m,x)}function x(){return i(m,arguments,d(this).constructor)}return x.prototype=Object.create(m.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),c(x,m)},r(y)}function i(y,u,A){return s()?i=Reflect.construct:i=function(x,B,U){var T=[null];T.push.apply(T,B);var k=Function.bind.apply(x,T),l=new k;return U&&c(l,U.prototype),l},i.apply(null,arguments)}function s(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(y){return!1}}function b(y){return Function.toString.call(y).indexOf("[native code]")!==-1}function c(y,u){return c=Object.setPrototypeOf||function(m,x){return m.__proto__=x,m},c(y,u)}function d(y){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(A){return A.__proto__||Object.getPrototypeOf(A)},d(y)}var f=function(y){X(u,y);function u(A,m){var x;return m===void 0&&(m=null),x=y.call(this,`This looks like a network error, the endpoint might be blocked by an internet provider or a firewall.

Source error: [`+A+"]")||this,x.isNetworkError=!0,x.request=m,x}return u}(r(Error));N.exports=f},4478:function(N){var X=function(){function r(s,b){this._timeout=s,this._onTimedOut=b,this._isDone=!1,this._aliveTimer=null,this._onTimedOut=this._onTimedOut.bind(this)}var i=r.prototype;return i.progress=function(){this._isDone||this._timeout>0&&(this._aliveTimer&&clearTimeout(this._aliveTimer),this._aliveTimer=setTimeout(this._onTimedOut,this._timeout))},i.done=function(){this._aliveTimer&&(clearTimeout(this._aliveTimer),this._aliveTimer=null),this._isDone=!0},r}();N.exports=X},3879:function(N,X,r){var i=r(3792);function s(){return new Error("Cancelled")}N.exports=function(){function b(d){typeof d!="number"||d===0?this.limit=Infinity:this.limit=d,this.activeRequests=0,this.queuedHandlers=[]}var c=b.prototype;return c._call=function(f){var y=this;this.activeRequests+=1;var u=!1,A;try{A=f()}catch(m){throw this.activeRequests-=1,m}return{abort:function(){u||(u=!0,y.activeRequests-=1,A(),y._queueNext())},done:function(){u||(u=!0,y.activeRequests-=1,y._queueNext())}}},c._queueNext=function(){var f=this;Promise.resolve().then(function(){f._next()})},c._next=function(){if(!(this.activeRequests>=this.limit)&&this.queuedHandlers.length!==0){var f=this.queuedHandlers.shift(),y=this._call(f.fn);f.abort=y.abort,f.done=y.done}},c._queue=function(f,y){var u=this;y===void 0&&(y={});var A={fn:f,priority:y.priority||0,abort:function(){u._dequeue(A)},done:function(){throw new Error("Cannot mark a queued request as done: this indicates a bug")}},m=i(this.queuedHandlers,function(x){return A.priority>x.priority});return m===-1?this.queuedHandlers.push(A):this.queuedHandlers.splice(m,0,A),A},c._dequeue=function(f){var y=this.queuedHandlers.indexOf(f);y!==-1&&this.queuedHandlers.splice(y,1)},c.run=function(f,y){return this.activeRequests<this.limit?this._call(f):this._queue(f,y)},c.wrapPromiseFunction=function(f,y){var u=this;return function(){for(var A=arguments.length,m=new Array(A),x=0;x<A;x++)m[x]=arguments[x];var B,U=new Promise(function(T,k){B=u.run(function(){var l,S;try{S=Promise.resolve(f.apply(void 0,m))}catch(h){S=Promise.reject(h)}return S.then(function(h){l?k(l):(B.done(),T(h))},function(h){l?k(l):(B.done(),k(h))}),function(){l=s()}},y)});return U.abort=function(){B.abort()},U}},b}()},9082:function(N,X,r){function i(){return i=Object.assign||function(b){for(var c=1;c<arguments.length;c++){var d=arguments[c];for(var f in d)Object.prototype.hasOwnProperty.call(d,f)&&(b[f]=d[f])}return b},i.apply(this,arguments)}var s=r(9514);N.exports=function(){function b(d){var f=this;this.locale={strings:{},pluralize:function(u){return u===1?0:1}},Array.isArray(d)?d.forEach(function(y){return f._apply(y)}):this._apply(d)}var c=b.prototype;return c._apply=function(f){if(!(!f||!f.strings)){var y=this.locale;this.locale=i({},y,{strings:i({},y.strings,f.strings)}),this.locale.pluralize=f.pluralize||y.pluralize}},c.interpolate=function(f,y){var u=String.prototype,A=u.split,m=u.replace,x=/\$/g,B="$$$$",U=[f];for(var T in y)if(T!=="_"&&s(y,T)){var k=y[T];typeof k=="string"&&(k=m.call(y[T],x,B)),U=l(U,new RegExp("%\\{"+T+"\\}","g"),k)}return U;function l(S,h,v){var E=[];return S.forEach(function(_){if(typeof _!="string")return E.push(_);A.call(_,h).forEach(function(z,H,$){z!==""&&E.push(z),H<$.length-1&&E.push(v)})}),E}},c.translate=function(f,y){return this.translateArray(f,y).join("")},c.translateArray=function(f,y){if(!s(this.locale.strings,f))throw new Error("missing string: "+f);var u=this.locale.strings[f],A=typeof u=="object";if(A){if(y&&typeof y.smart_count!="undefined"){var m=this.locale.pluralize(y.smart_count);return this.interpolate(u[m],y)}throw new Error("Attempted to use a string with plural forms, but no value was given for %{smart_count}")}return this.interpolate(u,y)},b}()},1648:function(N,X,r){var i=r(4255);N.exports=function(b,c,d){return b.toBlob?new Promise(function(f){b.toBlob(f,c,d)}):Promise.resolve().then(function(){return i(b.toDataURL(c,d),{})})}},4255:function(N){N.exports=function(r,i,s){var b=r.split(",")[1],c=i.mimeType||r.split(",")[0].split(":")[1].split(";")[0];c==null&&(c="plain/text");for(var d=atob(b),f=[],y=0;y<d.length;y++)f.push(d.charCodeAt(y));var u;try{u=new Uint8Array(f)}catch(A){return null}return s?new File([u],i.name||"",{type:c}):new Blob([u],{type:c})}},125:function(N,X,r){var i=r(6818);function s(b,c,d){var f=c.progress,y=c.bytesUploaded,u=c.bytesTotal;f&&(b.uppy.log("Upload progress: "+f),b.uppy.emit("upload-progress",d,{uploader:b,bytesUploaded:y,bytesTotal:u}))}N.exports=i(s,300,{leading:!0,trailing:!0})},591:function(N,X,r){var i=r(767);N.exports=function(){return fetch.apply(void 0,arguments).catch(function(b){throw b.name==="AbortError"?b:new i(b)})}},9613:function(N,X,r){var i=r(991);N.exports=function(b){if(typeof b=="string"){var c=[].slice.call(document.querySelectorAll(b));return c.length>0?c:null}if(typeof b=="object"&&i(b))return[b]}},8079:function(N,X,r){var i=r(991);N.exports=function(b,c){if(c===void 0&&(c=document),typeof b=="string")return c.querySelector(b);if(i(b))return b}},3792:function(N){N.exports=function(r,i){for(var s=0;s<r.length;s++)if(i(r[s]))return s;return-1}},3746:function(N){N.exports=function(s){var b="uppy";return typeof s.name=="string"&&(b+="-"+X(s.name.toLowerCase())),s.type!==void 0&&(b+="-"+s.type),s.meta&&typeof s.meta.relativePath=="string"&&(b+="-"+X(s.meta.relativePath.toLowerCase())),s.data.size!==void 0&&(b+="-"+s.data.size),s.data.lastModified!==void 0&&(b+="-"+s.data.lastModified),b};function X(i){var s="";return i.replace(/[^A-Z0-9]/ig,function(b){return s+="-"+r(b),"/"})+s}function r(i){return i.charCodeAt(0).toString(32)}},9418:function(N){N.exports=function(r){return r.bytesTotal-r.bytesUploaded}},5169:function(N,X,r){var i=r(1269),s=r(1988);N.exports=function(c,d){var f=d===void 0?{}:d,y=f.logDropError,u=y===void 0?function(){}:y;return c.items&&c.items[0]&&"webkitGetAsEntry"in c.items[0]?i(c,u):s(c)}},1988:function(N,X,r){var i=r(9212);N.exports=function(b){var c=i(b.files);return Promise.resolve(c)}},4523:function(N){N.exports=function X(r,i,s,b){var c=b.onSuccess;r.readEntries(function(d){var f=[].concat(i,d);d.length?setTimeout(function(){X(r,f,s,{onSuccess:c})},0):c(f)},function(d){s(d),c(i)})}},915:function(N){N.exports=function(r){return!r.fullPath||r.fullPath==="/"+r.name?null:r.fullPath}},1269:function(N,X,r){var i=r(9212),s=r(915),b=r(4523);N.exports=function(d,f){var y=[],u=[],A=function m(x){return new Promise(function(B){if(x.isFile)x.file(function(T){T.relativePath=s(x),y.push(T),B()},function(T){f(T),B()});else if(x.isDirectory){var U=x.createReader();b(U,[],f,{onSuccess:function(k){var l=k.map(function(S){return m(S)});Promise.all(l).then(function(){return B()})}})}})};return i(d.items).forEach(function(m){var x=m.webkitGetAsEntry();x&&u.push(A(x))}),Promise.all(u).then(function(){return y})}},8455:function(N){N.exports=function(r){var i=r.lastIndexOf(".");return i===-1||i===r.length-1?{name:r,extension:void 0}:{name:r.slice(0,i),extension:r.slice(i+1)}}},9590:function(N,X,r){var i=r(8455),s=r(5092);N.exports=function(c){var d=c.name?i(c.name).extension:null;return d=d?d.toLowerCase():null,c.type?c.type:d&&s[d]?s[d]:"application/octet-stream"}},384:function(N){var X={"audio/mp3":"mp3","audio/mp4":"mp4","audio/ogg":"ogg","audio/webm":"webm","image/gif":"gif","image/heic":"heic","image/heif":"heif","image/jpeg":"jpg","image/png":"png","image/svg+xml":"svg","video/mp4":"mp4","video/ogg":"ogv","video/quicktime":"mov","video/webm":"webm","video/x-matroska":"mkv","video/x-msvideo":"avi"};N.exports=function(i){return i=i.replace(/;.*$/,""),X[i]||null}},8204:function(N){N.exports=function(r){var i=/^(?:https?:\/\/|\/\/)?(?:[^@\n]+@)?(?:www\.)?([^\n]+)/i,s=i.exec(r)[1],b=/^http:\/\//i.test(r)?"ws":"wss";return b+"://"+s}},4339:function(N){N.exports=function(r){if(!r.bytesUploaded)return 0;var i=new Date-r.uploadStarted,s=r.bytesUploaded/(i/1e3);return s}},936:function(N){function X(r){for(;r&&!r.dir;)r=r.parentNode;return r?r.dir:void 0}N.exports=X},5815:function(N){N.exports=function(){var i=new Date,s=X(i.getHours().toString()),b=X(i.getMinutes().toString()),c=X(i.getSeconds().toString());return s+":"+b+":"+c};function X(r){return r.length!==2?0+r:r}},9514:function(N){N.exports=function(r,i){return Object.prototype.hasOwnProperty.call(r,i)}},991:function(N){N.exports=function(r){return r&&typeof r=="object"&&r.nodeType===Node.ELEMENT_NODE}},1869:function(N){N.exports=function(){var r=document.createElement("div");return!(!("draggable"in r)||!("ondragstart"in r&&"ondrop"in r)||!("FormData"in window)||!("FileReader"in window))}},757:function(N){function X(r){return r?r.readyState!==0&&r.readyState!==4||r.status===0:!1}N.exports=X},873:function(N){N.exports=function(r){return r.indexOf("blob:")===0}},2970:function(N){N.exports=function(r){if(!r)return!1;var i=r.split("/")[1];return!!/^(jpe?g|gif|png|svg|svg\+xml|bmp|webp|avif)$/.test(i)}},5092:function(N){N.exports={md:"text/markdown",markdown:"text/markdown",mp4:"video/mp4",mp3:"audio/mp3",svg:"image/svg+xml",jpg:"image/jpeg",png:"image/png",gif:"image/gif",heic:"image/heic",heif:"image/heif",yaml:"text/yaml",yml:"text/yaml",csv:"text/csv",tsv:"text/tab-separated-values",tab:"text/tab-separated-values",avi:"video/x-msvideo",mks:"video/x-matroska",mkv:"video/x-matroska",mov:"video/quicktime",doc:"application/msword",docm:"application/vnd.ms-word.document.macroenabled.12",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",dot:"application/msword",dotm:"application/vnd.ms-word.template.macroenabled.12",dotx:"application/vnd.openxmlformats-officedocument.wordprocessingml.template",xla:"application/vnd.ms-excel",xlam:"application/vnd.ms-excel.addin.macroenabled.12",xlc:"application/vnd.ms-excel",xlf:"application/x-xliff+xml",xlm:"application/vnd.ms-excel",xls:"application/vnd.ms-excel",xlsb:"application/vnd.ms-excel.sheet.binary.macroenabled.12",xlsm:"application/vnd.ms-excel.sheet.macroenabled.12",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xlt:"application/vnd.ms-excel",xltm:"application/vnd.ms-excel.template.macroenabled.12",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template",xlw:"application/vnd.ms-excel",txt:"text/plain",text:"text/plain",conf:"text/plain",log:"text/plain",pdf:"application/pdf",zip:"application/zip","7z":"application/x-7z-compressed",rar:"application/x-rar-compressed",tar:"application/x-tar",gz:"application/gzip",dmg:"application/x-apple-diskimage"}},5192:function(N,X,r){var i=r(6654);N.exports=function(b){var c=i(b),d=c.hours?c.hours+"h ":"",f=c.hours?("0"+c.minutes).substr(-2):c.minutes,y=f?f+"m":"",u=f?("0"+c.seconds).substr(-2):c.seconds,A=c.hours?"":f?" "+u+"s":u+"s";return""+d+y+A}},6654:function(N){N.exports=function(r){var i=Math.floor(r/3600)%24,s=Math.floor(r/60)%60,b=Math.floor(r%60);return{hours:i,minutes:s,seconds:b}}},7875:function(N){N.exports=function(r){var i=[],s=[];function b(f){i.push(f)}function c(f){s.push(f)}var d=Promise.all(r.map(function(f){return f.then(b,c)}));return d.then(function(){return{successful:i,failed:s}})}},9212:function(N){N.exports=function(r){return Array.prototype.slice.call(r||[],0)}},5180:function(N){N.exports=function(r,i){var s="...";if(r.length<=i)return r;if(i<=s.length)return r.substr(0,i);var b=i-s.length,c=Math.ceil(b/2),d=Math.floor(b/2);return r.substr(0,c)+s+r.substr(r.length-d)}},8107:function(N,X,r){var i=r(3562),s=i.h;N.exports=function(b){return s("svg",{"aria-hidden":"true",focusable:"false",fill:"#0097DC",width:"66",height:"55",viewBox:"0 0 66 55"},s("path",{d:"M57.3 8.433c4.59 0 8.1 3.51 8.1 8.1v29.7c0 4.59-3.51 8.1-8.1 8.1H8.7c-4.59 0-8.1-3.51-8.1-8.1v-29.7c0-4.59 3.51-8.1 8.1-8.1h9.45l4.59-7.02c.54-.54 1.35-1.08 2.16-1.08h16.2c.81 0 1.62.54 2.16 1.08l4.59 7.02h9.45zM33 14.64c-8.62 0-15.393 6.773-15.393 15.393 0 8.62 6.773 15.393 15.393 15.393 8.62 0 15.393-6.773 15.393-15.393 0-8.62-6.773-15.393-15.393-15.393zM33 40c-5.648 0-9.966-4.319-9.966-9.967 0-5.647 4.318-9.966 9.966-9.966s9.966 4.319 9.966 9.966C42.966 35.681 38.648 40 33 40z",fillRule:"evenodd"}))}},6555:function(N,X,r){function i(){return i=Object.assign||function(k){for(var l=1;l<arguments.length;l++){var S=arguments[l];for(var h in S)Object.prototype.hasOwnProperty.call(S,h)&&(k[h]=S[h])}return k},i.apply(this,arguments)}function s(k,l){k.prototype=Object.create(l.prototype),k.prototype.constructor=k,b(k,l)}function b(k,l){return b=Object.setPrototypeOf||function(h,v){return h.__proto__=v,h},b(k,l)}var c=r(3562),d=c.h,f=c.Component,y=r(2686),u=r(7019),A=r(778),m=r(4418),x=r(8089),B=r(5726);function U(k,l){return k.indexOf(l)!==-1}var T=function(k){s(l,k);function l(){return k.apply(this,arguments)||this}var S=l.prototype;return S.componentDidMount=function(){var v=this.props.onFocus;v()},S.componentWillUnmount=function(){var v=this.props.onStop;v()},S.render=function(){var v=this,E=this.props,_=E.src,z=E.recordedVideo,H=E.recording,$=E.modes,Q=E.supportsRecording,G=E.videoSources,I=E.showVideoSourceDropdown,D=E.showRecordingLength,M=E.onSubmit,P=E.i18n,C=E.mirror,n=E.onSnapshot,g=E.onStartRecording,R=E.onStopRecording,e=E.onDiscardRecordedVideo,Z=E.recordingLengthSeconds,L=!!z,q=!L&&Q&&(U($,"video-only")||U($,"audio-only")||U($,"video-audio")),Y=!L&&U($,"picture"),te=Q&&D,re=I&&G&&G.length>1,se={playsinline:!0};return z?(se.muted=!1,se.controls=!0,se.src=z,this.videoElement&&(this.videoElement.srcObject=void 0)):(se.muted=!0,se.autoplay=!0,se.srcObject=_),d("div",{className:"uppy uppy-Webcam-container"},d("div",{className:"uppy-Webcam-videoContainer"},d("video",i({ref:function(j){return v.videoElement=j},className:"uppy-Webcam-video  "+(C?"uppy-Webcam-video--mirrored":"")},se))),d("div",{className:"uppy-Webcam-footer"},d("div",{className:"uppy-Webcam-videoSourceContainer"},re?m(this.props):null),d("div",{className:"uppy-Webcam-buttonContainer"},Y&&d(y,{onSnapshot:n,i18n:P}),q&&d(u,{recording:H,onStartRecording:g,onStopRecording:R,i18n:P}),L&&d(x,{onSubmit:M,i18n:P}),L&&d(B,{onDiscard:e,i18n:P})),te&&d("div",{className:"uppy-Webcam-recordingLength"},d(A,{recordingLengthSeconds:Z,i18n:P}))))},l}(f);N.exports=T},5726:function(N,X,r){var i=r(3562),s=i.h;function b(c){var d=c.onDiscard,f=c.i18n;return s("button",{className:"uppy-u-reset uppy-c-btn uppy-Webcam-button",type:"button",title:f("discardRecordedFile"),"aria-label":f("discardRecordedFile"),onClick:d,"data-uppy-super-focusable":!0},s("svg",{width:"13",height:"13",viewBox:"0 0 13 13",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",className:"uppy-c-icon"},s("g",{fill:"#FFF",fillRule:"evenodd"},s("path",{d:"M.496 11.367L11.103.76l1.414 1.414L1.911 12.781z"}),s("path",{d:"M11.104 12.782L.497 2.175 1.911.76l10.607 10.606z"}))))}N.exports=b},9079:function(N,X,r){var i=r(3562),s=i.h;N.exports=function(b){return s("div",{className:"uppy-Webcam-permissons"},s("div",{className:"uppy-Webcam-permissonsIcon"},b.icon()),s("h1",{className:"uppy-Webcam-title"},b.hasCamera?b.i18n("allowAccessTitle"):b.i18n("noCameraTitle")),s("p",null,b.hasCamera?b.i18n("allowAccessDescription"):b.i18n("noCameraDescription")))}},7019:function(N,X,r){var i=r(3562),s=i.h;N.exports=function(c){var d=c.recording,f=c.onStartRecording,y=c.onStopRecording,u=c.i18n;return d?s("button",{className:"uppy-u-reset uppy-c-btn uppy-Webcam-button",type:"button",title:u("stopRecording"),"aria-label":u("stopRecording"),onClick:y,"data-uppy-super-focusable":!0},s("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"100",height:"100",viewBox:"0 0 100 100"},s("rect",{x:"15",y:"15",width:"70",height:"70"}))):s("button",{className:"uppy-u-reset uppy-c-btn uppy-Webcam-button",type:"button",title:u("startRecording"),"aria-label":u("startRecording"),onClick:f,"data-uppy-super-focusable":!0},s("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"100",height:"100",viewBox:"0 0 100 100"},s("circle",{cx:"50",cy:"50",r:"40"})))}},778:function(N,X,r){var i=r(3562),s=i.h,b=r(2662);N.exports=function(d){var f=d.recordingLengthSeconds,y=d.i18n,u=b(f);return s("span",{"aria-label":y("recordingLength",{recording_length:u})},u)}},2686:function(N,X,r){var i=r(3562),s=i.h,b=r(8107);N.exports=function(c){var d=c.onSnapshot,f=c.i18n;return s("button",{className:"uppy-u-reset uppy-c-btn uppy-Webcam-button uppy-Webcam-button--picture",type:"button",title:f("takePicture"),"aria-label":f("takePicture"),onClick:d,"data-uppy-super-focusable":!0},b())}},8089:function(N,X,r){var i=r(3562),s=i.h;function b(c){var d=c.onSubmit,f=c.i18n;return s("button",{className:"uppy-u-reset uppy-c-btn uppy-Webcam-button uppy-Webcam-button--submit",type:"button",title:f("submitRecordedFile"),"aria-label":f("submitRecordedFile"),onClick:d,"data-uppy-super-focusable":!0},s("svg",{width:"12",height:"9",viewBox:"0 0 12 9",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",className:"uppy-c-icon"},s("path",{fill:"#fff",fillRule:"nonzero",d:"M10.66 0L12 1.31 4.136 9 0 4.956l1.34-1.31L4.136 6.38z"})))}N.exports=b},4418:function(N,X,r){var i=r(3562),s=i.h;N.exports=function(b){var c=b.currentDeviceId,d=b.videoSources,f=b.onChangeVideoSource;return s("div",{className:"uppy-Webcam-videoSource"},s("select",{className:"uppy-u-reset uppy-Webcam-videoSource-select",onChange:function(u){f(u.target.value)}},d.map(function(y){return s("option",{key:y.deviceId,value:y.deviceId,selected:y.deviceId===c},y.label)})))}},2662:function(N){N.exports=function(r){return Math.floor(r/60)+":"+String(r%60).padStart(2,0)}},5519:function(N,X,r){var i,s;function b(){return b=Object.assign||function($){for(var Q=1;Q<arguments.length;Q++){var G=arguments[Q];for(var I in G)Object.prototype.hasOwnProperty.call(G,I)&&($[I]=G[I])}return $},b.apply(this,arguments)}function c($){if($===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return $}function d($,Q){$.prototype=Object.create(Q.prototype),$.prototype.constructor=$,f($,Q)}function f($,Q){return f=Object.setPrototypeOf||function(I,D){return I.__proto__=D,I},f($,Q)}var y=r(3562),u=y.h,A=r(9046),m=A.Plugin,x=r(9082),B=r(384),U=r(5092),T=r(1648),k=r(7931),l=r(8107),S=r(6555),h=r(9079),v="1.8.9";function E($){return $[0]==="."?U[$.slice(1)]:$}function _($){return/^video\/[^*]+$/.test($)}function z($){return/^image\/[^*]+$/.test($)}function H(){if(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)return navigator.mediaDevices;var $=navigator.mozGetUserMedia||navigator.webkitGetUserMedia;return $?{getUserMedia:function(G){return new Promise(function(I,D){$.call(navigator,G,I,D)})}}:null}N.exports=(s=i=function($){d(Q,$);function Q(I,D){var M;M=$.call(this,I,D)||this,M.mediaDevices=H(),M.supportsUserMedia=!!M.mediaDevices,M.protocol=location.protocol.match(/https/i)?"https":"http",M.id=M.opts.id||"Webcam",M.title=M.opts.title||"Camera",M.type="acquirer",M.capturedMediaFile=null,M.icon=function(){return u("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},u("g",{fill:"none",fillRule:"evenodd"},u("rect",{className:"uppy-ProviderIconBg",fill:"#03BFEF",width:"32",height:"32",rx:"16"}),u("path",{d:"M22 11c1.133 0 2 .867 2 2v7.333c0 1.134-.867 2-2 2H10c-1.133 0-2-.866-2-2V13c0-1.133.867-2 2-2h2.333l1.134-1.733C13.6 9.133 13.8 9 14 9h4c.2 0 .4.133.533.267L19.667 11H22zm-6 1.533a3.764 3.764 0 0 0-3.8 3.8c0 2.129 1.672 3.801 3.8 3.801s3.8-1.672 3.8-3.8c0-2.13-1.672-3.801-3.8-3.801zm0 6.261c-1.395 0-2.46-1.066-2.46-2.46 0-1.395 1.065-2.461 2.46-2.461s2.46 1.066 2.46 2.46c0 1.395-1.065 2.461-2.46 2.461z",fill:"#FFF",fillRule:"nonzero"})))},M.defaultLocale={strings:{smile:"Smile!",takePicture:"Take a picture",startRecording:"Begin video recording",stopRecording:"Stop video recording",allowAccessTitle:"Please allow access to your camera",allowAccessDescription:"In order to take pictures or record video with your camera, please allow camera access for this site.",noCameraTitle:"Camera Not Available",noCameraDescription:"In order to take pictures or record video, please connect a camera device",recordingStoppedMaxSize:"Recording stopped because the file size is about to exceed the limit",recordingLength:"Recording length %{recording_length}",submitRecordedFile:"Submit recorded file",discardRecordedFile:"Discard recorded file"}};var P={onBeforeSnapshot:function(){return Promise.resolve()},countdown:!1,modes:["video-audio","video-only","audio-only","picture"],mirror:!0,showVideoSourceDropdown:!1,facingMode:"user",preferredImageMimeType:null,preferredVideoMimeType:null,showRecordingLength:!1};return M.opts=b({},P,D),M.i18nInit(),M.install=M.install.bind(c(M)),M.setPluginState=M.setPluginState.bind(c(M)),M.render=M.render.bind(c(M)),M.start=M.start.bind(c(M)),M.stop=M.stop.bind(c(M)),M.takeSnapshot=M.takeSnapshot.bind(c(M)),M.startRecording=M.startRecording.bind(c(M)),M.stopRecording=M.stopRecording.bind(c(M)),M.discardRecordedVideo=M.discardRecordedVideo.bind(c(M)),M.submit=M.submit.bind(c(M)),M.oneTwoThreeSmile=M.oneTwoThreeSmile.bind(c(M)),M.focus=M.focus.bind(c(M)),M.changeVideoSource=M.changeVideoSource.bind(c(M)),M.webcamActive=!1,M.opts.countdown&&(M.opts.onBeforeSnapshot=M.oneTwoThreeSmile),M.setPluginState({hasCamera:!1,cameraReady:!1,cameraError:null,recordingLengthSeconds:0,videoSources:[],currentDeviceId:null}),M}var G=Q.prototype;return G.setOptions=function(D){$.prototype.setOptions.call(this,b({},D,{videoConstraints:b({},this.opts.videoConstraints,D==null?void 0:D.videoConstraints)})),this.i18nInit()},G.i18nInit=function(){this.translator=new x([this.defaultLocale,this.uppy.locale,this.opts.locale]),this.i18n=this.translator.translate.bind(this.translator),this.i18nArray=this.translator.translateArray.bind(this.translator),this.setPluginState()},G.hasCameraCheck=function(){return this.mediaDevices?this.mediaDevices.enumerateDevices().then(function(D){return D.some(function(M){return M.kind==="videoinput"})}):Promise.resolve(!1)},G.isAudioOnly=function(){return this.opts.modes.length===1&&this.opts.modes[0]==="audio-only"},G.getConstraints=function(D){var M;D===void 0&&(D=null);var P=this.opts.modes.indexOf("video-audio")!==-1||this.opts.modes.indexOf("audio-only")!==-1,C=!this.isAudioOnly()&&(this.opts.modes.indexOf("video-audio")!==-1||this.opts.modes.indexOf("video-only")!==-1||this.opts.modes.indexOf("picture")!==-1),n=b({},(M=this.opts.videoConstraints)!=null?M:{facingMode:this.opts.facingMode},D?{deviceId:D,facingMode:null}:{});return{audio:P,video:C?n:!1}},G.start=function(D){var M=this;if(D===void 0&&(D=null),!this.supportsUserMedia)return Promise.reject(new Error("Webcam access not supported"));this.webcamActive=!0,this.opts.mirror=!0;var P=this.getConstraints(D&&D.deviceId?D.deviceId:null);this.hasCameraCheck().then(function(C){return M.setPluginState({hasCamera:C}),M.mediaDevices.getUserMedia(P).then(function(n){M.stream=n;var g=null,R=M.isAudioOnly()?n.getAudioTracks():n.getVideoTracks();!D||!D.deviceId?g=R[0].getSettings().deviceId:R.forEach(function(e){e.getSettings().deviceId===D.deviceId&&(g=e.getSettings().deviceId)}),M.updateVideoSources(),M.setPluginState({currentDeviceId:g,cameraReady:!0})}).catch(function(n){M.setPluginState({cameraReady:!1,cameraError:n}),M.uppy.info(n.message,"error")})})},G.getMediaRecorderOptions=function(){var D={};if(MediaRecorder.isTypeSupported){var M=this.uppy.opts.restrictions,P=[];this.opts.preferredVideoMimeType?P=[this.opts.preferredVideoMimeType]:M.allowedFileTypes&&(P=M.allowedFileTypes.map(E).filter(_));var C=function(R){return MediaRecorder.isTypeSupported(R)&&B(R)},n=P.filter(C);n.length>0&&(D.mimeType=n[0])}return D},G.startRecording=function(){var D=this;this.recorder=new MediaRecorder(this.stream,this.getMediaRecorderOptions()),this.recordingChunks=[];var M=!1;this.recorder.addEventListener("dataavailable",function(P){D.recordingChunks.push(P.data);var C=D.uppy.opts.restrictions;if(D.recordingChunks.length>1&&C.maxFileSize!=null&&!M){var n=D.recordingChunks.reduce(function(Z,L){return Z+L.size},0),g=(n-D.recordingChunks[0].size)/(D.recordingChunks.length-1),R=g*3,e=Math.max(0,C.maxFileSize-R);n>e&&(M=!0,D.uppy.info(D.i18n("recordingStoppedMaxSize"),"warning",4e3),D.stopRecording())}}),this.recorder.start(500),this.opts.showRecordingLength&&(this.recordingLengthTimer=setInterval(function(){var P=D.getPluginState().recordingLengthSeconds;D.setPluginState({recordingLengthSeconds:P+1})},1e3)),this.setPluginState({isRecording:!0})},G.stopRecording=function(){var D=this,M=new Promise(function(P){D.recorder.addEventListener("stop",function(){P()}),D.recorder.stop(),D.opts.showRecordingLength&&(clearInterval(D.recordingLengthTimer),D.setPluginState({recordingLengthSeconds:0}))});return M.then(function(){return D.setPluginState({isRecording:!1}),D.getVideo()}).then(function(P){try{D.capturedMediaFile=P,D.setPluginState({recordedVideo:URL.createObjectURL(P.data)}),D.opts.mirror=!1}catch(C){C.isRestriction||D.uppy.log(C)}}).then(function(){D.recordingChunks=null,D.recorder=null},function(P){throw D.recordingChunks=null,D.recorder=null,P})},G.discardRecordedVideo=function(){this.setPluginState({recordedVideo:null}),this.opts.mirror=!0,this.capturedMediaFile=null},G.submit=function(){try{this.capturedMediaFile&&this.uppy.addFile(this.capturedMediaFile)}catch(D){D.isRestriction||this.uppy.log(D,"error")}},G.stop=function(){this.stream&&(this.stream.getAudioTracks().forEach(function(D){D.stop()}),this.stream.getVideoTracks().forEach(function(D){D.stop()})),this.webcamActive=!1,this.stream=null,this.setPluginState({recordedVideo:null})},G.getVideoElement=function(){return this.el.querySelector(".uppy-Webcam-video")},G.oneTwoThreeSmile=function(){var D=this;return new Promise(function(M,P){var C=D.opts.countdown,n=setInterval(function(){if(!D.webcamActive)return clearInterval(n),D.captureInProgress=!1,P(new Error("Webcam is not active"));C>0?(D.uppy.info(C+"...","warning",800),C--):(clearInterval(n),D.uppy.info(D.i18n("smile"),"success",1500),setTimeout(function(){return M()},1500))},1e3)})},G.takeSnapshot=function(){var D=this;this.captureInProgress||(this.captureInProgress=!0,this.opts.onBeforeSnapshot().catch(function(M){var P=typeof M=="object"?M.message:M;return D.uppy.info(P,"error",5e3),Promise.reject(new Error("onBeforeSnapshot: "+P))}).then(function(){return D.getImage()}).then(function(M){D.captureInProgress=!1;try{D.uppy.addFile(M)}catch(P){P.isRestriction||D.uppy.log(P)}},function(M){throw D.captureInProgress=!1,M}))},G.getImage=function(){var D=this,M=this.getVideoElement();if(!M)return Promise.reject(new Error("No video element found, likely due to the Webcam tab being closed."));var P=M.videoWidth,C=M.videoHeight,n=document.createElement("canvas");n.width=P,n.height=C;var g=n.getContext("2d");g.drawImage(M,0,0);var R=this.uppy.opts.restrictions,e=[];this.opts.preferredImageMimeType?e=[this.opts.preferredImageMimeType]:R.allowedFileTypes&&(e=R.allowedFileTypes.map(E).filter(z));var Z=e[0]||"image/jpeg",L=B(Z)||"jpg",q="cam-"+Date.now()+"."+L;return T(n,Z).then(function(Y){return{source:D.id,name:q,data:new Blob([Y],{type:Z}),type:Z}})},G.getVideo=function(){var D=this.recordingChunks.find(function(g){var R;return((R=g.type)==null?void 0:R.length)>0}).type,M=B(D);if(!M)return Promise.reject(new Error('Could not retrieve recording: Unsupported media type "'+D+'"'));var P="webcam-"+Date.now()+"."+M,C=new Blob(this.recordingChunks,{type:D}),n={source:this.id,name:P,data:new Blob([C],{type:D}),type:D};return Promise.resolve(n)},G.focus=function(){var D=this;!this.opts.countdown||setTimeout(function(){D.uppy.info(D.i18n("smile"),"success",1500)},1e3)},G.changeVideoSource=function(D){this.stop(),this.start({deviceId:D})},G.updateVideoSources=function(){var D=this;this.mediaDevices.enumerateDevices().then(function(M){D.setPluginState({videoSources:M.filter(function(P){return P.kind==="videoinput"})})})},G.render=function(){this.webcamActive||this.start();var D=this.getPluginState();return!D.cameraReady||!D.hasCamera?u(h,{icon:l,i18n:this.i18n,hasCamera:D.hasCamera}):u(S,b({},D,{onChangeVideoSource:this.changeVideoSource,onSnapshot:this.takeSnapshot,onStartRecording:this.startRecording,onStopRecording:this.stopRecording,onDiscardRecordedVideo:this.discardRecordedVideo,onSubmit:this.submit,onFocus:this.focus,onStop:this.stop,i18n:this.i18n,modes:this.opts.modes,showRecordingLength:this.opts.showRecordingLength,showVideoSourceDropdown:this.opts.showVideoSourceDropdown,supportsRecording:k(),recording:D.isRecording,mirror:this.opts.mirror,src:this.stream}))},G.install=function(){var D=this;this.setPluginState({cameraReady:!1,recordingLengthSeconds:0});var M=this.opts.target;M&&this.mount(M,this),this.mediaDevices&&(this.updateVideoSources(),this.mediaDevices.ondevicechange=function(){if(D.updateVideoSources(),D.stream){var P=!0,C=D.getPluginState(),n=C.videoSources,g=C.currentDeviceId;n.forEach(function(R){g===R.deviceId&&(P=!1)}),P&&(D.stop(),D.start())}})},G.uninstall=function(){this.stream&&this.stop(),this.unmount()},Q}(m),i.VERSION=v,s)},7931:function(N){N.exports=function(){return typeof MediaRecorder=="function"&&!!MediaRecorder.prototype&&typeof MediaRecorder.prototype.start=="function"}},7010:function(N,X){var r,i;/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(){"use strict";var s={}.hasOwnProperty;function b(){for(var c=[],d=0;d<arguments.length;d++){var f=arguments[d];if(!!f){var y=typeof f;if(y==="string"||y==="number")c.push(f);else if(Array.isArray(f)){if(f.length){var u=b.apply(null,f);u&&c.push(u)}}else if(y==="object")if(f.toString===Object.prototype.toString)for(var A in f)s.call(f,A)&&f[A]&&c.push(A);else c.push(f.toString())}}return c.join(" ")}N.exports?(b.default=b,N.exports=b):(r=[],i=function(){return b}.apply(X,r),i!==void 0&&(N.exports=i))})()},4628:function(N,X,r){var i=r(955),s=r(370),b=r(1294),c=0,d=4,f=36,y=Math.pow(f,d);function u(){return s((b()*y<<0).toString(f),d)}function A(){return c=c<y?c:0,c++,c-1}function m(){var x="c",B=new Date().getTime().toString(f),U=s(A().toString(f),d),T=i(),k=u()+u();return x+B+U+T+k}m.slug=function(){var B=new Date().getTime().toString(36),U=A().toString(36).slice(-4),T=i().slice(0,1)+i().slice(-1),k=u().slice(-2);return B.slice(-2)+U+T+k},m.isCuid=function(B){return typeof B!="string"?!1:!!B.startsWith("c")},m.isSlug=function(B){if(typeof B!="string")return!1;var U=B.length;return U>=7&&U<=10},m.fingerprint=i,N.exports=m},955:function(N,X,r){var i=r(370),s=typeof window=="object"?window:self,b=Object.keys(s).length,c=navigator.mimeTypes?navigator.mimeTypes.length:0,d=i((c+navigator.userAgent.length).toString(36)+b.toString(36),4);N.exports=function(){return d}},1294:function(N){var X,r=typeof window!="undefined"&&(window.crypto||window.msCrypto)||typeof self!="undefined"&&self.crypto;if(r){var i=Math.pow(2,32)-1;X=function(){return Math.abs(r.getRandomValues(new Uint32Array(1))[0]/i)}}else X=Math.random;N.exports=X},370:function(N){N.exports=function(r,i){var s="000000000"+r;return s.substr(s.length-i)}},2076:function(N,X,r){(function(i,s){s(X)})(this,function(i){"use strict";function s(F,a){if(!(F instanceof a))throw new TypeError("Cannot call a class as a function")}function b(F,a){for(var p=0;p<a.length;p++){var t=a[p];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(F,t.key,t)}}function c(F,a,p){return a&&b(F.prototype,a),p&&b(F,p),F}function d(F,a,p){return a in F?Object.defineProperty(F,a,{value:p,enumerable:!0,configurable:!0,writable:!0}):F[a]=p,F}function f(F,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");F.prototype=Object.create(a&&a.prototype,{constructor:{value:F,writable:!0,configurable:!0}});var p=["prototype","__proto__","caller","arguments","length","name"];Object.getOwnPropertyNames(a).forEach(function(t){p.indexOf(t)===-1&&F[t]!==a[t]&&(F[t]=a[t])}),a&&u(F,a)}function y(F){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(F)}function u(F,a){return(u=Object.setPrototypeOf||function(p,t){return p.__proto__=t,p})(F,a)}function A(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(F){return!1}}function m(F,a,p){return(m=A()?Reflect.construct:function(t,o,w){var V=[null];V.push.apply(V,o);var W=new(Function.bind.apply(t,V));return w&&u(W,w.prototype),W}).apply(null,arguments)}function x(F){var a=typeof Map=="function"?new Map:void 0;return(x=function(p){if(p===null||(t=p,Function.toString.call(t).indexOf("[native code]")===-1))return p;var t;if(typeof p!="function")throw new TypeError("Super expression must either be null or a function");if(a!==void 0){if(a.has(p))return a.get(p);a.set(p,o)}function o(){return m(p,arguments,y(this).constructor)}return o.prototype=Object.create(p.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),u(o,p)})(F)}function B(F){if(F===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return F}function U(F,a){return!a||typeof a!="object"&&typeof a!="function"?B(F):a}function T(F){var a=A();return function(){var p,t=y(F);if(a){var o=y(this).constructor;p=Reflect.construct(t,arguments,o)}else p=t.apply(this,arguments);return U(this,p)}}function k(F,a,p){return(k=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(t,o,w){var V=function(J,ne){for(;!Object.prototype.hasOwnProperty.call(J,ne)&&(J=y(J))!==null;);return J}(t,o);if(V){var W=Object.getOwnPropertyDescriptor(V,o);return W.get?W.get.call(w):W.value}})(F,a,p||F)}var l=Object.values||function(F){var a=[];for(var p in F)a.push(F[p]);return a},S=Object.entries||function(F){var a=[];for(var p in F)a.push([p,F[p]]);return a},h=Object.assign||function(F){for(var a=arguments.length,p=new Array(a>1?a-1:0),t=1;t<a;t++)p[t-1]=arguments[t];return p.forEach(function(o){for(var w in o)F[w]=o[w]}),F},v=Object.fromEntries||function(F){var a={};return E(F).forEach(function(p){var t=p[0],o=p[1];a[t]=o}),a},E=Array.from||function(F){if(F instanceof G){var a=[];return F.forEach(function(p,t){return a.push([t,p])}),a}return Array.prototype.slice.call(F)};function _(F){return this.indexOf(F)!==-1}Array.prototype.includes||(Array.prototype.includes=_),String.prototype.includes||(String.prototype.includes=_),String.prototype.startsWith||(String.prototype.startsWith=function(F){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this.substring(a,a+F.length)===F}),String.prototype.endsWith||(String.prototype.endsWith=function(F){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.length;return this.substring(a-F.length,a)===F});var z=typeof self!="undefined"?self:r.g,H=z.fetch||function(F){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise(function(p,t){var o=new XMLHttpRequest;if(o.open("get",F,!0),o.responseType="arraybuffer",o.onerror=t,a.headers)for(var w in a.headers)o.setRequestHeader(w,a.headers[w]);o.onload=function(){p({ok:o.status>=200&&o.status<300,status:o.status,arrayBuffer:function(){return Promise.resolve(o.response)}})},o.send(null)})},$=function(F){var a=[];if(Object.defineProperties(a,{size:{get:function(){return this.length}},has:{value:function(t){return this.indexOf(t)!==-1}},add:{value:function(t){this.has(t)||this.push(t)}},delete:{value:function(t){if(this.has(t)){var o=this.indexOf(t);this.splice(o,1)}}}}),Array.isArray(F))for(var p=0;p<F.length;p++)a.add(F[p]);return a},Q=function(F){return new G(F)},G=z.Map!==void 0&&z.Map.prototype.keys!==void 0?z.Map:function(){function F(a){if(s(this,F),this.clear(),a)for(var p=0;p<a.length;p++)this.set(a[p][0],a[p][1])}return c(F,[{key:"clear",value:function(){this._map={},this._keys=[]}},{key:"size",get:function(){return this._keys.length}},{key:"get",value:function(a){return this._map["map_"+a]}},{key:"set",value:function(a,p){return this._map["map_"+a]=p,this._keys.indexOf(a)<0&&this._keys.push(a),this}},{key:"has",value:function(a){return this._keys.indexOf(a)>=0}},{key:"delete",value:function(a){var p=this._keys.indexOf(a);return!(p<0)&&(delete this._map["map_"+a],this._keys.splice(p,1),!0)}},{key:"keys",value:function(){return this._keys.slice(0)}},{key:"values",value:function(){var a=this;return this._keys.map(function(p){return a.get(p)})}},{key:"entries",value:function(){var a=this;return this._keys.map(function(p){return[p,a.get(p)]})}},{key:"forEach",value:function(a,p){for(var t=0;t<this._keys.length;t++)a.call(p,this._map["map_"+this._keys[t]],this._keys[t],this)}}]),F}(),I=typeof self!="undefined"?self:r.g,D=typeof navigator!="undefined",M=D&&typeof HTMLImageElement=="undefined",P=!(typeof r.g=="undefined"||typeof process=="undefined"||!process.versions||!process.versions.node),C=I.Buffer,n=!!C,g=function(F){return F!==void 0};function R(F){return F===void 0||(F instanceof G?F.size===0:l(F).filter(g).length===0)}function e(F){var a=new Error(F);throw delete a.stack,a}function Z(F){var a=function(p){var t=0;return p.ifd0.enabled&&(t+=1024),p.exif.enabled&&(t+=2048),p.makerNote&&(t+=2048),p.userComment&&(t+=1024),p.gps.enabled&&(t+=512),p.interop.enabled&&(t+=100),p.ifd1.enabled&&(t+=1024),t+2048}(F);return F.jfif.enabled&&(a+=50),F.xmp.enabled&&(a+=2e4),F.iptc.enabled&&(a+=14e3),F.icc.enabled&&(a+=6e3),a}var L=function(F){return String.fromCharCode.apply(null,F)},q=typeof TextDecoder!="undefined"?new TextDecoder("utf-8"):void 0;function Y(F){return q?q.decode(F):n?Buffer.from(F).toString("utf8"):decodeURIComponent(escape(L(F)))}var te=function(){function F(a){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;if(s(this,F),typeof o=="boolean"&&(this.le=o),Array.isArray(a)&&(a=new Uint8Array(a)),a===0)this.byteOffset=0,this.byteLength=0;else if(a instanceof ArrayBuffer){t===void 0&&(t=a.byteLength-p);var w=new DataView(a,p,t);this._swapDataView(w)}else if(a instanceof Uint8Array||a instanceof DataView||a instanceof F){t===void 0&&(t=a.byteLength-p),(p+=a.byteOffset)+t>a.byteOffset+a.byteLength&&e("Creating view outside of available memory in ArrayBuffer");var V=new DataView(a.buffer,p,t);this._swapDataView(V)}else if(typeof a=="number"){var W=new DataView(new ArrayBuffer(a));this._swapDataView(W)}else e("Invalid input argument for BufferView: "+a)}return c(F,[{key:"_swapArrayBuffer",value:function(a){this._swapDataView(new DataView(a))}},{key:"_swapBuffer",value:function(a){this._swapDataView(new DataView(a.buffer,a.byteOffset,a.byteLength))}},{key:"_swapDataView",value:function(a){this.dataView=a,this.buffer=a.buffer,this.byteOffset=a.byteOffset,this.byteLength=a.byteLength}},{key:"_lengthToEnd",value:function(a){return this.byteLength-a}},{key:"set",value:function(a,p){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:F;a instanceof DataView||a instanceof F?a=new Uint8Array(a.buffer,a.byteOffset,a.byteLength):a instanceof ArrayBuffer&&(a=new Uint8Array(a)),a instanceof Uint8Array||e("BufferView.set(): Invalid data argument.");var o=this.toUint8();return o.set(a,p),new t(this,p,a.byteLength)}},{key:"subarray",value:function(a,p){return new F(this,a,p=p||this._lengthToEnd(a))}},{key:"toUint8",value:function(){return new Uint8Array(this.buffer,this.byteOffset,this.byteLength)}},{key:"getUint8Array",value:function(a,p){return new Uint8Array(this.buffer,this.byteOffset+a,p)}},{key:"getString",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.byteLength,t=this.getUint8Array(a,p);return Y(t)}},{key:"getLatin1String",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.byteLength,t=this.getUint8Array(a,p);return L(t)}},{key:"getUnicodeString",value:function(){for(var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.byteLength,t=[],o=0;o<p&&a+o<this.byteLength;o+=2)t.push(this.getUint16(a+o));return L(t)}},{key:"getInt8",value:function(a){return this.dataView.getInt8(a)}},{key:"getUint8",value:function(a){return this.dataView.getUint8(a)}},{key:"getInt16",value:function(a){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.le;return this.dataView.getInt16(a,p)}},{key:"getInt32",value:function(a){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.le;return this.dataView.getInt32(a,p)}},{key:"getUint16",value:function(a){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.le;return this.dataView.getUint16(a,p)}},{key:"getUint32",value:function(a){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.le;return this.dataView.getUint32(a,p)}},{key:"getFloat32",value:function(a){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.le;return this.dataView.getFloat32(a,p)}},{key:"getFloat64",value:function(a){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.le;return this.dataView.getFloat64(a,p)}},{key:"getFloat",value:function(a){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.le;return this.dataView.getFloat32(a,p)}},{key:"getDouble",value:function(a){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.le;return this.dataView.getFloat64(a,p)}},{key:"getUintBytes",value:function(a,p,t){switch(p){case 1:return this.getUint8(a,t);case 2:return this.getUint16(a,t);case 4:return this.getUint32(a,t);case 8:return this.getUint64&&this.getUint64(a,t)}}},{key:"getUint",value:function(a,p,t){switch(p){case 8:return this.getUint8(a,t);case 16:return this.getUint16(a,t);case 32:return this.getUint32(a,t);case 64:return this.getUint64&&this.getUint64(a,t)}}},{key:"toString",value:function(a){return this.dataView.toString(a,this.constructor.name)}},{key:"ensureChunk",value:function(){}}],[{key:"from",value:function(a,p){return a instanceof this&&a.le===p?a:new F(a,void 0,void 0,p)}}]),F}();function re(F,a){e("".concat(F," '").concat(a,"' was not loaded, try using full build of exifr."))}var se=function(F){f(p,F);var a=T(p);function p(t){var o;return s(this,p),(o=a.call(this)).kind=t,o}return c(p,[{key:"get",value:function(t,o){return this.has(t)||re(this.kind,t),o&&(t in o||function(w,V){e("Unknown ".concat(w," '").concat(V,"'."))}(this.kind,t),o[t].enabled||re(this.kind,t)),k(y(p.prototype),"get",this).call(this,t)}},{key:"keyList",value:function(){return E(this.keys())}}]),p}(x(G)),O=new se("file parser"),j=new se("segment parser"),K=new se("file reader");function ee(F){return function(){for(var a=[],p=0;p<arguments.length;p++)a[p]=arguments[p];try{return Promise.resolve(F.apply(this,a))}catch(t){return Promise.reject(t)}}}function oe(F,a,p){return p?a?a(F):F:(F&&F.then||(F=Promise.resolve(F)),a?F.then(a):F)}var ue=ee(function(F){return new Promise(function(a,p){var t=new FileReader;t.onloadend=function(){return a(t.result||new ArrayBuffer)},t.onerror=p,t.readAsArrayBuffer(F)})}),ce=ee(function(F){return H(F).then(function(a){return a.arrayBuffer()})}),pe=ee(function(F,a){return oe(a(F),function(p){return new te(p)})}),ve=ee(function(F,a,p){var t=new(K.get(p))(F,a);return oe(t.read(),function(){return t})}),ye=ee(function(F,a,p,t){return K.has(p)?ve(F,a,p):t?pe(F,t):(e("Parser ".concat(p," is not loaded")),oe())}),we="Invalid input argument";function Fe(F,a){return(p=F).startsWith("data:")||p.length>1e4?ve(F,a,"base64"):D?ye(F,a,"url",ce):P?ve(F,a,"fs"):void e(we);var p}var be=function(F){f(p,F);var a=T(p);function p(){return s(this,p),a.apply(this,arguments)}return c(p,[{key:"tagKeys",get:function(){return this.allKeys||(this.allKeys=E(this.keys())),this.allKeys}},{key:"tagValues",get:function(){return this.allValues||(this.allValues=E(this.values())),this.allValues}}]),p}(x(G));function xe(F,a,p){var t=new be,o=p;Array.isArray(o)||(typeof o.entries=="function"&&(o=o.entries()),o=E(o));for(var w=0;w<o.length;w++){var V=o[w],W=V[0],J=V[1];t.set(W,J)}if(Array.isArray(a)){var ne=a;Array.isArray(ne)||(typeof ne.entries=="function"&&(ne=ne.entries()),ne=E(ne));for(var ae=0;ae<ne.length;ae++){var ie=ne[ae];F.set(ie,t)}}else F.set(a,t);return t}function ke(F,a,p){var t,o=F.get(a),w=p;Array.isArray(w)||(typeof w.entries=="function"&&(w=w.entries()),w=E(w));for(var V=0;V<w.length;V++)t=w[V],o.set(t[0],t[1])}var he=Q(),me=Q(),ge=Q(),Pe=37500,Oe=37510,Ae=33723,Te=34675,_e=34665,Le=34853,Ie=40965,je=["chunked","firstChunkSize","firstChunkSizeNode","firstChunkSizeBrowser","chunkSize","chunkLimit"],Ye=["jfif","xmp","icc","iptc","ihdr"],$e=["tiff"].concat(Ye),Se=["ifd0","ifd1","exif","gps","interop"],ze=[].concat($e,Se),Ve=["makerNote","userComment"],Qe=["translateKeys","translateValues","reviveValues","multiSegment"],We=[].concat(Qe,["sanitize","mergeOutput","silentErrors"]),dt=function(){function F(){s(this,F)}return c(F,[{key:"translate",get:function(){return this.translateKeys||this.translateValues||this.reviveValues}}]),F}(),Je=function(F){f(p,F);var a=T(p);function p(t,o,w,V){var W;if(s(this,p),d(B(W=a.call(this)),"enabled",!1),d(B(W),"skip",$()),d(B(W),"pick",$()),d(B(W),"deps",$()),d(B(W),"translateKeys",!1),d(B(W),"translateValues",!1),d(B(W),"reviveValues",!1),W.key=t,W.enabled=o,W.parse=W.enabled,W.applyInheritables(V),W.canBeFiltered=Se.includes(t),W.canBeFiltered&&(W.dict=he.get(t)),w!==void 0)if(Array.isArray(w))W.parse=W.enabled=!0,W.canBeFiltered&&w.length>0&&W.translateTagSet(w,W.pick);else if(typeof w=="object"){if(W.enabled=!0,W.parse=w.parse!==!1,W.canBeFiltered){var J=w.pick,ne=w.skip;J&&J.length>0&&W.translateTagSet(J,W.pick),ne&&ne.length>0&&W.translateTagSet(ne,W.skip)}W.applyInheritables(w)}else w===!0||w===!1?W.parse=W.enabled=w:e("Invalid options argument: ".concat(w));return W}return c(p,[{key:"needed",get:function(){return this.enabled||this.deps.size>0}},{key:"applyInheritables",value:function(t){var o,w,V=Qe;Array.isArray(V)||(typeof V.entries=="function"&&(V=V.entries()),V=E(V));for(var W=0;W<V.length;W++)(w=t[o=V[W]])!==void 0&&(this[o]=w)}},{key:"translateTagSet",value:function(t,o){if(this.dict){var w,V,W=this.dict,J=W.tagKeys,ne=W.tagValues,ae=t;Array.isArray(ae)||(typeof ae.entries=="function"&&(ae=ae.entries()),ae=E(ae));for(var ie=0;ie<ae.length;ie++)typeof(w=ae[ie])=="string"?((V=ne.indexOf(w))===-1&&(V=J.indexOf(Number(w))),V!==-1&&o.add(Number(J[V]))):o.add(w)}else{var le=t;Array.isArray(le)||(typeof le.entries=="function"&&(le=le.entries()),le=E(le));for(var fe=0;fe<le.length;fe++){var de=le[fe];o.add(de)}}}},{key:"finalizeFilters",value:function(){!this.enabled&&this.deps.size>0?(this.enabled=!0,et(this.pick,this.deps)):this.enabled&&this.pick.size>0&&et(this.pick,this.deps)}}]),p}(dt),Ee={jfif:!1,tiff:!0,xmp:!1,icc:!1,iptc:!1,ifd0:!0,ifd1:!1,exif:!0,gps:!0,interop:!1,ihdr:void 0,makerNote:!1,userComment:!1,multiSegment:!1,skip:[],pick:[],translateKeys:!0,translateValues:!0,reviveValues:!0,sanitize:!0,mergeOutput:!0,silentErrors:!0,chunked:!0,firstChunkSize:void 0,firstChunkSizeNode:512,firstChunkSizeBrowser:65536,chunkSize:65536,chunkLimit:5},ft=Q(),qe=function(F){f(p,F);var a=T(p);function p(t){var o;return s(this,p),o=a.call(this),t===!0?o.setupFromTrue():t===void 0?o.setupFromUndefined():Array.isArray(t)?o.setupFromArray(t):typeof t=="object"?o.setupFromObject(t):e("Invalid options argument ".concat(t)),o.firstChunkSize===void 0&&(o.firstChunkSize=D?o.firstChunkSizeBrowser:o.firstChunkSizeNode),o.mergeOutput&&(o.ifd1.enabled=!1),o.filterNestedSegmentTags(),o.traverseTiffDependencyTree(),o.checkLoadedPlugins(),o}return c(p,[{key:"setupFromUndefined",value:function(){var t,o=je;Array.isArray(o)||(typeof o.entries=="function"&&(o=o.entries()),o=E(o));for(var w=0;w<o.length;w++)this[t=o[w]]=Ee[t];var V=We;Array.isArray(V)||(typeof V.entries=="function"&&(V=V.entries()),V=E(V));for(var W=0;W<V.length;W++)this[t=V[W]]=Ee[t];var J=Ve;Array.isArray(J)||(typeof J.entries=="function"&&(J=J.entries()),J=E(J));for(var ne=0;ne<J.length;ne++)this[t=J[ne]]=Ee[t];var ae=ze;Array.isArray(ae)||(typeof ae.entries=="function"&&(ae=ae.entries()),ae=E(ae));for(var ie=0;ie<ae.length;ie++)this[t=ae[ie]]=new Je(t,Ee[t],void 0,this)}},{key:"setupFromTrue",value:function(){var t,o=je;Array.isArray(o)||(typeof o.entries=="function"&&(o=o.entries()),o=E(o));for(var w=0;w<o.length;w++)this[t=o[w]]=Ee[t];var V=We;Array.isArray(V)||(typeof V.entries=="function"&&(V=V.entries()),V=E(V));for(var W=0;W<V.length;W++)this[t=V[W]]=Ee[t];var J=Ve;Array.isArray(J)||(typeof J.entries=="function"&&(J=J.entries()),J=E(J));for(var ne=0;ne<J.length;ne++)this[t=J[ne]]=!0;var ae=ze;Array.isArray(ae)||(typeof ae.entries=="function"&&(ae=ae.entries()),ae=E(ae));for(var ie=0;ie<ae.length;ie++)this[t=ae[ie]]=new Je(t,!0,void 0,this)}},{key:"setupFromArray",value:function(t){var o,w=je;Array.isArray(w)||(typeof w.entries=="function"&&(w=w.entries()),w=E(w));for(var V=0;V<w.length;V++)this[o=w[V]]=Ee[o];var W=We;Array.isArray(W)||(typeof W.entries=="function"&&(W=W.entries()),W=E(W));for(var J=0;J<W.length;J++)this[o=W[J]]=Ee[o];var ne=Ve;Array.isArray(ne)||(typeof ne.entries=="function"&&(ne=ne.entries()),ne=E(ne));for(var ae=0;ae<ne.length;ae++)this[o=ne[ae]]=Ee[o];var ie=ze;Array.isArray(ie)||(typeof ie.entries=="function"&&(ie=ie.entries()),ie=E(ie));for(var le=0;le<ie.length;le++)this[o=ie[le]]=new Je(o,!1,void 0,this);this.setupGlobalFilters(t,void 0,Se)}},{key:"setupFromObject",value:function(t){var o;Se.ifd0=Se.ifd0||Se.image,Se.ifd1=Se.ifd1||Se.thumbnail,h(this,t);var w=je;Array.isArray(w)||(typeof w.entries=="function"&&(w=w.entries()),w=E(w));for(var V=0;V<w.length;V++)this[o=w[V]]=nt(t[o],Ee[o]);var W=We;Array.isArray(W)||(typeof W.entries=="function"&&(W=W.entries()),W=E(W));for(var J=0;J<W.length;J++)this[o=W[J]]=nt(t[o],Ee[o]);var ne=Ve;Array.isArray(ne)||(typeof ne.entries=="function"&&(ne=ne.entries()),ne=E(ne));for(var ae=0;ae<ne.length;ae++)this[o=ne[ae]]=nt(t[o],Ee[o]);var ie=$e;Array.isArray(ie)||(typeof ie.entries=="function"&&(ie=ie.entries()),ie=E(ie));for(var le=0;le<ie.length;le++)this[o=ie[le]]=new Je(o,Ee[o],t[o],this);var fe=Se;Array.isArray(fe)||(typeof fe.entries=="function"&&(fe=fe.entries()),fe=E(fe));for(var de=0;de<fe.length;de++)this[o=fe[de]]=new Je(o,Ee[o],t[o],this.tiff);this.setupGlobalFilters(t.pick,t.skip,Se,ze),t.tiff===!0?this.batchEnableWithBool(Se,!0):t.tiff===!1?this.batchEnableWithUserValue(Se,t):Array.isArray(t.tiff)?this.setupGlobalFilters(t.tiff,void 0,Se):typeof t.tiff=="object"&&this.setupGlobalFilters(t.tiff.pick,t.tiff.skip,Se)}},{key:"batchEnableWithBool",value:function(t,o){var w=t;Array.isArray(w)||(typeof w.entries=="function"&&(w=w.entries()),w=E(w));for(var V=0;V<w.length;V++)this[w[V]].enabled=o}},{key:"batchEnableWithUserValue",value:function(t,o){var w=t;Array.isArray(w)||(typeof w.entries=="function"&&(w=w.entries()),w=E(w));for(var V=0;V<w.length;V++){var W=w[V],J=o[W];this[W].enabled=J!==!1&&J!==void 0}}},{key:"setupGlobalFilters",value:function(t,o,w){var V=arguments.length>3&&arguments[3]!==void 0?arguments[3]:w;if(t&&t.length){var W=V;Array.isArray(W)||(typeof W.entries=="function"&&(W=W.entries()),W=E(W));for(var J=0;J<W.length;J++){var ne=W[J];this[ne].enabled=!1}var ae=pt(t,w),ie=ae;Array.isArray(ie)||(typeof ie.entries=="function"&&(ie=ie.entries()),ie=E(ie));for(var le=0;le<ie.length;le++){var fe=ie[le],de=fe[0],Be=fe[1];et(this[de].pick,Be),this[de].enabled=!0}}else if(o&&o.length){var tr=pt(o,w),Me=tr;Array.isArray(Me)||(typeof Me.entries=="function"&&(Me=Me.entries()),Me=E(Me));for(var ct=0;ct<Me.length;ct++){var kt=Me[ct],rr=kt[0],nr=kt[1];et(this[rr].skip,nr)}}}},{key:"filterNestedSegmentTags",value:function(){var t=this.ifd0,o=this.exif,w=this.xmp,V=this.iptc,W=this.icc;this.makerNote?o.deps.add(Pe):o.skip.add(Pe),this.userComment?o.deps.add(Oe):o.skip.add(Oe),w.enabled||t.skip.add(700),V.enabled||t.skip.add(Ae),W.enabled||t.skip.add(Te)}},{key:"traverseTiffDependencyTree",value:function(){var t=this,o=this.ifd0,w=this.exif,V=this.gps;this.interop.needed&&(w.deps.add(Ie),o.deps.add(Ie)),w.needed&&o.deps.add(_e),V.needed&&o.deps.add(Le),this.tiff.enabled=Se.some(function(ne){return t[ne].enabled===!0})||this.makerNote||this.userComment;var W=Se;Array.isArray(W)||(typeof W.entries=="function"&&(W=W.entries()),W=E(W));for(var J=0;J<W.length;J++)this[W[J]].finalizeFilters()}},{key:"onlyTiff",get:function(){var t=this;return!Ye.map(function(o){return t[o].enabled}).some(function(o){return o===!0})&&this.tiff.enabled}},{key:"checkLoadedPlugins",value:function(){var t=$e;Array.isArray(t)||(typeof t.entries=="function"&&(t=t.entries()),t=E(t));for(var o=0;o<t.length;o++){var w=t[o];this[w].enabled&&!j.has(w)&&re("segment parser",w)}}}],[{key:"useCached",value:function(t){var o=ft.get(t);return o!==void 0||(o=new this(t),ft.set(t,o)),o}}]),p}(dt);function pt(F,a){var p,t,o,w=[],V=a;Array.isArray(V)||(typeof V.entries=="function"&&(V=V.entries()),V=E(V));for(var W=0;W<V.length;W++){t=V[W],p=[];var J=he.get(t);Array.isArray(J)||(typeof J.entries=="function"&&(J=J.entries()),J=E(J));for(var ne=0;ne<J.length;ne++)o=J[ne],(F.includes(o[0])||F.includes(o[1]))&&p.push(o[0]);p.length&&w.push([t,p])}return w}function nt(F,a){return F!==void 0?F:a!==void 0?a:void 0}function et(F,a){var p=a;Array.isArray(p)||(typeof p.entries=="function"&&(p=p.entries()),p=E(p));for(var t=0;t<p.length;t++){var o=p[t];F.add(o)}}function He(F,a,p){return p?a?a(F):F:(F&&F.then||(F=Promise.resolve(F)),a?F.then(a):F)}function ht(){}function vt(F,a){if(!a)return F&&F.then?F.then(ht):Promise.resolve()}function gt(F,a){var p=F();return p&&p.then?p.then(a):a(p)}d(qe,"default",Ee);var Ge=function(){function F(a){s(this,F),d(this,"parsers",{}),this.options=qe.useCached(a)}return c(F,[{key:"setup",value:function(){if(!this.fileParser){var a=this.file,p=a.getUint16(0),t=O;Array.isArray(t)||(typeof t.entries=="function"&&(t=t.entries()),t=E(t));for(var o=0;o<t.length;o++){var w=t[o],V=w[0],W=w[1];if(W.canHandle(a,p))return this.fileParser=new W(this.options,this.file,this.parsers),a[V]=!0}e("Unknown file format")}}},{key:"read",value:function(a){try{var p=this;return He(function(t,o){return typeof t=="string"?Fe(t,o):D&&!M&&t instanceof HTMLImageElement?Fe(t.src,o):t instanceof Uint8Array||t instanceof ArrayBuffer||t instanceof DataView?new te(t):D&&t instanceof Blob?ye(t,o,"blob",ue):void e(we)}(a,p.options),function(t){p.file=t})}catch(t){return Promise.reject(t)}}},{key:"parse",value:function(){try{var a=this;a.setup();var p={},t=[];return gt(function(){return a.options.silentErrors?He(a.doParse(p,t).catch(function(o){return t.push(o)}),function(){t.push.apply(t,a.fileParser.errors)}):vt(a.doParse(p,t))},function(){return a.file.close&&a.file.close(),a.options.silentErrors&&t.length>0&&(p.errors=t),R(o=p)?void 0:o;var o})}catch(o){return Promise.reject(o)}}},{key:"doParse",value:function(a,p){try{var t=this;return He(t.fileParser.parse(),function(){var o,w=l(t.parsers).map((o=function(W){return He(W.parse(),function(J){W.assignToOutput(a,J)})},function(){for(var W=[],J=0;J<arguments.length;J++)W[J]=arguments[J];try{return Promise.resolve(o.apply(this,W))}catch(ne){return Promise.reject(ne)}}));if(t.options.silentErrors){var V=function(W){return p.push(W)};w=w.map(function(W){return W.catch(V)})}return vt(Promise.all(w))})}catch(o){return Promise.reject(o)}}},{key:"extractThumbnail",value:function(){try{var a=this;a.setup();var p,t=a.options,o=a.file,w=j.get("tiff",t);return gt(function(){if(!o.tiff)return function(V){var W=V();if(W&&W.then)return W.then(ht)}(function(){if(o.jpeg)return He(a.fileParser.getOrFindSegment("tiff"),function(V){p=V})});p={start:0,type:"tiff"}},function(){if(p!==void 0)return He(a.fileParser.ensureSegmentChunk(p),function(V){return He((a.parsers.tiff=new w(V,t,o)).extractThumbnail(),function(W){return o.close&&o.close(),W})})})}catch(V){return Promise.reject(V)}}}]),F}(),mt,it=(mt=function(F,a){var p,t,o,w=new Ge(a);return p=w.read(F),t=function(){return w.parse()},o?t?t(p):p:(p&&p.then||(p=Promise.resolve(p)),t?p.then(t):p)},function(){for(var F=[],a=0;a<arguments.length;a++)F[a]=arguments[a];try{return Promise.resolve(mt.apply(this,F))}catch(p){return Promise.reject(p)}}),Ct=Object.freeze({__proto__:null,parse:it,Exifr:Ge,fileParsers:O,segmentParsers:j,fileReaders:K,tagKeys:he,tagValues:me,tagRevivers:ge,createDictionary:xe,extendDictionary:ke,fetchUrlAsArrayBuffer:ce,readBlobAsArrayBuffer:ue,chunkedProps:je,otherSegments:Ye,segments:$e,tiffBlocks:Se,segmentsAndBlocks:ze,tiffExtractables:Ve,inheritables:Qe,allFormatters:We,Options:qe});function ot(){}var Ut=function(){function F(a,p,t){var o=this;s(this,F),d(this,"errors",[]),d(this,"ensureSegmentChunk",function(w){return function(){for(var V=[],W=0;W<arguments.length;W++)V[W]=arguments[W];try{return Promise.resolve(w.apply(this,V))}catch(J){return Promise.reject(J)}}}(function(w){var V,W,J,ne=w.start,ae=w.size||65536;return V=function(){if(o.file.chunked)return function(ie){var le=ie();if(le&&le.then)return le.then(ot)}(function(){if(!o.file.available(ne,ae))return function(ie){if(ie&&ie.then)return ie.then(ot)}(function(ie,le){try{var fe=ie()}catch(de){return le(de)}return fe&&fe.then?fe.then(void 0,le):fe}(function(){return ie=o.file.readChunk(ne,ae),le=function(de){w.chunk=de},fe?le?le(ie):ie:(ie&&ie.then||(ie=Promise.resolve(ie)),le?ie.then(le):ie);var ie,le,fe},function(ie){e("Couldn't read segment: ".concat(JSON.stringify(w),". ").concat(ie.message))}));w.chunk=o.file.subarray(ne,ae)});o.file.byteLength>ne+ae?w.chunk=o.file.subarray(ne,ae):w.size===void 0?w.chunk=o.file.subarray(ne):e("Segment unreachable: "+JSON.stringify(w))},W=function(){return w.chunk},(J=V())&&J.then?J.then(W):W(J)})),this.extendOptions&&this.extendOptions(a),this.options=a,this.file=p,this.parsers=t}return c(F,[{key:"injectSegment",value:function(a,p){this.options[a].enabled&&this.createParser(a,p)}},{key:"createParser",value:function(a,p){var t=new(j.get(a))(p,this.options,this.file);return this.parsers[a]=t}},{key:"createParsers",value:function(a){var p=a;Array.isArray(p)||(typeof p.entries=="function"&&(p=p.entries()),p=E(p));for(var t=0;t<p.length;t++){var o=p[t],w=o.type,V=o.chunk,W=this.options[w];if(W&&W.enabled){var J=this.parsers[w];J&&J.append||J||this.createParser(w,V)}}}},{key:"readSegments",value:function(a){try{var p=a.map(this.ensureSegmentChunk);return function(t,o){if(!o)return t&&t.then?t.then(ot):Promise.resolve()}(Promise.all(p))}catch(t){return Promise.reject(t)}}}]),F}(),Ke=function(){function F(a){var p=this,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=arguments.length>2?arguments[2]:void 0;s(this,F),d(this,"errors",[]),d(this,"raw",Q()),d(this,"handleError",function(w){if(!p.options.silentErrors)throw w;p.errors.push(w.message)}),this.chunk=this.normalizeInput(a),this.file=o,this.type=this.constructor.type,this.globalOptions=this.options=t,this.localOptions=t[this.type],this.canTranslate=this.localOptions&&this.localOptions.translate}return c(F,[{key:"normalizeInput",value:function(a){return a instanceof te?a:new te(a)}},{key:"translate",value:function(){this.canTranslate&&(this.translated=this.translateBlock(this.raw,this.type))}},{key:"output",get:function(){return this.translated?this.translated:this.raw?v(this.raw):void 0}},{key:"translateBlock",value:function(a,p){var t=ge.get(p),o=me.get(p),w=he.get(p),V=this.options[p],W=V.reviveValues&&!!t,J=V.translateValues&&!!o,ne=V.translateKeys&&!!w,ae={},ie=a;Array.isArray(ie)||(typeof ie.entries=="function"&&(ie=ie.entries()),ie=E(ie));for(var le=0;le<ie.length;le++){var fe=ie[le],de=fe[0],Be=fe[1];W&&t.has(de)?Be=t.get(de)(Be):J&&o.has(de)&&(Be=this.translateValue(Be,o.get(de))),ne&&w.has(de)&&(de=w.get(de)||de),ae[de]=Be}return ae}},{key:"translateValue",value:function(a,p){return p[a]||p.DEFAULT||a}},{key:"assignToOutput",value:function(a,p){this.assignObjectToOutput(a,this.constructor.type,p)}},{key:"assignObjectToOutput",value:function(a,p,t){if(this.globalOptions.mergeOutput)return h(a,t);a[p]?h(a[p],t):a[p]=t}}],[{key:"findPosition",value:function(a,p){var t=a.getUint16(p+2)+2,o=typeof this.headerLength=="function"?this.headerLength(a,p,t):this.headerLength,w=p+o,V=t-o;return{offset:p,length:t,headerLength:o,start:w,size:V,end:w+V}}},{key:"parse",value:function(a){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=new qe(d({},this.type,p)),o=new this(a,t);return o.parse()}}]),F}();function Ze(F,a,p){return p?a?a(F):F:(F&&F.then||(F=Promise.resolve(F)),a?F.then(a):F)}d(Ke,"headerLength",4),d(Ke,"type",void 0),d(Ke,"multiSegment",!1),d(Ke,"canHandle",function(){return!1});function yt(){}function Rt(F,a){if(!a)return F&&F.then?F.then(yt):Promise.resolve()}function Bt(F){var a=F();if(a&&a.then)return a.then(yt)}function at(F,a){var p=F();return p&&p.then?p.then(a):a(p)}function Ce(F,a,p){if(!F.s){if(p instanceof st){if(!p.s)return void(p.o=Ce.bind(null,F,a));1&a&&(a=p.s),p=p.v}if(p&&p.then)return void p.then(Ce.bind(null,F,a),Ce.bind(null,F,2));F.s=a,F.v=p;var t=F.o;t&&t(F)}}var st=function(){function F(){}return F.prototype.then=function(a,p){var t=new F,o=this.s;if(o){var w=1&o?a:p;if(w){try{Ce(t,1,w(this.v))}catch(V){Ce(t,2,V)}return t}return this}return this.o=function(V){try{var W=V.v;1&V.s?Ce(t,1,a?a(W):W):p?Ce(t,1,p(W)):Ce(t,2,W)}catch(J){Ce(t,2,J)}},t},F}();function Xe(F){return F instanceof st&&1&F.s}function It(F,a,p){for(var t;;){var o=F();if(Xe(o)&&(o=o.v),!o)return w;if(o.then){t=0;break}var w=p();if(w&&w.then){if(!Xe(w)){t=1;break}w=w.s}if(a){var V=a();if(V&&V.then&&!Xe(V)){t=2;break}}}var W=new st,J=Ce.bind(null,W,2);return(t===0?o.then(ae):t===1?w.then(ne):V.then(ie)).then(void 0,J),W;function ne(le){w=le;do{if(a&&(V=a())&&V.then&&!Xe(V))return void V.then(ie).then(void 0,J);if(!(o=F())||Xe(o)&&!o.v)return void Ce(W,1,w);if(o.then)return void o.then(ae).then(void 0,J);Xe(w=p())&&(w=w.v)}while(!w||!w.then);w.then(ne).then(void 0,J)}function ae(le){le?(w=p())&&w.then?w.then(ne).then(void 0,J):ne(w):Ce(W,1,w)}function ie(){(o=F())?o.then?o.then(ae).then(void 0,J):ae(o):Ce(W,1,w)}}function Nt(F){return F===192||F===194||F===196||F===219||F===221||F===218||F===254}function Dt(F){return F>=224&&F<=239}function Mt(F,a,p){var t=j;Array.isArray(t)||(typeof t.entries=="function"&&(t=t.entries()),t=E(t));for(var o=0;o<t.length;o++){var w=t[o],V=w[0];if(w[1].canHandle(F,a,p))return V}}var bt=function(F){f(p,F);var a=T(p);function p(){var t;s(this,p);for(var o=arguments.length,w=new Array(o),V=0;V<o;V++)w[V]=arguments[V];return d(B(t=a.call.apply(a,[this].concat(w))),"appSegments",[]),d(B(t),"jpegSegments",[]),d(B(t),"unknownSegments",[]),t}return c(p,[{key:"parse",value:function(){try{var t=this;return Ze(t.findAppSegments(),function(){return Ze(t.readSegments(t.appSegments),function(){t.mergeMultiSegments(),t.createParsers(t.mergedAppSegments||t.appSegments)})})}catch(o){return Promise.reject(o)}}},{key:"setupSegmentFinderArgs",value:function(t){var o=this;t===!0?(this.findAll=!0,this.wanted=$(j.keyList())):(t=t===void 0?j.keyList().filter(function(w){return o.options[w].enabled}):t.filter(function(w){return o.options[w].enabled&&j.has(w)}),this.findAll=!1,this.remaining=$(t),this.wanted=$(t)),this.unfinishedMultiSegment=!1}},{key:"findAppSegments",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,o=arguments.length>1?arguments[1]:void 0;try{var w=this;w.setupSegmentFinderArgs(o);var V=w.file,W=w.findAll,J=w.wanted,ne=w.remaining;return at(function(){if(!W&&w.file.chunked)return W=E(J).some(function(ae){var ie=j.get(ae),le=w.options[ae];return ie.multiSegment&&le.multiSegment}),Bt(function(){if(W)return Rt(w.file.readWhole())})},function(){var ae=!1;if(t=w.findAppSegmentsInRange(t,V.byteLength),!w.options.onlyTiff)return function(){if(V.chunked){var ie=!1;return It(function(){return!ae&&ne.size>0&&!ie&&(!!V.canReadNextChunk||!!w.unfinishedMultiSegment)},void 0,function(){var le=V.nextChunkOffset,fe=w.appSegments.some(function(de){return!w.file.available(de.offset||de.start,de.length||de.size)});return at(function(){return t>le&&!fe?Ze(V.readNextChunk(t),function(de){ie=!de}):Ze(V.readNextChunk(le),function(de){ie=!de})},function(){(t=w.findAppSegmentsInRange(t,V.byteLength))===void 0&&(ae=!0)})})}}()})}catch(ae){return Promise.reject(ae)}}},{key:"findAppSegmentsInRange",value:function(t,o){o-=2;for(var w,V,W,J,ne,ae,ie=this.file,le=this.findAll,fe=this.wanted,de=this.remaining,Be=this.options;t<o;t++)if(ie.getUint8(t)===255){if(Dt(w=ie.getUint8(t+1))){if(V=ie.getUint16(t+2),(W=Mt(ie,t,V))&&fe.has(W)&&(ne=(J=j.get(W)).findPosition(ie,t),ae=Be[W],ne.type=W,this.appSegments.push(ne),!le&&(J.multiSegment&&ae.multiSegment?(this.unfinishedMultiSegment=ne.chunkNumber<ne.chunkCount,this.unfinishedMultiSegment||de.delete(W)):de.delete(W),de.size===0)))break;Be.recordUnknownSegments&&((ne=Ke.findPosition(ie,t)).marker=w,this.unknownSegments.push(ne)),t+=V+1}else if(Nt(w)){if(V=ie.getUint16(t+2),w===218&&Be.stopAfterSos!==!1)return;Be.recordJpegSegments&&this.jpegSegments.push({offset:t,length:V,marker:w}),t+=V+1}}return t}},{key:"mergeMultiSegments",value:function(){var t=this;if(this.appSegments.some(function(w){return w.multiSegment})){var o=function(w,V){for(var W,J,ne,ae=Q(),ie=0;ie<w.length;ie++)J=(W=w[ie])[V],ae.has(J)?ne=ae.get(J):ae.set(J,ne=[]),ne.push(W);return E(ae)}(this.appSegments,"type");this.mergedAppSegments=o.map(function(w){var V=w[0],W=w[1],J=j.get(V,t.options);return J.handleMultiSegments?{type:V,chunk:J.handleMultiSegments(W)}:W[0]})}}},{key:"getSegment",value:function(t){return this.appSegments.find(function(o){return o.type===t})}},{key:"getOrFindSegment",value:function(t){try{var o=this,w=o.getSegment(t);return at(function(){if(w===void 0)return Ze(o.findAppSegments(0,[t]),function(){w=o.getSegment(t)})},function(){return w})}catch(V){return Promise.reject(V)}}}],[{key:"canHandle",value:function(t,o){return o===65496}}]),p}(Ut);function _t(){}d(bt,"type","jpeg"),O.set("jpeg",bt);function Ue(F,a){if(!a)return F&&F.then?F.then(_t):Promise.resolve()}function Re(F,a){var p=F();return p&&p.then?p.then(a):a(p)}var Lt=[void 0,1,1,2,4,8,1,1,2,4,8,4,8,4],ut=function(F){f(p,F);var a=T(p);function p(){return s(this,p),a.apply(this,arguments)}return c(p,[{key:"parse",value:function(){try{var t=this;t.parseHeader();var o=t.options;return Re(function(){if(o.ifd0.enabled)return Ue(t.parseIfd0Block())},function(){return Re(function(){if(o.exif.enabled)return Ue(t.safeParse("parseExifBlock"))},function(){return Re(function(){if(o.gps.enabled)return Ue(t.safeParse("parseGpsBlock"))},function(){return Re(function(){if(o.interop.enabled)return Ue(t.safeParse("parseInteropBlock"))},function(){return Re(function(){if(o.ifd1.enabled)return Ue(t.safeParse("parseThumbnailBlock"))},function(){return t.createOutput()})})})})})}catch(w){return Promise.reject(w)}}},{key:"safeParse",value:function(t){var o=this[t]();return o.catch!==void 0&&(o=o.catch(this.handleError)),o}},{key:"findIfd0Offset",value:function(){this.ifd0Offset===void 0&&(this.ifd0Offset=this.chunk.getUint32(4))}},{key:"findIfd1Offset",value:function(){if(this.ifd1Offset===void 0){this.findIfd0Offset();var t=this.chunk.getUint16(this.ifd0Offset),o=this.ifd0Offset+2+12*t;this.ifd1Offset=this.chunk.getUint32(o)}}},{key:"parseBlock",value:function(t,o){var w=Q();return this[o]=w,this.parseTags(t,o,w),w}},{key:"parseIfd0Block",value:function(){try{var t=this;if(t.ifd0)return;var o=t.file;return t.findIfd0Offset(),t.ifd0Offset<8&&e("Malformed EXIF data"),!o.chunked&&t.ifd0Offset>o.byteLength&&e(`IFD0 offset points to outside of file.
this.ifd0Offset: `.concat(t.ifd0Offset,", file.byteLength: ").concat(o.byteLength)),Re(function(){if(o.tiff)return Ue(o.ensureChunk(t.ifd0Offset,Z(t.options)))},function(){var w=t.parseBlock(t.ifd0Offset,"ifd0");if(w.size!==0)return t.exifOffset=w.get(_e),t.interopOffset=w.get(Ie),t.gpsOffset=w.get(Le),t.xmp=w.get(700),t.iptc=w.get(Ae),t.icc=w.get(Te),t.options.sanitize&&(w.delete(_e),w.delete(Ie),w.delete(Le),w.delete(700),w.delete(Ae),w.delete(Te)),w})}catch(w){return Promise.reject(w)}}},{key:"parseExifBlock",value:function(){try{var t=this;return t.exif?void 0:Re(function(){if(!t.ifd0)return Ue(t.parseIfd0Block())},function(){if(t.exifOffset!==void 0)return Re(function(){if(t.file.tiff)return Ue(t.file.ensureChunk(t.exifOffset,Z(t.options)))},function(){var o=t.parseBlock(t.exifOffset,"exif");return t.interopOffset||(t.interopOffset=o.get(Ie)),t.makerNote=o.get(Pe),t.userComment=o.get(Oe),t.options.sanitize&&(o.delete(Ie),o.delete(Pe),o.delete(Oe)),t.unpack(o,41728),t.unpack(o,41729),o})})}catch(o){return Promise.reject(o)}}},{key:"unpack",value:function(t,o){var w=t.get(o);w&&w.length===1&&t.set(o,w[0])}},{key:"parseGpsBlock",value:function(){try{var t=this;return t.gps?void 0:Re(function(){if(!t.ifd0)return Ue(t.parseIfd0Block())},function(){if(t.gpsOffset!==void 0){var o=t.parseBlock(t.gpsOffset,"gps");return o&&o.has(2)&&o.has(4)&&(o.set("latitude",wt.apply(void 0,o.get(2).concat([o.get(1)]))),o.set("longitude",wt.apply(void 0,o.get(4).concat([o.get(3)])))),o}})}catch(o){return Promise.reject(o)}}},{key:"parseInteropBlock",value:function(){try{var t=this;return t.interop?void 0:Re(function(){if(!t.ifd0)return Ue(t.parseIfd0Block())},function(){return Re(function(){if(t.interopOffset===void 0&&!t.exif)return Ue(t.parseExifBlock())},function(){if(t.interopOffset!==void 0)return t.parseBlock(t.interopOffset,"interop")})})}catch(o){return Promise.reject(o)}}},{key:"parseThumbnailBlock",value:function(){var t=arguments.length>0&&arguments[0]!==void 0&&arguments[0];try{var o=this;return o.ifd1||o.ifd1Parsed||o.options.mergeOutput&&!t?void 0:(o.findIfd1Offset(),o.ifd1Offset>0&&(o.parseBlock(o.ifd1Offset,"ifd1"),o.ifd1Parsed=!0),o.ifd1)}catch(w){return Promise.reject(w)}}},{key:"extractThumbnail",value:function(){try{var t=this;return t.headerParsed||t.parseHeader(),Re(function(){if(!t.ifd1Parsed)return Ue(t.parseThumbnailBlock(!0))},function(){if(t.ifd1!==void 0){var o=t.ifd1.get(513),w=t.ifd1.get(514);return t.chunk.getUint8Array(o,w)}})}catch(o){return Promise.reject(o)}}},{key:"image",get:function(){return this.ifd0}},{key:"thumbnail",get:function(){return this.ifd1}},{key:"createOutput",value:function(){var t,o,w,V={},W=Se;Array.isArray(W)||(typeof W.entries=="function"&&(W=W.entries()),W=E(W));for(var J=0;J<W.length;J++)if(!R(t=this[o=W[J]]))if(w=this.canTranslate?this.translateBlock(t,o):v(t),this.options.mergeOutput){if(o==="ifd1")continue;h(V,w)}else V[o]=w;return this.makerNote&&(V.makerNote=this.makerNote),this.userComment&&(V.userComment=this.userComment),V}},{key:"assignToOutput",value:function(t,o){if(this.globalOptions.mergeOutput)h(t,o);else{var w=S(o);Array.isArray(w)||(typeof w.entries=="function"&&(w=w.entries()),w=E(w));for(var V=0;V<w.length;V++){var W=w[V],J=W[0],ne=W[1];this.assignObjectToOutput(t,J,ne)}}}}],[{key:"canHandle",value:function(t,o){return t.getUint8(o+1)===225&&t.getUint32(o+4)===1165519206&&t.getUint16(o+8)===0}}]),p}(function(F){f(p,F);var a=T(p);function p(){return s(this,p),a.apply(this,arguments)}return c(p,[{key:"parseHeader",value:function(){var t=this.chunk.getUint16();t===18761?this.le=!0:t===19789&&(this.le=!1),this.chunk.le=this.le,this.headerParsed=!0}},{key:"parseTags",value:function(t,o){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Q(),V=this.options[o],W=V.pick,J=V.skip,ne=(W=$(W)).size>0,ae=J.size===0,ie=this.chunk.getUint16(t);t+=2;for(var le=0;le<ie;le++){var fe=this.chunk.getUint16(t);if(ne){if(W.has(fe)&&(w.set(fe,this.parseTag(t,fe,o)),W.delete(fe),W.size===0))break}else!ae&&J.has(fe)||w.set(fe,this.parseTag(t,fe,o));t+=12}return w}},{key:"parseTag",value:function(t,o,w){var V,W=this.chunk,J=W.getUint16(t+2),ne=W.getUint32(t+4),ae=Lt[J];if(ae*ne<=4?t+=8:t=W.getUint32(t+8),(J<1||J>13)&&e("Invalid TIFF value type. block: ".concat(w.toUpperCase(),", tag: ").concat(o.toString(16),", type: ").concat(J,", offset ").concat(t)),t>W.byteLength&&e("Invalid TIFF value offset. block: ".concat(w.toUpperCase(),", tag: ").concat(o.toString(16),", type: ").concat(J,", offset ").concat(t," is outside of chunk size ").concat(W.byteLength)),J===1)return W.getUint8Array(t,ne);if(J===2)return(V=function(de){for(;de.endsWith("\0");)de=de.slice(0,-1);return de}(V=W.getString(t,ne)).trim())===""?void 0:V;if(J===7)return W.getUint8Array(t,ne);if(ne===1)return this.parseTagValue(J,t);for(var ie=new(function(de){switch(de){case 1:return Uint8Array;case 3:return Uint16Array;case 4:return Uint32Array;case 5:return Array;case 6:return Int8Array;case 8:return Int16Array;case 9:return Int32Array;case 10:return Array;case 11:return Float32Array;case 12:return Float64Array;default:return Array}}(J))(ne),le=ae,fe=0;fe<ne;fe++)ie[fe]=this.parseTagValue(J,t),t+=le;return ie}},{key:"parseTagValue",value:function(t,o){var w=this.chunk;switch(t){case 1:return w.getUint8(o);case 3:return w.getUint16(o);case 4:return w.getUint32(o);case 5:return w.getUint32(o)/w.getUint32(o+4);case 6:return w.getInt8(o);case 8:return w.getInt16(o);case 9:return w.getInt32(o);case 10:return w.getInt32(o)/w.getInt32(o+4);case 11:return w.getFloat(o);case 12:return w.getDouble(o);case 13:return w.getUint32(o);default:e("Invalid tiff type ".concat(t))}}}]),p}(Ke));function wt(F,a,p,t){var o=F+a/60+p/3600;return t!=="S"&&t!=="W"||(o*=-1),o}d(ut,"type","tiff"),d(ut,"headerLength",10),j.set("tiff",ut);var jt=Object.freeze({__proto__:null,default:Ct,Exifr:Ge,fileParsers:O,segmentParsers:j,fileReaders:K,tagKeys:he,tagValues:me,tagRevivers:ge,createDictionary:xe,extendDictionary:ke,fetchUrlAsArrayBuffer:ce,readBlobAsArrayBuffer:ue,chunkedProps:je,otherSegments:Ye,segments:$e,tiffBlocks:Se,segmentsAndBlocks:ze,tiffExtractables:Ve,inheritables:Qe,allFormatters:We,Options:qe,parse:it});function De(F,a,p){return p?a?a(F):F:(F&&F.then||(F=Promise.resolve(F)),a?F.then(a):F)}function tt(F){return function(){for(var a=[],p=0;p<arguments.length;p++)a[p]=arguments[p];try{return Promise.resolve(F.apply(this,a))}catch(t){return Promise.reject(t)}}}var St=tt(function(F){var a=new Ge(Ft);return De(a.read(F),function(){return De(a.parse(),function(p){if(p&&p.ifd0)return p.ifd0[274]})})}),zt=tt(function(F){var a=new Ge(Pt);return De(a.read(F),function(){return De(a.parse(),function(p){if(p&&p.gps){var t=p.gps;return{latitude:t.latitude,longitude:t.longitude}}})})}),Vt=tt(function(F){return De(this.thumbnail(F),function(a){if(a!==void 0){var p=new Blob([a]);return URL.createObjectURL(p)}})}),Wt=tt(function(F){var a=new Ge(Ot);return De(a.read(F),function(){return De(a.extractThumbnail(),function(p){return p&&n?C.from(p):p})})}),rt={ifd0:!1,ifd1:!1,exif:!1,gps:!1,interop:!1,sanitize:!1,reviveValues:!0,translateKeys:!1,translateValues:!1,mergeOutput:!1},Pt=h({},rt,{firstChunkSize:4e4,gps:[1,2,3,4]}),Ft=h({},rt,{firstChunkSize:4e4,ifd0:[274]}),Ot=h({},rt,{tiff:!1,ifd1:!0,mergeOutput:!1}),xt=Object.freeze({1:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:0,rad:0},2:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:0,rad:0},3:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:180,rad:180*Math.PI/180},4:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:180,rad:180*Math.PI/180},5:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:90,rad:90*Math.PI/180},6:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:90,rad:90*Math.PI/180},7:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:270,rad:270*Math.PI/180},8:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:270,rad:270*Math.PI/180}});if(i.rotateCanvas=!0,i.rotateCss=!0,typeof navigator=="object"){var Ne=navigator.userAgent;if(Ne.includes("iPad")||Ne.includes("iPhone")){var lt=Ne.match(/OS (\d+)_(\d+)/);if(lt){var Ht=lt[1],Gt=lt[2],$t=Number(Ht)+.1*Number(Gt);i.rotateCanvas=$t<13.4,i.rotateCss=!1}}else if(Ne.includes("OS X 10")){var qt=Ne.match(/OS X 10[_.](\d+)/)[1];i.rotateCanvas=i.rotateCss=Number(qt)<15}if(Ne.includes("Chrome/")){var Kt=Ne.match(/Chrome\/(\d+)/)[1];i.rotateCanvas=i.rotateCss=Number(Kt)<81}else if(Ne.includes("Firefox/")){var Xt=Ne.match(/Firefox\/(\d+)/)[1];i.rotateCanvas=i.rotateCss=Number(Xt)<77}}function Yt(){}var Qt=function(F){f(p,F);var a=T(p);function p(){var t;s(this,p);for(var o=arguments.length,w=new Array(o),V=0;V<o;V++)w[V]=arguments[V];return d(B(t=a.call.apply(a,[this].concat(w))),"ranges",new Jt),t.byteLength!==0&&t.ranges.add(0,t.byteLength),t}return c(p,[{key:"_tryExtend",value:function(t,o,w){if(t===0&&this.byteLength===0&&w){var V=new DataView(w.buffer||w,w.byteOffset,w.byteLength);this._swapDataView(V)}else{var W=t+o;if(W>this.byteLength){var J=this._extend(W).dataView;this._swapDataView(J)}}}},{key:"_extend",value:function(t){var o;o=n?C.allocUnsafe(t):new Uint8Array(t);var w=new DataView(o.buffer,o.byteOffset,o.byteLength);return o.set(new Uint8Array(this.buffer,this.byteOffset,this.byteLength),0),{uintView:o,dataView:w}}},{key:"subarray",value:function(t,o){var w=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return o=o||this._lengthToEnd(t),w&&this._tryExtend(t,o),this.ranges.add(t,o),k(y(p.prototype),"subarray",this).call(this,t,o)}},{key:"set",value:function(t,o){var w=arguments.length>2&&arguments[2]!==void 0&&arguments[2];w&&this._tryExtend(o,t.byteLength,t);var V=k(y(p.prototype),"set",this).call(this,t,o);return this.ranges.add(o,V.byteLength),V}},{key:"ensureChunk",value:function(t,o){try{var w=this;return!w.chunked||w.ranges.available(t,o)?void 0:function(V,W){if(!W)return V&&V.then?V.then(Yt):Promise.resolve()}(w.readChunk(t,o))}catch(V){return Promise.reject(V)}}},{key:"available",value:function(t,o){return this.ranges.available(t,o)}}]),p}(te),Jt=function(){function F(){s(this,F),d(this,"list",[])}return c(F,[{key:"length",get:function(){return this.list.length}},{key:"add",value:function(a,p){var t=a+p,o=this.list.filter(function(V){return At(a,V.offset,t)||At(a,V.end,t)});if(o.length>0){a=Math.min.apply(Math,[a].concat(o.map(function(V){return V.offset}))),p=(t=Math.max.apply(Math,[t].concat(o.map(function(V){return V.end}))))-a;var w=o.shift();w.offset=a,w.length=p,w.end=t,this.list=this.list.filter(function(V){return!o.includes(V)})}else this.list.push({offset:a,length:p,end:t})}},{key:"available",value:function(a,p){var t=a+p;return this.list.some(function(o){return o.offset<=a&&t<=o.end})}}]),F}();function At(F,a,p){return F<=a&&a<=p}function Zt(){}function Tt(F,a){if(!a)return F&&F.then?F.then(Zt):Promise.resolve()}function Et(F,a,p){return p?a?a(F):F:(F&&F.then||(F=Promise.resolve(F)),a?F.then(a):F)}var er=function(F){f(p,F);var a=T(p);function p(){return s(this,p),a.apply(this,arguments)}return c(p,[{key:"readWhole",value:function(){try{var t=this;return t.chunked=!1,Et(ue(t.input),function(o){t._swapArrayBuffer(o)})}catch(o){return Promise.reject(o)}}},{key:"readChunked",value:function(){return this.chunked=!0,this.size=this.input.size,k(y(p.prototype),"readChunked",this).call(this)}},{key:"_readChunk",value:function(t,o){try{var w=this,V=o?t+o:void 0,W=w.input.slice(t,V);return Et(ue(W),function(J){return w.set(J,t,!0)})}catch(J){return Promise.reject(J)}}}]),p}(function(F){f(p,F);var a=T(p);function p(t,o){var w;return s(this,p),d(B(w=a.call(this,0)),"chunksRead",0),w.input=t,w.options=o,w}return c(p,[{key:"readWhole",value:function(){try{var t=this;return t.chunked=!1,Tt(t.readChunk(t.nextChunkOffset))}catch(o){return Promise.reject(o)}}},{key:"readChunked",value:function(){try{var t=this;return t.chunked=!0,Tt(t.readChunk(0,t.options.firstChunkSize))}catch(o){return Promise.reject(o)}}},{key:"readNextChunk",value:function(t){try{var o=this;if(t===void 0&&(t=o.nextChunkOffset),o.fullyRead)return o.chunksRead++,!1;var w=o.options.chunkSize;return V=o.readChunk(t,w),W=function(ne){return!!ne&&ne.byteLength===w},J?W?W(V):V:(V&&V.then||(V=Promise.resolve(V)),W?V.then(W):V)}catch(ne){return Promise.reject(ne)}var V,W,J}},{key:"readChunk",value:function(t,o){try{var w=this;return w.chunksRead++,(o=w.safeWrapAddress(t,o))===0?void 0:w._readChunk(t,o)}catch(V){return Promise.reject(V)}}},{key:"safeWrapAddress",value:function(t,o){return this.size!==void 0&&t+o>this.size?Math.max(0,this.size-t):o}},{key:"nextChunkOffset",get:function(){if(this.ranges.list.length!==0)return this.ranges.list[0].length}},{key:"canReadNextChunk",get:function(){return this.chunksRead<this.options.chunkLimit}},{key:"fullyRead",get:function(){return this.size!==void 0&&this.nextChunkOffset===this.size}},{key:"read",value:function(){return this.options.chunked?this.readChunked():this.readWhole()}},{key:"close",value:function(){}}]),p}(Qt));K.set("blob",er),i.Exifr=Ge,i.Options=qe,i.allFormatters=We,i.chunkedProps=je,i.createDictionary=xe,i.default=jt,i.disableAllOptions=rt,i.extendDictionary=ke,i.fetchUrlAsArrayBuffer=ce,i.fileParsers=O,i.fileReaders=K,i.gps=zt,i.gpsOnlyOptions=Pt,i.inheritables=Qe,i.orientation=St,i.orientationOnlyOptions=Ft,i.otherSegments=Ye,i.parse=it,i.readBlobAsArrayBuffer=ue,i.rotation=function(F){return De(St(F),function(a){return h({canvas:i.rotateCanvas,css:i.rotateCss},xt[a])})},i.rotations=xt,i.segmentParsers=j,i.segments=$e,i.segmentsAndBlocks=ze,i.tagKeys=he,i.tagRevivers=ge,i.tagValues=me,i.thumbnail=Wt,i.thumbnailOnlyOptions=Ot,i.thumbnailUrl=Vt,i.tiffBlocks=Se,i.tiffExtractables=Ve,Object.defineProperty(i,"__esModule",{value:!0})})},7426:function(N){N.exports=function(r,i){if(r===i)return!0;for(var s in r)if(!(s in i))return!1;for(var s in i)if(r[s]!==i[s])return!1;return!0}},1849:function(N,X,r){var i="Expected a function",s=0/0,b="[object Symbol]",c=/^\s+|\s+$/g,d=/^[-+]0x[0-9a-f]+$/i,f=/^0b[01]+$/i,y=/^0o[0-7]+$/i,u=parseInt,A=typeof r.g=="object"&&r.g&&r.g.Object===Object&&r.g,m=typeof self=="object"&&self&&self.Object===Object&&self,x=A||m||Function("return this")(),B=Object.prototype,U=B.toString,T=Math.max,k=Math.min,l=function(){return x.Date.now()};function S(z,H,$){var Q,G,I,D,M,P,C=0,n=!1,g=!1,R=!0;if(typeof z!="function")throw new TypeError(i);H=_(H)||0,h($)&&(n=!!$.leading,g="maxWait"in $,I=g?T(_($.maxWait)||0,H):I,R="trailing"in $?!!$.trailing:R);function e(j){var K=Q,ee=G;return Q=G=void 0,C=j,D=z.apply(ee,K),D}function Z(j){return C=j,M=setTimeout(Y,H),n?e(j):D}function L(j){var K=j-P,ee=j-C,oe=H-K;return g?k(oe,I-ee):oe}function q(j){var K=j-P,ee=j-C;return P===void 0||K>=H||K<0||g&&ee>=I}function Y(){var j=l();if(q(j))return te(j);M=setTimeout(Y,L(j))}function te(j){return M=void 0,R&&Q?e(j):(Q=G=void 0,D)}function re(){M!==void 0&&clearTimeout(M),C=0,Q=P=G=M=void 0}function se(){return M===void 0?D:te(l())}function O(){var j=l(),K=q(j);if(Q=arguments,G=this,P=j,K){if(M===void 0)return Z(P);if(g)return M=setTimeout(Y,H),e(P)}return M===void 0&&(M=setTimeout(Y,H)),D}return O.cancel=re,O.flush=se,O}function h(z){var H=typeof z;return!!z&&(H=="object"||H=="function")}function v(z){return!!z&&typeof z=="object"}function E(z){return typeof z=="symbol"||v(z)&&U.call(z)==b}function _(z){if(typeof z=="number")return z;if(E(z))return s;if(h(z)){var H=typeof z.valueOf=="function"?z.valueOf():z;z=h(H)?H+"":H}if(typeof z!="string")return z===0?z:+z;z=z.replace(c,"");var $=f.test(z);return $||y.test(z)?u(z.slice(2),$?2:8):d.test(z)?s:+z}N.exports=S},6818:function(N,X,r){var i="Expected a function",s=0/0,b="[object Symbol]",c=/^\s+|\s+$/g,d=/^[-+]0x[0-9a-f]+$/i,f=/^0b[01]+$/i,y=/^0o[0-7]+$/i,u=parseInt,A=typeof r.g=="object"&&r.g&&r.g.Object===Object&&r.g,m=typeof self=="object"&&self&&self.Object===Object&&self,x=A||m||Function("return this")(),B=Object.prototype,U=B.toString,T=Math.max,k=Math.min,l=function(){return x.Date.now()};function S(H,$,Q){var G,I,D,M,P,C,n=0,g=!1,R=!1,e=!0;if(typeof H!="function")throw new TypeError(i);$=z($)||0,v(Q)&&(g=!!Q.leading,R="maxWait"in Q,D=R?T(z(Q.maxWait)||0,$):D,e="trailing"in Q?!!Q.trailing:e);function Z(K){var ee=G,oe=I;return G=I=void 0,n=K,M=H.apply(oe,ee),M}function L(K){return n=K,P=setTimeout(te,$),g?Z(K):M}function q(K){var ee=K-C,oe=K-n,ue=$-ee;return R?k(ue,D-oe):ue}function Y(K){var ee=K-C,oe=K-n;return C===void 0||ee>=$||ee<0||R&&oe>=D}function te(){var K=l();if(Y(K))return re(K);P=setTimeout(te,q(K))}function re(K){return P=void 0,e&&G?Z(K):(G=I=void 0,M)}function se(){P!==void 0&&clearTimeout(P),n=0,G=C=I=P=void 0}function O(){return P===void 0?M:re(l())}function j(){var K=l(),ee=Y(K);if(G=arguments,I=this,C=K,ee){if(P===void 0)return L(C);if(R)return P=setTimeout(te,$),Z(C)}return P===void 0&&(P=setTimeout(te,$)),M}return j.cancel=se,j.flush=O,j}function h(H,$,Q){var G=!0,I=!0;if(typeof H!="function")throw new TypeError(i);return v(Q)&&(G="leading"in Q?!!Q.leading:G,I="trailing"in Q?!!Q.trailing:I),S(H,$,{leading:G,maxWait:$,trailing:I})}function v(H){var $=typeof H;return!!H&&($=="object"||$=="function")}function E(H){return!!H&&typeof H=="object"}function _(H){return typeof H=="symbol"||E(H)&&U.call(H)==b}function z(H){if(typeof H=="number")return H;if(_(H))return s;if(v(H)){var $=typeof H.valueOf=="function"?H.valueOf():H;H=v($)?$+"":$}if(typeof H!="string")return H===0?H:+H;H=H.replace(c,"");var Q=f.test(H);return Q||y.test(H)?u(H.slice(2),Q?2:8):d.test(H)?s:+H}N.exports=h},1774:function(N){"use strict";N.exports=Math.log2||function(X){return Math.log(X)*Math.LOG2E}},6637:function(N,X,r){"use strict";r.r(X);function i(b,c){if(b.length!==c.length)return!1;for(var d=0;d<b.length;d++)if(b[d]!==c[d])return!1;return!0}function s(b,c){c===void 0&&(c=i);var d,f=[],y,u=!1;function A(){for(var m=[],x=0;x<arguments.length;x++)m[x]=arguments[x];return u&&d===this&&c(m,f)||(y=b.apply(this,m),u=!0,d=this,f=m),y}return A}X.default=s},8385:function(N,X,r){var i=r(154),s=/[\/\+\.]/;N.exports=function(b,c){function d(f){var y=i(f,b,s);return y&&y.length>=2}return c?d(c.split(";")[0]):d}},4944:function(N){N.exports=function(){var r={},i=r._fns={};r.emit=function(d,f,y,u,A,m,x){var B=s(d);B.length&&b(d,B,[f,y,u,A,m,x])},r.on=function(d,f){i[d]||(i[d]=[]),i[d].push(f)},r.once=function(d,f){function y(){f.apply(this,arguments),r.off(d,y)}this.on(d,y)},r.off=function(d,f){var y=[];if(d&&f){var u=this._fns[d],A=0,m=u?u.length:0;for(A;A<m;A++)u[A]!==f&&y.push(u[A])}y.length?this._fns[d]=y:delete this._fns[d]};function s(c){var d=i[c]?i[c]:[],f=c.indexOf(":"),y=f===-1?[c]:[c.substring(0,f),c.substring(f+1)],u=Object.keys(i),A=0,m=u.length;for(A;A<m;A++){var x=u[A];if(x==="*"&&(d=d.concat(i[x])),y.length===2&&y[0]===x){d=d.concat(i[x]);break}}return d}function b(c,d,f){var y=0,u=d.length;for(y;y<u&&d[y];y++)d[y].event=c,d[y].apply(d[y],f)}return r}},3562:function(N,X,r){"use strict";r.r(X),r.d(X,{h:function(){return d},createElement:function(){return d},cloneElement:function(){return u},Component:function(){return te},render:function(){return re},rerender:function(){return B},options:function(){return s}});function i(){}var s={},b=[],c=[];function d(O,j){var K=c,ee,oe,ue,ce;for(ce=arguments.length;ce-- >2;)b.push(arguments[ce]);for(j&&j.children!=null&&(b.length||b.push(j.children),delete j.children);b.length;)if((oe=b.pop())&&oe.pop!==void 0)for(ce=oe.length;ce--;)b.push(oe[ce]);else typeof oe=="boolean"&&(oe=null),(ue=typeof O!="function")&&(oe==null?oe="":typeof oe=="number"?oe=String(oe):typeof oe!="string"&&(ue=!1)),ue&&ee?K[K.length-1]+=oe:K===c?K=[oe]:K.push(oe),ee=ue;var pe=new i;return pe.nodeName=O,pe.children=K,pe.attributes=j??void 0,pe.key=j==null?void 0:j.key,s.vnode!==void 0&&s.vnode(pe),pe}function f(O,j){for(var K in j)O[K]=j[K];return O}var y=typeof Promise=="function"?Promise.resolve().then.bind(Promise.resolve()):setTimeout;function u(O,j){return d(O.nodeName,f(f({},O.attributes),j),arguments.length>2?[].slice.call(arguments,2):O.children)}var A=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,m=[];function x(O){!O._dirty&&(O._dirty=!0)&&m.push(O)==1&&(s.debounceRendering||y)(B)}function B(){var O,j=m;for(m=[];O=j.pop();)O._dirty&&L(O)}function U(O,j,K){return typeof j=="string"||typeof j=="number"?O.splitText!==void 0:typeof j.nodeName=="string"?!O._componentConstructor&&T(O,j.nodeName):K||O._componentConstructor===j.nodeName}function T(O,j){return O.normalizedNodeName===j||O.nodeName.toLowerCase()===j.toLowerCase()}function k(O){var j=f({},O.attributes);j.children=O.children;var K=O.nodeName.defaultProps;if(K!==void 0)for(var ee in K)j[ee]===void 0&&(j[ee]=K[ee]);return j}function l(O,j){var K=j?document.createElementNS("http://www.w3.org/2000/svg",O):document.createElement(O);return K.normalizedNodeName=O,K}function S(O){var j=O.parentNode;j&&j.removeChild(O)}function h(O,j,K,ee,oe){if(j==="className"&&(j="class"),j!=="key")if(j==="ref")K&&K(null),ee&&ee(O);else if(j==="class"&&!oe)O.className=ee||"";else if(j==="style"){if((!ee||typeof ee=="string"||typeof K=="string")&&(O.style.cssText=ee||""),ee&&typeof ee=="object"){if(typeof K!="string")for(var ue in K)ue in ee||(O.style[ue]="");for(var ue in ee)O.style[ue]=typeof ee[ue]=="number"&&A.test(ue)===!1?ee[ue]+"px":ee[ue]}}else if(j==="dangerouslySetInnerHTML")ee&&(O.innerHTML=ee.__html||"");else if(j[0]=="o"&&j[1]=="n"){var ce=j!==(j=j.replace(/Capture$/,""));j=j.toLowerCase().substring(2),ee?K||O.addEventListener(j,E,ce):O.removeEventListener(j,E,ce),(O._listeners||(O._listeners={}))[j]=ee}else if(j!=="list"&&j!=="type"&&!oe&&j in O)v(O,j,ee??""),(ee==null||ee===!1)&&O.removeAttribute(j);else{var pe=oe&&j!==(j=j.replace(/^xlink:?/,""));ee==null||ee===!1?pe?O.removeAttributeNS("http://www.w3.org/1999/xlink",j.toLowerCase()):O.removeAttribute(j):typeof ee!="function"&&(pe?O.setAttributeNS("http://www.w3.org/1999/xlink",j.toLowerCase(),ee):O.setAttribute(j,ee))}}function v(O,j,K){try{O[j]=K}catch(ee){}}function E(O){return this._listeners[O.type](s.event&&s.event(O)||O)}var _=[],z=0,H=!1,$=!1;function Q(){for(var O;O=_.pop();)s.afterMount&&s.afterMount(O),O.componentDidMount&&O.componentDidMount()}function G(O,j,K,ee,oe,ue){z++||(H=oe!=null&&oe.ownerSVGElement!==void 0,$=O!=null&&!("__preactattr_"in O));var ce=I(O,j,K,ee,ue);return oe&&ce.parentNode!==oe&&oe.appendChild(ce),--z||($=!1,ue||Q()),ce}function I(O,j,K,ee,oe){var ue=O,ce=H;if((j==null||typeof j=="boolean")&&(j=""),typeof j=="string"||typeof j=="number")return O&&O.splitText!==void 0&&O.parentNode&&(!O._component||oe)?O.nodeValue!=j&&(O.nodeValue=j):(ue=document.createTextNode(j),O&&(O.parentNode&&O.parentNode.replaceChild(ue,O),M(O,!0))),ue.__preactattr_=!0,ue;var pe=j.nodeName;if(typeof pe=="function")return q(O,j,K,ee);if(H=pe==="svg"?!0:pe==="foreignObject"?!1:H,pe=String(pe),(!O||!T(O,pe))&&(ue=l(pe,H),O)){for(;O.firstChild;)ue.appendChild(O.firstChild);O.parentNode&&O.parentNode.replaceChild(ue,O),M(O,!0)}var ve=ue.firstChild,ye=ue.__preactattr_,we=j.children;if(ye==null){ye=ue.__preactattr_={};for(var Fe=ue.attributes,be=Fe.length;be--;)ye[Fe[be].name]=Fe[be].value}return!$&&we&&we.length===1&&typeof we[0]=="string"&&ve!=null&&ve.splitText!==void 0&&ve.nextSibling==null?ve.nodeValue!=we[0]&&(ve.nodeValue=we[0]):(we&&we.length||ve!=null)&&D(ue,we,K,ee,$||ye.dangerouslySetInnerHTML!=null),C(ue,j.attributes,ye),H=ce,ue}function D(O,j,K,ee,oe){var ue=O.childNodes,ce=[],pe={},ve=0,ye=0,we=ue.length,Fe=0,be=j?j.length:0,xe,ke,he,me,ge;if(we!==0)for(var Pe=0;Pe<we;Pe++){var Oe=ue[Pe],Ae=Oe.__preactattr_,Te=be&&Ae?Oe._component?Oe._component.__key:Ae.key:null;Te!=null?(ve++,pe[Te]=Oe):(Ae||(Oe.splitText!==void 0?oe?Oe.nodeValue.trim():!0:oe))&&(ce[Fe++]=Oe)}if(be!==0)for(var Pe=0;Pe<be;Pe++){me=j[Pe],ge=null;var Te=me.key;if(Te!=null)ve&&pe[Te]!==void 0&&(ge=pe[Te],pe[Te]=void 0,ve--);else if(!ge&&ye<Fe){for(xe=ye;xe<Fe;xe++)if(ce[xe]!==void 0&&U(ke=ce[xe],me,oe)){ge=ke,ce[xe]=void 0,xe===Fe-1&&Fe--,xe===ye&&ye++;break}}ge=I(ge,me,K,ee),he=ue[Pe],ge&&ge!==O&&ge!==he&&(he==null?O.appendChild(ge):ge===he.nextSibling?S(he):O.insertBefore(ge,he))}if(ve)for(var Pe in pe)pe[Pe]!==void 0&&M(pe[Pe],!1);for(;ye<=Fe;)(ge=ce[Fe--])!==void 0&&M(ge,!1)}function M(O,j){var K=O._component;K?Y(K):(O.__preactattr_!=null&&O.__preactattr_.ref&&O.__preactattr_.ref(null),(j===!1||O.__preactattr_==null)&&S(O),P(O))}function P(O){for(O=O.lastChild;O;){var j=O.previousSibling;M(O,!0),O=j}}function C(O,j,K){var ee;for(ee in K)!(j&&j[ee]!=null)&&K[ee]!=null&&h(O,ee,K[ee],K[ee]=void 0,H);for(ee in j)ee!=="children"&&ee!=="innerHTML"&&(!(ee in K)||j[ee]!==(ee==="value"||ee==="checked"?O[ee]:K[ee]))&&h(O,ee,K[ee],K[ee]=j[ee],H)}var n={};function g(O){var j=O.constructor.name;(n[j]||(n[j]=[])).push(O)}function R(O,j,K){var ee=n[O.name],oe;if(O.prototype&&O.prototype.render?(oe=new O(j,K),te.call(oe,j,K)):(oe=new te(j,K),oe.constructor=O,oe.render=e),ee){for(var ue=ee.length;ue--;)if(ee[ue].constructor===O){oe.nextBase=ee[ue].nextBase,ee.splice(ue,1);break}}return oe}function e(O,j,K){return this.constructor(O,K)}function Z(O,j,K,ee,oe){O._disable||(O._disable=!0,(O.__ref=j.ref)&&delete j.ref,(O.__key=j.key)&&delete j.key,!O.base||oe?O.componentWillMount&&O.componentWillMount():O.componentWillReceiveProps&&O.componentWillReceiveProps(j,ee),ee&&ee!==O.context&&(O.prevContext||(O.prevContext=O.context),O.context=ee),O.prevProps||(O.prevProps=O.props),O.props=j,O._disable=!1,K!==0&&(K===1||s.syncComponentUpdates!==!1||!O.base?L(O,1,oe):x(O)),O.__ref&&O.__ref(O))}function L(O,j,K,ee){if(!O._disable){var oe=O.props,ue=O.state,ce=O.context,pe=O.prevProps||oe,ve=O.prevState||ue,ye=O.prevContext||ce,we=O.base,Fe=O.nextBase,be=we||Fe,xe=O._component,ke=!1,he,me,ge;if(we&&(O.props=pe,O.state=ve,O.context=ye,j!==2&&O.shouldComponentUpdate&&O.shouldComponentUpdate(oe,ue,ce)===!1?ke=!0:O.componentWillUpdate&&O.componentWillUpdate(oe,ue,ce),O.props=oe,O.state=ue,O.context=ce),O.prevProps=O.prevState=O.prevContext=O.nextBase=null,O._dirty=!1,!ke){he=O.render(oe,ue,ce),O.getChildContext&&(ce=f(f({},ce),O.getChildContext()));var Pe=he&&he.nodeName,Oe,Ae;if(typeof Pe=="function"){var Te=k(he);me=xe,me&&me.constructor===Pe&&Te.key==me.__key?Z(me,Te,1,ce,!1):(Oe=me,O._component=me=R(Pe,Te,ce),me.nextBase=me.nextBase||Fe,me._parentComponent=O,Z(me,Te,0,ce,!1),L(me,1,K,!0)),Ae=me.base}else ge=be,Oe=xe,Oe&&(ge=O._component=null),(be||j===1)&&(ge&&(ge._component=null),Ae=G(ge,he,ce,K||!we,be&&be.parentNode,!0));if(be&&Ae!==be&&me!==xe){var _e=be.parentNode;_e&&Ae!==_e&&(_e.replaceChild(Ae,be),Oe||(be._component=null,M(be,!1)))}if(Oe&&Y(Oe),O.base=Ae,Ae&&!ee){for(var Le=O,Ie=O;Ie=Ie._parentComponent;)(Le=Ie).base=Ae;Ae._component=Le,Ae._componentConstructor=Le.constructor}}if(!we||K?_.unshift(O):ke||(O.componentDidUpdate&&O.componentDidUpdate(pe,ve,ye),s.afterUpdate&&s.afterUpdate(O)),O._renderCallbacks!=null)for(;O._renderCallbacks.length;)O._renderCallbacks.pop().call(O);!z&&!ee&&Q()}}function q(O,j,K,ee){for(var oe=O&&O._component,ue=oe,ce=O,pe=oe&&O._componentConstructor===j.nodeName,ve=pe,ye=k(j);oe&&!ve&&(oe=oe._parentComponent);)ve=oe.constructor===j.nodeName;return oe&&ve&&(!ee||oe._component)?(Z(oe,ye,3,K,ee),O=oe.base):(ue&&!pe&&(Y(ue),O=ce=null),oe=R(j.nodeName,ye,K),O&&!oe.nextBase&&(oe.nextBase=O,ce=null),Z(oe,ye,1,K,ee),O=oe.base,ce&&O!==ce&&(ce._component=null,M(ce,!1))),O}function Y(O){s.beforeUnmount&&s.beforeUnmount(O);var j=O.base;O._disable=!0,O.componentWillUnmount&&O.componentWillUnmount(),O.base=null;var K=O._component;K?Y(K):j&&(j.__preactattr_&&j.__preactattr_.ref&&j.__preactattr_.ref(null),O.nextBase=j,S(j),g(O),P(j)),O.__ref&&O.__ref(null)}function te(O,j){this._dirty=!0,this.context=j,this.props=O,this.state=this.state||{}}f(te.prototype,{setState:function(j,K){var ee=this.state;this.prevState||(this.prevState=f({},ee)),f(ee,typeof j=="function"?j(ee,this.props):j),K&&(this._renderCallbacks=this._renderCallbacks||[]).push(K),x(this)},forceUpdate:function(j){j&&(this._renderCallbacks=this._renderCallbacks||[]).push(j),L(this,2)},render:function(){}});function re(O,j,K){return G(K,O,{},!1,j,!1)}var se={h:d,createElement:d,cloneElement:u,Component:te,render:re,rerender:B,options:s};X.default=se},8451:function(N){var X=Object.prototype.hasOwnProperty;N.exports=function r(i,s){var b=[];for(var c in i)if(!!X.call(i,c)){var d=i[c],f=encodeURIComponent(c),y;typeof d=="object"?y=r(d,s?s+"["+f+"]":f):y=(s?s+"["+f+"]":f)+"="+encodeURIComponent(d),b.push(y)}return b.join("&")}},513:function(N,X){"use strict";var r=Object.prototype.hasOwnProperty,i;function s(f){try{return decodeURIComponent(f.replace(/\+/g," "))}catch(y){return null}}function b(f){try{return encodeURIComponent(f)}catch(y){return null}}function c(f){for(var y=/([^=?#&]+)=?([^&]*)/g,u={},A;A=y.exec(f);){var m=s(A[1]),x=s(A[2]);m===null||x===null||m in u||(u[m]=x)}return u}function d(f,y){y=y||"";var u=[],A,m;typeof y!="string"&&(y="?");for(m in f)if(r.call(f,m)){if(A=f[m],!A&&(A===null||A===i||isNaN(A))&&(A=""),m=b(m),A=b(A),m===null||A===null)continue;u.push(m+"="+A)}return u.length?y+u.join("&"):""}X.stringify=d,X.parse=c},1211:function(N){"use strict";N.exports=function(r,i){if(i=i.split(":")[0],r=+r,!r)return!1;switch(i){case"http":case"ws":return r!==80;case"https":case"wss":return r!==443;case"ftp":return r!==21;case"gopher":return r!==70;case"file":return!1}return r!==0}},5711:function(N,X,r){"use strict";r.r(X);var i=function(){if(typeof Map!="undefined")return Map;function P(C,n){var g=-1;return C.some(function(R,e){return R[0]===n?(g=e,!0):!1}),g}return function(){function C(){this.__entries__=[]}return Object.defineProperty(C.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),C.prototype.get=function(n){var g=P(this.__entries__,n),R=this.__entries__[g];return R&&R[1]},C.prototype.set=function(n,g){var R=P(this.__entries__,n);~R?this.__entries__[R][1]=g:this.__entries__.push([n,g])},C.prototype.delete=function(n){var g=this.__entries__,R=P(g,n);~R&&g.splice(R,1)},C.prototype.has=function(n){return!!~P(this.__entries__,n)},C.prototype.clear=function(){this.__entries__.splice(0)},C.prototype.forEach=function(n,g){g===void 0&&(g=null);for(var R=0,e=this.__entries__;R<e.length;R++){var Z=e[R];n.call(g,Z[1],Z[0])}},C}()}(),s=typeof window!="undefined"&&typeof document!="undefined"&&window.document===document,b=function(){return typeof r.g!="undefined"&&r.g.Math===Math?r.g:typeof self!="undefined"&&self.Math===Math?self:typeof window!="undefined"&&window.Math===Math?window:Function("return this")()}(),c=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(b):function(P){return setTimeout(function(){return P(Date.now())},1e3/60)}}(),d=2;function f(P,C){var n=!1,g=!1,R=0;function e(){n&&(n=!1,P()),g&&L()}function Z(){c(e)}function L(){var q=Date.now();if(n){if(q-R<d)return;g=!0}else n=!0,g=!1,setTimeout(Z,C);R=q}return L}var y=20,u=["top","right","bottom","left","width","height","size","weight"],A=typeof MutationObserver!="undefined",m=function(){function P(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=f(this.refresh.bind(this),y)}return P.prototype.addObserver=function(C){~this.observers_.indexOf(C)||this.observers_.push(C),this.connected_||this.connect_()},P.prototype.removeObserver=function(C){var n=this.observers_,g=n.indexOf(C);~g&&n.splice(g,1),!n.length&&this.connected_&&this.disconnect_()},P.prototype.refresh=function(){var C=this.updateObservers_();C&&this.refresh()},P.prototype.updateObservers_=function(){var C=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return C.forEach(function(n){return n.broadcastActive()}),C.length>0},P.prototype.connect_=function(){!s||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),A?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},P.prototype.disconnect_=function(){!s||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},P.prototype.onTransitionEnd_=function(C){var n=C.propertyName,g=n===void 0?"":n,R=u.some(function(e){return!!~g.indexOf(e)});R&&this.refresh()},P.getInstance=function(){return this.instance_||(this.instance_=new P),this.instance_},P.instance_=null,P}(),x=function(P,C){for(var n=0,g=Object.keys(C);n<g.length;n++){var R=g[n];Object.defineProperty(P,R,{value:C[R],enumerable:!1,writable:!1,configurable:!0})}return P},B=function(P){var C=P&&P.ownerDocument&&P.ownerDocument.defaultView;return C||b},U=H(0,0,0,0);function T(P){return parseFloat(P)||0}function k(P){for(var C=[],n=1;n<arguments.length;n++)C[n-1]=arguments[n];return C.reduce(function(g,R){var e=P["border-"+R+"-width"];return g+T(e)},0)}function l(P){for(var C=["top","right","bottom","left"],n={},g=0,R=C;g<R.length;g++){var e=R[g],Z=P["padding-"+e];n[e]=T(Z)}return n}function S(P){var C=P.getBBox();return H(0,0,C.width,C.height)}function h(P){var C=P.clientWidth,n=P.clientHeight;if(!C&&!n)return U;var g=B(P).getComputedStyle(P),R=l(g),e=R.left+R.right,Z=R.top+R.bottom,L=T(g.width),q=T(g.height);if(g.boxSizing==="border-box"&&(Math.round(L+e)!==C&&(L-=k(g,"left","right")+e),Math.round(q+Z)!==n&&(q-=k(g,"top","bottom")+Z)),!E(P)){var Y=Math.round(L+e)-C,te=Math.round(q+Z)-n;Math.abs(Y)!==1&&(L-=Y),Math.abs(te)!==1&&(q-=te)}return H(R.left,R.top,L,q)}var v=function(){return typeof SVGGraphicsElement!="undefined"?function(P){return P instanceof B(P).SVGGraphicsElement}:function(P){return P instanceof B(P).SVGElement&&typeof P.getBBox=="function"}}();function E(P){return P===B(P).document.documentElement}function _(P){return s?v(P)?S(P):h(P):U}function z(P){var C=P.x,n=P.y,g=P.width,R=P.height,e=typeof DOMRectReadOnly!="undefined"?DOMRectReadOnly:Object,Z=Object.create(e.prototype);return x(Z,{x:C,y:n,width:g,height:R,top:n,right:C+g,bottom:R+n,left:C}),Z}function H(P,C,n,g){return{x:P,y:C,width:n,height:g}}var $=function(){function P(C){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=H(0,0,0,0),this.target=C}return P.prototype.isActive=function(){var C=_(this.target);return this.contentRect_=C,C.width!==this.broadcastWidth||C.height!==this.broadcastHeight},P.prototype.broadcastRect=function(){var C=this.contentRect_;return this.broadcastWidth=C.width,this.broadcastHeight=C.height,C},P}(),Q=function(){function P(C,n){var g=z(n);x(this,{target:C,contentRect:g})}return P}(),G=function(){function P(C,n,g){if(this.activeObservations_=[],this.observations_=new i,typeof C!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=C,this.controller_=n,this.callbackCtx_=g}return P.prototype.observe=function(C){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element=="undefined"||!(Element instanceof Object))){if(!(C instanceof B(C).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(C)||(n.set(C,new $(C)),this.controller_.addObserver(this),this.controller_.refresh())}},P.prototype.unobserve=function(C){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element=="undefined"||!(Element instanceof Object))){if(!(C instanceof B(C).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;!n.has(C)||(n.delete(C),n.size||this.controller_.removeObserver(this))}},P.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},P.prototype.gatherActive=function(){var C=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&C.activeObservations_.push(n)})},P.prototype.broadcastActive=function(){if(!!this.hasActive()){var C=this.callbackCtx_,n=this.activeObservations_.map(function(g){return new Q(g.target,g.broadcastRect())});this.callback_.call(C,n,C),this.clearActive()}},P.prototype.clearActive=function(){this.activeObservations_.splice(0)},P.prototype.hasActive=function(){return this.activeObservations_.length>0},P}(),I=typeof WeakMap!="undefined"?new WeakMap:new i,D=function(){function P(C){if(!(this instanceof P))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=m.getInstance(),g=new G(C,n,this);I.set(this,g)}return P}();["observe","unobserve","disconnect"].forEach(function(P){D.prototype[P]=function(){var C;return(C=I.get(this))[P].apply(C,arguments)}});var M=function(){return typeof b.ResizeObserver!="undefined"?b.ResizeObserver:D}();X.default=M},6338:function(N,X,r){"use strict";var i=r(1211),s=r(513),b=/^[A-Za-z][A-Za-z0-9+-.]*:[\\/]+/,c=/^([a-z][a-z0-9.+-]*:)?([\\/]{1,})?([\S\s]*)/i,d="[\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]",f=new RegExp("^"+d+"+");function y(l){return(l||"").toString().replace(f,"")}var u=[["#","hash"],["?","query"],function(S){return S.replace("\\","/")},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],A={hash:1,query:1};function m(l){var S;typeof window!="undefined"?S=window:typeof r.g!="undefined"?S=r.g:typeof self!="undefined"?S=self:S={};var h=S.location||{};l=l||h;var v={},E=typeof l,_;if(l.protocol==="blob:")v=new U(unescape(l.pathname),{});else if(E==="string"){v=new U(l,{});for(_ in A)delete v[_]}else if(E==="object"){for(_ in l)_ in A||(v[_]=l[_]);v.slashes===void 0&&(v.slashes=b.test(l.href))}return v}function x(l){l=y(l);var S=c.exec(l),h=S[1]?S[1].toLowerCase():"",v=!!(S[2]&&S[2].length>=2),E=S[2]&&S[2].length===1?"/"+S[3]:S[3];return{protocol:h,slashes:v,rest:E}}function B(l,S){if(l==="")return S;for(var h=(S||"/").split("/").slice(0,-1).concat(l.split("/")),v=h.length,E=h[v-1],_=!1,z=0;v--;)h[v]==="."?h.splice(v,1):h[v]===".."?(h.splice(v,1),z++):z&&(v===0&&(_=!0),h.splice(v,1),z--);return _&&h.unshift(""),(E==="."||E==="..")&&h.push(""),h.join("/")}function U(l,S,h){if(l=y(l),!(this instanceof U))return new U(l,S,h);var v,E,_,z,H,$,Q=u.slice(),G=typeof S,I=this,D=0;for(G!=="object"&&G!=="string"&&(h=S,S=null),h&&typeof h!="function"&&(h=s.parse),S=m(S),E=x(l||""),v=!E.protocol&&!E.slashes,I.slashes=E.slashes||v&&S.slashes,I.protocol=E.protocol||S.protocol||"",l=E.rest,E.slashes||(Q[3]=[/(.*)/,"pathname"]);D<Q.length;D++){if(z=Q[D],typeof z=="function"){l=z(l);continue}_=z[0],$=z[1],_!==_?I[$]=l:typeof _=="string"?~(H=l.indexOf(_))&&(typeof z[2]=="number"?(I[$]=l.slice(0,H),l=l.slice(H+z[2])):(I[$]=l.slice(H),l=l.slice(0,H))):(H=_.exec(l))&&(I[$]=H[1],l=l.slice(0,H.index)),I[$]=I[$]||v&&z[3]&&S[$]||"",z[4]&&(I[$]=I[$].toLowerCase())}h&&(I.query=h(I.query)),v&&S.slashes&&I.pathname.charAt(0)!=="/"&&(I.pathname!==""||S.pathname!=="")&&(I.pathname=B(I.pathname,S.pathname)),I.pathname.charAt(0)!=="/"&&I.hostname&&(I.pathname="/"+I.pathname),i(I.port,I.protocol)||(I.host=I.hostname,I.port=""),I.username=I.password="",I.auth&&(z=I.auth.split(":"),I.username=z[0]||"",I.password=z[1]||""),I.origin=I.protocol&&I.host&&I.protocol!=="file:"?I.protocol+"//"+I.host:"null",I.href=I.toString()}function T(l,S,h){var v=this;switch(l){case"query":typeof S=="string"&&S.length&&(S=(h||s.parse)(S)),v[l]=S;break;case"port":v[l]=S,i(S,v.protocol)?S&&(v.host=v.hostname+":"+S):(v.host=v.hostname,v[l]="");break;case"hostname":v[l]=S,v.port&&(S+=":"+v.port),v.host=S;break;case"host":v[l]=S,/:\d+$/.test(S)?(S=S.split(":"),v.port=S.pop(),v.hostname=S.join(":")):(v.hostname=S,v.port="");break;case"protocol":v.protocol=S.toLowerCase(),v.slashes=!h;break;case"pathname":case"hash":if(S){var E=l==="pathname"?"/":"#";v[l]=S.charAt(0)!==E?E+S:S}else v[l]=S;break;default:v[l]=S}for(var _=0;_<u.length;_++){var z=u[_];z[4]&&(v[z[1]]=v[z[1]].toLowerCase())}return v.origin=v.protocol&&v.host&&v.protocol!=="file:"?v.protocol+"//"+v.host:"null",v.href=v.toString(),v}function k(l){(!l||typeof l!="function")&&(l=s.stringify);var S,h=this,v=h.protocol;v&&v.charAt(v.length-1)!==":"&&(v+=":");var E=v+(h.slashes?"//":"");return h.username&&(E+=h.username,h.password&&(E+=":"+h.password),E+="@"),E+=h.host+h.pathname,S=typeof h.query=="object"?l(h.query):h.query,S&&(E+=S.charAt(0)!=="?"?"?"+S:S),h.hash&&(E+=h.hash),E}U.prototype={set:T,toString:k},U.extractProtocol=x,U.location=m,U.trimLeft=y,U.qs=s,N.exports=U},154:function(N){"use strict";function X(r,i){this.text=r=r||"",this.hasWild=~r.indexOf("*"),this.separator=i,this.parts=r.split(i)}X.prototype.match=function(r){var i=!0,s=this.parts,b,c=s.length,d;if(typeof r=="string"||r instanceof String)if(!this.hasWild&&this.text!=r)i=!1;else{for(d=(r||"").split(this.separator),b=0;i&&b<c;b++)s[b]!=="*"&&(b<d.length?i=s[b]===d[b]:i=!1);i=i&&d}else if(typeof r.splice=="function")for(i=[],b=r.length;b--;)this.match(r[b])&&(i[i.length]=r[b]);else if(typeof r=="object"){i={};for(var f in r)this.match(f)&&(i[f]=r[f])}return i},N.exports=function(r,i,s){var b=new X(r,s||/[\/\.]/);return typeof i!="undefined"?b.match(i):b}}}]);
